/*! For license information please see EditPage.eac0fae6a885a9711588.js.LICENSE.txt */
"use strict";(self.webpackChunkdr_pe_questionnaire_editor=self.webpackChunkdr_pe_questionnaire_editor||[]).push([[0],{667:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Px});var r=n(0),o=n(1),i=n(3),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(e){var t=e.direction,n=void 0===t?"column":t,o=e.children;return(0,r.jsx)("div",a({style:{display:"flex",flexDirection:n,boxSizing:"border-box",overflow:"hidden"}},{children:o}))};var c=n(847),l=n(2);const d=function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t.join(" ")},u="sash_container",p="sash_line",f="sash_line_hover",h="sash_line_left",m="sash_line_right",v="sash_line_drag";var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x.apply(this,arguments)},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const y=function(e){var t,n=e.position,i=e.className,a=e.saveName,s=e.minWidth,c=void 0===s?"20.8rem":s,y=e.maxWidth,j=void 0===y?"64rem":y,b=e.children,N=g((0,o.useState)(!1),2),S=N[0],_=N[1],O=g((0,o.useState)(!1),2),w=O[0],C=O[1],I=(0,o.useRef)(null),k=g((0,o.useState)(0),2),A=k[0],P=k[1];(0,o.useEffect)((function(){if(a){var e=Number(window.localStorage.getItem(a));isNaN(e)||P(e)}}),[a]);var T=function(e){var t=0;t="left"===n?e.clientX:window.innerWidth-e.clientX,P(t),a&&window.localStorage.setItem(a,String(t))},M=function(){document.onmousemove=null,document.onmouseup=null,_(!1)},E=[u];return i&&E.push(i),(0,r.jsxs)("div",x({className:E.join(" "),style:{width:A,minWidth:c,maxWidth:j}},{children:[(0,r.jsx)(l.lg,x({defaultScrollTop:0,height:"100%",width:"100%"},{children:b})),(0,r.jsx)("div",{className:d((t={},t[p]=!0,t[f]=w,t[v]=S,t[h]="left"===n,t[m]="right"===n,t)),onMouseEnter:function(){I.current&&window.clearTimeout(I.current),I.current=window.setTimeout((function(){C(!0)}),300)},onMouseLeave:function(){I.current&&window.clearTimeout(I.current),C(!1)},onMouseDown:function(e){e.preventDefault();var t=document.createElement("style");t.innerText="*{cursor: col-resize !important}",document.head.appendChild(t),document.onmousemove=T,document.onmouseup=M,_(!0);var n=function(){t.remove(),document.removeEventListener("mouseup",n)};document.addEventListener("mouseup",n)}})]}))},j="comment_container";var b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b.apply(this,arguments)};const N=function(){return(0,r.jsx)(y,b({position:"right",saveName:"right",className:j},{children:"aa"}))};var S=n(839);const _="root",O="navTag_container",w="navTag_tags",C="navTag_shadow",I="navTag_contentContainer_scroll",k="navTag_contentShadow",A="navTag_contentContainer",P="navTag_tag",T="navTag_tag_selected";var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},M.apply(this,arguments)},E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},D=function(e){var t,n=e.tags,i=E((0,o.useState)(!1),2),a=i[0],s=i[1],c=E((0,o.useState)("0px"),2),u=c[0],p=c[1],f=E((0,o.useState)(0),2),h=f[0],m=f[1];return(0,r.jsx)("div",M({className:_},{children:(0,r.jsxs)("div",M({className:d((t={},t[O]=!0,t[C]=a,t))},{children:[(0,r.jsx)("div",M({className:w},{children:n.map((function(e,t){var n;return(0,r.jsxs)("div",M({className:d((n={},n[P]=!0,n[T]=h===t,n)),style:{zIndex:10-t},onClick:function(){m(t)}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:e.iconName})}),e.tagName]}),"".concat(t,"tagSet"))}))})),(0,r.jsxs)("div",M({className:I,onScroll:function(e){var t=e.currentTarget.scrollTop;a!==(0!==t)&&s(0!==t)}},{children:[(0,r.jsx)("div",{className:k,style:{height:u}}),(0,r.jsx)("div",M({className:A,ref:function(e){e&&p("".concat(e.clientHeight,"px"))}},{children:n[h]&&n[h].children}))]}))]}))}))},B=n(836);const F="appearanceIntroduction_container",W="appearanceIntroduction_title",L="appearanceIntroduction_instruction",q="appearanceIntroduction_foldButton",z="appearanceIntroduction_plugin",V="appearanceIntroduction_scroll";var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J.apply(this,arguments)},R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const G=function(){var e=R((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,B.$G)("",{keyPrefix:"appearance.introduction"}).t;return(0,r.jsx)("div",J({className:F},{children:(0,r.jsxs)(l.lg,J({className:V,defaultScrollTop:0,height:"100%",width:"100%"},{children:[(0,r.jsx)("div",J({className:W},{children:i("title")})),(0,r.jsxs)("div",J({className:L},{children:[function(){var e=i("".concat(t?"fullContent":"abbContent")),n=(e=e.replace(/[\n\t]/g,"")).match(/(<\/br>)|(<[b|u]>[a-zA-Z\u4e00-\u9fa5""“”。，：、 /\n]*<\/[b|u]>)|([a-zA-Z\u4e00-\u9fa5 \n,。，：、:. ]*)/g),r=[];n&&(r=n.filter((function(e){return" "!==e&&""!==e})));var o=[];return r.forEach((function(e){if(e.includes("<b>")){var t=e.replace(/<b>/,"").replace(/<\/b>/,"");o.push({type:"b",content:t})}else if(e.includes("<u>")){t=e.replace(/<u>/,"").replace(/<\/u>/,"");o.push({type:"u",content:t})}else e.includes("</br>")?o.push({type:"br",content:""}):o.push({type:"_",content:e})})),o}().map((function(e,t){return(0,r.jsxs)("span",{children:["b"===e.type&&(0,r.jsx)("b",{children:e.content}),"u"===e.type&&(0,r.jsx)("u",{children:e.content}),"br"===e.type&&(0,r.jsx)("br",{}),"_"===e.type&&e.content]},t)})),(0,r.jsxs)("div",J({className:q,onClick:function(){return n(!t)}},{children:[(0,r.jsx)("span",{children:i("".concat(t?"fold":"unfold"))}),(0,r.jsx)(l.JO,{type:"down",style:{transform:"rotate(".concat(t?"180":"0","deg)")}})]}))]})),(0,r.jsxs)("div",J({className:z},{children:[(0,r.jsx)("h4",{children:i("pluginUse")}),[].map((function(e,t){return(0,r.jsxs)("li",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("pluginName")}),(0,r.jsx)("span",{children:e.pluginName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("pluginVersion")}),(0,r.jsxs)("span",{children:["V ",e.pluginVersion]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("appliedPaper")}),(0,r.jsx)("span",{children:e.appliedPaper})]})]},t)}))]}))]}))}))},H="dropDownV3_container",Q="dropDownV3_floatingContainer";var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Y.apply(this,arguments)},U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Z=function(e){var t=e.className,n=e.floatingClassName,o=U(e,["className","floatingClassName"]),i=[H],a=[Q];return t&&i.push(t),n&&a.push(n),(0,r.jsx)(l.Hq,Y({className:i.join(" "),floatingClassName:a.join(" ")},o))},X="searchSelector_container",K="searchSelector_header",$="searchSelector_drop",ee="searchSelector_dropList",te="searchSelector_dropItem__select",ne="searchSelector_input",re="searchSelector_searchButton";var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)},ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ae=function(e){var t,n,i=e.labels,a=e.placeholder,s=void 0===a?"Search...":a,c=e.handleSearch,u=ie((0,o.useState)(i[0].id),2),p=u[0],f=u[1],h=ie((0,o.useState)(!1),2),m=h[0],v=h[1],x=ie((0,o.useState)(""),2),g=x[0],y=x[1];return(0,r.jsxs)("div",oe({className:X},{children:[(0,r.jsxs)("div",oe({className:$,tabIndex:-1,onBlur:function(){return v(!1)}},{children:[(0,r.jsxs)("div",oe({className:K,onClick:function(){return v(!m)}},{children:[(0,r.jsx)("span",{children:(t=p,n=i.find((function(e){return e.id===t})),n?n.content:"")}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(m?180:0,"deg)")}})]})),m&&(0,r.jsx)("div",oe({className:ee},{children:i.map((function(e,t){var n;return(0,r.jsx)("div",oe({className:d((n={},n[te]=p===e.id,n)),onClick:function(){f(e.id),v(!1)}},{children:e.content}),t)}))}))]})),(0,r.jsx)("input",{className:ne,type:"text",placeholder:s,onChange:function(e){return y(e.currentTarget.value)}}),(0,r.jsx)("div",oe({className:re,onClick:function(){c&&c(p,g)}},{children:(0,r.jsx)(l.JO,{type:"search"})}))]}))},se={value:""},ce=(0,o.createContext)(se);const le="tabs_navBar",de="tabs_tab",ue="tabs_tab__active",pe="tabs_ink";var fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fe.apply(this,arguments)},he=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const me=function(e){var t=e.defaultActiveKey,n=e.handleChangeTab,i=e.className,a=e.children,s=he((0,o.useState)(t),2),c=s[0],l=s[1],d=function(e){var t=[];return o.Children.forEach(e,(function(e){null!=e&&t.push(e)})),t}(a),u={},p=function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t.join(" ")};return(0,r.jsx)(ce.Provider,fe({value:{value:c}},{children:(0,r.jsxs)("div",fe({className:i},{children:[(0,r.jsxs)("div",fe({className:le},{children:[d.map((function(e){var t;return(0,r.jsx)("div",fe({className:p((t={},t[de]=!0,t[ue]=e.props.tabId===c,t)),onClick:function(){var t=e.props.tabId;l(t),n&&n(t)},ref:function(t){e.props.tabId===c&&(u.width=null==t?void 0:t.clientWidth,u.left=null==t?void 0:t.offsetLeft)}},{children:e.props.tab}),e.props.tabId)})),(0,r.jsx)("div",{ref:function(e){var t;e&&u.width&&(e.style.width="".concat(u.width,"px"),e.style.left="".concat(null!==(t=u.left)&&void 0!==t?t:0,"px"))},className:pe})]})),a]}))}))};var ve=function(e){var t=e.tabId,n=e.children;ve.displayName="TabPane";var i=(0,o.useContext)(ce);return(0,r.jsx)(r.Fragment,{children:t===i.value&&n})};const xe=ve,ge="pluginItem_pluginItem",ye="pluginItem_pluginInfo_enter",je="pluginItem_pluginInfo_price",be="pluginItem_pluginInfo",Ne="pluginItem_pluginInfo_title",Se="pluginItem_pluginInfo_keyword",_e="pluginItem_pluginInfo_description",Oe="pluginItem_star",we="pluginItem_star__starred",Ce="pluginItem_star__unCollection",Ie=n.p+"assets/8e10f30bd65931447058.png";var ke=function(){return ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ke.apply(this,arguments)};const Ae=function(){var e;return(0,r.jsxs)("div",ke({className:ge},{children:[(0,r.jsx)("img",{src:Ie,alt:"plugin"}),(0,r.jsxs)("div",ke({className:be},{children:[(0,r.jsxs)("div",ke({className:Ne},{children:[(0,r.jsx)("span",{children:"AAA"}),(0,r.jsx)("span",ke({className:ye},{children:(0,r.jsx)(l.JO,{type:"exit"})})),(0,r.jsx)("div",ke({className:je},{children:"$100"}))]})),(0,r.jsxs)("div",ke({className:Se},{children:[(0,r.jsx)("span",{children:"AA"}),(0,r.jsx)("span",{children:"BB"}),(0,r.jsx)("span",{children:"CCC"})]})),(0,r.jsx)("div",ke({className:_e},{children:"这是一个plugin"}))]})),(0,r.jsx)("div",ke({className:d((e={},e[Oe]=!0,e[we]=!1,e))},{children:(0,r.jsx)(l.JO,{type:"star",className:Ce})}))]}))},Pe="appearancePlugins_container",Te="appearancePlugins_searchPlugin",Me="appearancePlugins_list";var Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)};const De=function(){var e=(0,B.$G)("",{keyPrefix:"appearance"}).t;return(0,r.jsxs)("div",Ee({className:Pe},{children:[(0,r.jsxs)(me,Ee({defaultActiveKey:"1"},{children:[(0,r.jsx)(xe,{tabId:"1",tab:e("market")}),(0,r.jsx)(xe,{tabId:"2",tab:e("organization")})]})),(0,r.jsxs)("div",Ee({className:Te},{children:[(0,r.jsx)(Z,{defaultValue:1,labels:[{content:"allType",id:0},{content:"starred",id:1}],handleValueChange:function(e){}}),(0,r.jsx)(ae,{labels:[{id:"Name",content:e("name")},{id:"Keywords",content:e("keywords")}]})]})),(0,r.jsx)("div",Ee({className:Me},{children:(0,r.jsxs)(l.lg,Ee({defaultScrollTop:0,height:"45rem",width:"100%"},{children:[(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{})]}))})),(0,r.jsx)(l.ML,{defaultCurrentPage:1,rows:5,total:1e3,handleChange:function(e){}})]}))},Be="optionItemHtml_container";const Fe=function(e){var t,n=e.list,o=e.className,i=[Be];return o&&i.push(o),(0,r.jsx)("div",{className:i.join(" "),dangerouslySetInnerHTML:{__html:(t="",n.forEach((function(e){"HtmlItem"===e.kind&&(t+=e.data.html)})),t)}})};var We=function(){return(0,i.useSelector)((function(e){return e.lanState.editLan}))},Le=function(e){return(0,i.useSelector)((function(t){return"intervieweeNodes"===e?t.nodesState.intervieweeNodes.nodes:t.nodesState.interviewerNodes.nodes}))},qe=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]},ze=n(845),Ve=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Je=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Re=function(){var e,t,n=qe(),r=[],o=[],i=n.structure.content.content.options,a=n.structure.content.content.type,s=n.structure.code;return null===(e=i[0])||void 0===e||e.map((function(e){(0,ze.I5)(e)?r.push(e):r.push.apply(r,Je([],Ve(e.list),!1))})),null===(t=i[1])||void 0===t||t.map((function(e){(0,ze.I5)(e)?o.push(e):o.push.apply(o,Je([],Ve(e.list),!1))})),{row:r,column:o,type:a,code:s}};const Ge="multi_radio",He="multi_radio__checked";var Qe=function(){return Qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qe.apply(this,arguments)},Ye=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ue=function(e){var t=e.options,n=e.handleSelectOption,i=Ye((0,o.useState)([]),2),a=i[0],s=i[1],c=We();return(0,r.jsx)(l.rE,Qe({onChange:function(e){s(e),n&&n(e)}},{children:t.map((function(e){var t;return(0,r.jsx)(l.Jr,Qe({value:e.data.code,className:d((t={},t[Ge]=!0,t[He]=a.includes(e.data.code),t))},{children:(0,r.jsx)(Fe,{list:e.data.text[c].content.list.list})}),e.id)}))}))};var Ze=function(e){var t=e.list,n="";t.map((function(e){(0,ze.vT)(e)&&(n+=e.data.html)}));var r=document.createElement("div");return r.innerHTML=n,r.innerText};const Xe="multiMatrix_table",Ke="multiMatrix_head",$e="multiMatrix_title",et="multiMatrix_option";var tt=function(){return tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tt.apply(this,arguments)};const nt=function(e){var t=e.row,n=e.column,o=e.handleSelectOption,i=We();return(0,r.jsxs)("table",tt({className:Xe},{children:[(0,r.jsx)("thead",tt({className:Ke},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",tt({className:$e},{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})})),(0,r.jsx)(l.rE,tt({onChange:function(t){o&&o(t,e)}},{children:n.map((function(e,t){return(0,r.jsx)("td",{children:(0,r.jsx)("div",tt({className:et},{children:(0,r.jsx)(l.Jr,{value:e.data.code},t+1)}))},"multi_".concat(t))}))}))]},"".concat(t,"rowOption"))}))})]}))},rt="numberInput_container";const ot=function(e){var t=e.placeholder,n=e.handleChange,i=(0,o.useRef)(!1);return(0,r.jsx)("input",{className:rt,placeholder:t,onChange:function(e){if(!i.current){var t=e.currentTarget.value;t=t.replace(/[^\d]/g,""),e.currentTarget.value=t,n&&n(t)}},onCompositionStart:function(){i.current=!0},onCompositionEnd:function(e){i.current=!1;var t=e.currentTarget.value;t=t.replace(/[^\d]/g,""),e.currentTarget.value=t,n&&n(t)},onKeyDown:function(e){e.ctrlKey&&"v"===e.key||/^[0-9]*$/.test(e.key)||"Backspace"===e.key||"F12"===e.key||e.preventDefault()}})};const it=function(e){var t=e.options,n=e.handleChangeValue,o=We();return(0,r.jsx)("div",{children:t.map((function(e,t){return(0,r.jsx)(ot,{placeholder:Ze(e.data.text[o].content.list),handleChange:function(e){n&&n(e,t)}},t)}))})},at="numericMatrix_table",st="numericMatrix_head",ct="numericMatrix_title",lt="numericMatrix_option";var dt=function(){return dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dt.apply(this,arguments)};const ut=function(e){var t=e.row,n=e.column,o=e.handleChangeValue,i=We();return(0,r.jsxs)("table",dt({className:at},{children:[(0,r.jsx)("thead",dt({className:st},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",dt({className:ct},{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})})),(0,r.jsx)(l.Ee,dt({onChange:function(e){}},{children:n.map((function(t,n){return(0,r.jsx)("td",{children:(0,r.jsx)("div",dt({className:lt},{children:(0,r.jsx)(ot,{handleChange:function(n){o&&o(n,t.data.code,e)}})}))},"".concat(n,"_radio"))}))}))]},"".concat(t,"rowOption"))}))})]}))},pt="open_item";const ft=function(e){var t=e.options,n=e.handleChangeValue,o=We();return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsx)("input",{className:pt,placeholder:Ze(e.data.text[o].content.list),onChange:function(e){n&&n(e.currentTarget.value,t)}},t)}))})},ht="openMatrix_table",mt="openMatrix_head",vt="openMatrix_title",xt="openMatrix_option",gt="openMatrix_input";var yt=function(){return yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yt.apply(this,arguments)};const jt=function(e){var t=e.row,n=e.column,o=e.handleChangeValue,i=We();return(0,r.jsxs)("table",yt({className:ht},{children:[(0,r.jsx)("thead",yt({className:mt},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",yt({className:vt},{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})})),n.map((function(t,n){return(0,r.jsx)("td",{children:(0,r.jsx)("div",yt({className:xt},{children:(0,r.jsx)("input",{className:gt,onChange:function(n){o&&o(n.currentTarget.value,t.data.code,e)}},n)}))},"".concat(n,"_radio"))}))]},"".concat(t,"rowOption"))}))})]}))},bt="single_radio",Nt="single_radio__checked";var St=function(){return St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},St.apply(this,arguments)},_t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ot=function(e){var t=e.options,n=e.handleSelectOption,i=_t((0,o.useState)(""),2),a=i[0],s=i[1],c=We();return(0,r.jsx)("div",{children:(0,r.jsx)(l.Ee,St({value:a,onChange:function(e){s(e),n&&n(e)}},{children:t.map((function(e){var t;return(0,r.jsx)(l.Y8,St({value:e.data.code,className:d((t={},t[bt]=!0,t[Nt]=a===e.data.code,t))},{children:(0,r.jsx)(Fe,{list:e.data.text[c].content.list.list})}),e.id)}))}))})},wt="singleMatrix_table",Ct="singleMatrix_head",It="singleMatrix_title",kt="singleMatrix_option";var At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},At.apply(this,arguments)};const Pt=function(e){var t=e.row,n=e.column,o=e.handleSelectOption,i=We();return(0,r.jsxs)("table",At({className:wt},{children:[(0,r.jsx)("thead",At({className:Ct},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",At({className:It},{children:(0,r.jsx)("span",{children:Ze(e.data.text[i].content.list)})})),(0,r.jsx)(l.Ee,At({onChange:function(e){o&&o(e,t)}},{children:n.map((function(e,t){return(0,r.jsx)("td",{children:(0,r.jsx)("div",At({className:kt},{children:(0,r.jsx)(l.Y8,{value:e.data.code},t+1)}))},"".concat(t,"_radio"))}))}))]},"row_".concat(t))}))})]}))},Tt="pluginSelect_select",Mt="pluginSelect_plugin",Et="pluginSelect_pluginName",Dt="pluginSelect_floating",Bt="pluginSelect_floatingItem";var Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ft.apply(this,arguments)};const Wt=function(e){var t,n=e.selectPaper,o=e.handleSelectPaper,i=qe().structure.appearance.plugin,a=Object.keys(i);return(0,r.jsx)(l.Hq,{className:Tt,floatingClassName:Dt,floatingStyle:{width:"27.5rem"},defaultValue:n,handleValueChange:function(e){return o(e)},labels:(t=[],0===a.length&&a.push("default"),i&&a.map((function(e){var n,o;t.push({id:e,content:(0,r.jsxs)("div",Ft({className:Bt},{children:[(0,r.jsx)("span",{children:e}),(null===(n=i[e])||void 0===n?void 0:n.name)?(0,r.jsxs)("div",Ft({className:Mt},{children:[(0,r.jsx)("span",{children:"  -  "}),(0,r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtuSURBVHgBXVdZjFtnFf7u6utre+zZt8ySTDKZ7GRpQ0JDlweKVAp94YFFtOUhEUWAQEgVRTxUQlCK4BEpUagQoEaq1KotqJRF3ZIIhTTTpiFNZtJJM5nJeFaPPbbvfu/P999JIcIexzde/nPOd77vO8cK/u/2m5HB/QqU+1Sh3CuQ9KkQUFUDbV98BINf/RryXV1QFBXgHxL+JSGuvH8ci4unoOaBvryHrJ/AnbahByq6Qg2dDXNSXVMmzSQ+3nniSvnOeMonF7/Y2lEoieJRIcRXNJGAz4yRQCu2YvCJ76LrniMwcnnI2OmNwUXsILrxChYWTmIxH6JdAzZpOvIwkUyWoMzz+DDkgx82Y2iZAEpWOQV4JzqfnKj/NwEZvKgUjyMWo5o8mVUrAjB6+zDy5I/RvmsPUdDSqtWEuPDu1CbRWHgOwjnDQxT05DQUFRuaaIVQLJ5hQixnEdeyEDrPjANEqyE/30Cix5OzVf/YPc+eresygZLSdlQRyWga+A5oip/+DIpj29LgqqxcURg6RHnhNcwt/BbdzQr66i1oDYow2jLEn4EVHYqTWUdIWIgbBryVEGFkQOQ6gYFeiL4to619W4/i2U/9Sjm+bahXgfEnNpPVycBJmoAmcTAMWDv3YOOjj6O0ey80NYI/exKN6h9hVjPocVqQsWyIpBVJVECcZd0tboogIhWhm0Ej3I4FeyeSUiey7SUYWQuLKzHGL9Tx4fjKMV0XxlEZUpU1q+J2EvLBa/YvfO88Prr6IXq/+Ti6d7vIzLyMLpSgNfJQi6wUBUSiyGumbKhQDQfJmomm2wdn5CE4xY14/sQ03n9nBaa9ikxWQW0lQOCxkYl2H1ugbJVMlzdVokCsFfnMl2yLEOZN6N0F5CZeRosTIZu0QS1koHbKr5IPMa8ZW0QZaIqP+FYey2Ubr308hmtndVy/NoHVhRAxC3O9iJHEbfnwSglkAmJ0vevsv6r+Txbst3HXAWz+1jGIyhzyr/4SBdVC0mrC09lzXYMWyrPYd5PXfgjvpg6nsA3ninfhhXMuyV8lY6gUtYpYXUMMFwmTTODdTiTq1VUGIlvSwJ9cS7YrTLJ+5gyuNx20W3X0b9EQ6jZqYR8KBQHDpKRiSXYyW+N7FQ1T2IwztYN4+ZUyGooDX19EqCxCqB4D84GAYaP0cCEffEUn+9fhV5Q0K8HniBm0GRmYfC+6OI6aQfj6B1CxBlAw+a4SYG1FQb4QkyeA73ZgesMR/OSZMsruOEKtRj4oPIUEZZsijbzgB2MmJbQofU0Qj4T16mpKt4QWQKmS9SPf/x6WjL9g4y3qeqrODyxDZFXM1myUOiJoXoj3xH4M4zxyjgq/9SCCfY+gTbOR3fQ8gombhJswq0RI1RHrHgKVnqMlSBmurXuMwkJVoq3LXCIZXPYgCjH1wu/QcniZ/e1AcZj6byOpqoSgkUNI6F+MH8NweAEZt4HmjseA0SM81KDtAA8/vB0Xb1wk5DQdSRAGiw0+slraJilxw4pg2xHMXIxsNqRd8+VAEam1SwvGjQUIunXrF5hRwUDcQoNXc7DzAn/XHkLgr8FybqKBTlgb9rNKJkeKa5oCN3LhtxBqU/KIyPKtyKShU65KMUFb1ETB9vlwUTJC5Jik7t52P9lvyUFDKGjNsXv9PKSUQZJJsFpXUS4Ooz25BTPPdjjbMGDM4M+vJ/jHm+NwjUvQbQcTURlOtw7dcRD3JugZJkquhjj2UhPbVqzhSKGCsVwTNklohCr0iGRoEesTRvamm8F3fd2E2srMDQ8fJmNo+Das0MOm5DJW7X7m5ePnr38e05UVrKgX4Oq3WGmD1QepOoINEca2VLG/o4IpJ4vA1fHt3lnc315HS0hk5nNIynkESxZ0tgg1Vt5mq7hrj4negyq8ec6rFQ6cHgOXZofQcGzsbfkY/+p7EB3Xz+L92Xsxs9pFqX0ATytzuJDlBhWTp8I7BOwNAXa1VdGp+ZihTzw1Mo1DRMhYtBFf5ZTU6bBljrC1CHqZZY9t0vC5e1kl2x1VbPhzTfgcLqfPbsDc9DSSvIZ3H9iFejCC8ruXMF7dTEWvoqFdZWCXRIvhFXlobwit20VX0aWMQ3RT/2MZgR3sudEgD+iQCkeyCBRYmwP4lzXoe0Zs3P+ATs748GZyCAIPxhYb4/4IXCfApvl3IMwWXCv+EPjb87jqfSmdiGvKvxEYSwweICSrwyEPVneAAoPvyNawL7eWTpSKHyMvJ1skPY7GQ5QiyjeuazB3cnYc2mNQRezLGidbvgDhWrh2XpplDZsOhWh2bsHkN06idnkaS5VB1DwOGkzDMScRkSOJESEZDlHoCFDKu+g2fQybLjZkCW8cYYjJ6XJmkIwq0UjYc9UmAQfooG0OydtCjVLnNFf4EbU61I2Ou2P0llycd3fh1pcfgXXzGqbfs1Fu7mXtVTTUSYQG3U5SuJBQjg4Gcg0E1JRcCbozMfSEgSnubuP2eLfWrVch8wWTSChHneuVLjzKJLA5+jjVuiwo7F2emn5jZheuVO/G0ItPoBoXMW/9OvVxh44fGjQKLUgPtPp9bM7XMZytY4m2to2ojFgubJpQJbYwmPWpLhIu5ryQ1iuXJY5adh8x3VFv3tKRBAkyg3I1qmFVlPDczHcw6+3DztM/wLxfR6V4GFEUMyAnHiUXGlyr0p1NQanTQz93gKIdYph8oF+ii/aboc5b6YgdupwXOnyP5wcGmglngG7Cv2VwXSQC4SKNLFZhbKTbGnm8UnkUN6LPYuz0U2i9+Sbe1NpRDe9LB4gDBleq9Hk/TaDQ46Mz32C1Iep0wxFaaz+RKTGo5F2eciuyWoebH4c7PC6ngklHPqVeMRAxIV3NGVynLZBbODc3irl4O/pvvITB6y/hAz3Ljg8xaD9ltwBXuY5Ea66vXBxlPYM19Fg+fFpokXDaXNFtNWaoBNVAo9uRcBwyEY0oDGM6NrflUNCYuCi7RoqInmR50ZfgYtyFC5UHKb0Y+975KebZwynRC1/bnY5pV2H1+gInXbA+vguEvL1JyVVpRjKfBE3Kq7WD/s73a4S3yAQ8vmlEnDcOUcjI5VhF5GW4LVOZdbYn6DDnppIWXHZ3YLVwEINvPY0wXsMlbvcNjHDh5JfFMkdqmaO1wanmp+2wBgKYHK8uyTWY9TBq0e9ZdULCxRyzMed7RgKVcGT7JByTSBcofjdmcqQUn+NJ9SOj8+0ptxer+m603TiNjtV3cZWQrrD6hAtnorahrk4g5F4QcxFJuAYlVoyxjSvIymR4nyWUjbTiCAUpZd59ul1WlT9MGFj6P1+Xy1aUMEn+WkpWY/n/SXU1yrw1ox7AsjOC3jd+hmkRY4Z7r6fsZaWtDGwz80VKhtsMA8iZXhxysN1uomTKLUegIfvscYpS86JuoLZspXunwSEXezpEKFtA1rMdPt8POXyEQ59cjY+rjz1z8kK15cCp0XNPY9UvY5JrVBXb+f08D+9BQ5fQ19INR2jELRNidGSZMgvRJmVGzXdTBYLM5lbOdVvnOYScOghlv2X/G+sbtOx//Tp9p0EkavGpA3+9UE7ncMvvf3SiMf/PySvgjwbsYMVbWW0Xl8qQywoT0NzUdBJiNjRWwxZWL4WQp+7biYLFlcqkDA0m4bDyKj3fkmt3IJFJGZouuv4ak2LwcDGYjGLnREpm+c+zE6/Wr6qZY0ti4FSEfgYfRKTn4WjTfG7y+1HK8kzRx+GtS9jEhaKH41Wj88lGxg5lSO3n5H7Jz/HnA6QDy17L7TpqaikSYVOVnz8lNPvYPWfv+HF6523/tj/0Ci1/tKFf3epqU6OhWZc/JnlijMP3z+PQhiVkuN2YfK2pK7JRCGgqwxwwA4mOZW6/E4R6J8dzqWkhw9+GcSUzF+rJ26JuvrX/mfELd8b7D518n/NmY4xWAAAAAElFTkSuQmCC"}),(0,r.jsx)("span",Ft({className:Et},{children:null===(o=i[e])||void 0===o?void 0:o.name}))]})):(0,r.jsxs)("div",Ft({className:Mt},{children:[(0,r.jsx)("span",{children:"  -  "}),(0,r.jsx)("span",{children:"No plugin bound yet"})]}))]}))})})),t),placeholder:"Default - No plugin bound yet",size:"extraLarge"})},Lt="appearancePreview_container",qt="appearancePreview_header",zt="appearancePreview_header_title",Vt="appearancePreview_question",Jt="appearancePreview_question_title";var Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rt.apply(this,arguments)};const Gt=function(){var e=Re(),t=e.row,n=e.column,o=e.type,i=(e.code,qe()),a=We(),s=t.length>0&&0===n.length,c=t.length>0&&n.length>0;return(0,r.jsxs)("div",Rt({className:Lt},{children:[(0,r.jsxs)("div",Rt({className:qt},{children:[(0,r.jsx)(Wt,{selectPaper:"",handleSelectPaper:function(e){}}),(0,r.jsx)("div",Rt({className:zt},{children:"Market Research - Product Testing"}))]})),(0,r.jsxs)("div",Rt({className:Vt},{children:[(0,r.jsx)(Fe,{className:Jt,list:i.structure.text[a].content.list.list}),s&&"Single"===o&&(0,r.jsx)(Ot,{options:t}),s&&"Multi"===o&&(0,r.jsx)(Ue,{options:t}),s&&"OpenEnd"===o&&(0,r.jsx)(ft,{options:t}),s&&"Numeric"===o&&(0,r.jsx)(it,{options:t}),c&&"Single"===o&&(0,r.jsx)(Pt,{row:t,column:n}),c&&"Multi"===o&&(0,r.jsx)(nt,{row:t,column:n}),c&&"OpenEnd"===o&&(0,r.jsx)(jt,{row:t,column:n}),c&&"Numeric"===o&&(0,r.jsx)(ut,{row:t,column:n})]}))]}))},Ht="appearanceTesting_container",Qt="appearanceTesting_title",Yt="appearanceTesting_title_name",Ut="appearanceTesting_title_addButton",Zt="appearanceTesting_paperList",Xt="appearanceTesting_paperItem",Kt="appearanceTesting_paperName",$t="appearanceTesting_paperApplied";var en=function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},en.apply(this,arguments)};const tn=function(){var e=(0,B.$G)("",{keyPrefix:"appearance"}).t;return(0,r.jsxs)("div",en({className:Ht},{children:[(0,r.jsxs)("div",en({className:Qt},{children:[(0,r.jsx)("span",en({className:Yt},{children:e("testing")})),(0,r.jsxs)("div",en({className:Ut},{children:[(0,r.jsx)(l.JO,{type:"addition01"}),(0,r.jsx)("span",{children:e("button.add")})]}))]})),(0,r.jsx)("div",en({className:Zt},{children:(0,r.jsxs)("div",en({className:Xt},{children:[(0,r.jsxs)("div",en({className:Kt},{children:[(0,r.jsx)("span",{children:e("paper.name")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Default"}),(0,r.jsx)("div",en({tabIndex:-1},{children:(0,r.jsx)(l.JO,{type:"moreVertical"})}))]})]})),(0,r.jsxs)("div",en({className:$t},{children:[(0,r.jsx)("span",{children:e("paper.plugin")}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:"AAA"})})]}))]}))}))]}))},nn="appearance_container";var rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rn.apply(this,arguments)};const on=function(){var e=[{tagName:"Introduction",iconName:"documentation",children:(0,r.jsx)(G,{})},{tagName:"Preview",iconName:"eyeOpen",children:(0,r.jsx)(Gt,{})},{tagName:"Plugins",iconName:"plugin",children:(0,r.jsx)(De,{})},{tagName:"A/B Testing",iconName:"ABtesting",children:(0,r.jsx)(tn,{})}];return(0,r.jsx)("div",rn({className:nn},{children:(0,r.jsx)(D,{tags:e})}))},an="builtInScriptInstruction_Container",sn="builtInScriptInstruction_title",cn="builtInScriptInstruction_scriptIcon",ln="builtInScriptInstruction_scriptName",dn="builtInScriptInstruction_label",un="builtInScriptInstruction_updateButton",pn="builtInScriptInstruction_dot",fn="builtInScriptInstruction_tag",hn="builtInScriptInstruction_content",mn="builtInScriptInstruction_return";var vn=function(){return vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vn.apply(this,arguments)};const xn=function(){var e,t=(0,i.useSelector)((function(e){return e.editState.target.id})),n=(0,i.useSelector)((function(e){return e.scriptState.builtInScripts.data})),o=(0,B.$G)().t,a=null!==(e=n[t].data.arguments)&&void 0!==e?e:[],s=n[t].data.return;return(0,r.jsxs)("div",vn({className:an},{children:[(0,r.jsxs)("div",vn({className:sn},{children:[(0,r.jsx)("div",vn({className:cn},{children:(0,r.jsx)(l.JO,{type:"script",color:"#22A6B3",fontSize:"1.6rem"})})),(0,r.jsxs)("div",vn({className:ln},{children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)("div",vn({className:dn},{children:(0,r.jsxs)("span",{children:["0 ",o("nodes.buildInScriptNode.references")]})})),(0,r.jsxs)("div",vn({className:un},{children:[(0,r.jsx)("span",{children:o("nodes.buildInScriptNode.update")}),(0,r.jsx)("div",{className:pn})]}))]}))]})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",vn({className:fn},{children:o("nodes.scriptNode.implementation")})),(0,r.jsx)("div",vn({className:hn},{children:n[t].data.information})),(0,r.jsx)("div",vn({className:fn},{children:(0,r.jsx)("span",{children:o("nodes.scriptNode.arguments")})})),(0,r.jsx)("div",vn({className:hn},{children:a.map((function(e){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:e.type}),(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{children:e.instruction})]},e.name)}))})),(0,r.jsx)("div",vn({className:fn},{children:(0,r.jsx)("span",{children:o("nodes.scriptNode.returns")})})),s&&(0,r.jsxs)("div",vn({className:mn},{children:[(0,r.jsx)("span",{children:s.type}),(0,r.jsx)("span",{children:s.instruction})]}))]})]}))};const gn=function(){var e=[{tagName:"Instruction",iconName:"text",children:(0,r.jsx)(xn,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:e})})};var yn=n(674),jn=n(10);const bn="toolTip_tip",Nn="toolTip_scroll",Sn="toolTip_scrollBody",_n="toolTip_none";var On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},On.apply(this,arguments)},wn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Cn=function(e){var t=e.show,n=void 0===t||t,i=e.content,a=e.children,s=e.minWidth,c=void 0===s?"2rem":s,d=e.maxWidth,u=e.maxHeight,p=e.textAlign,f=void 0===p?"left":p,h=e.offsetX,m=void 0===h?0:h,v=e.offsetY,x=void 0===v?0:v,g=e.placement,y=void 0===g?"ct":g,j=e.direction,b=e.showTriangle,N=void 0===b||b,S=wn((0,o.useState)(d),2),_=S[0],O=S[1],w=!!n&&(!!i&&void 0),C=Object.assign({},!N&&{triangle:{width:"0",height:"0"}});return(0,r.jsxs)(r.Fragment,{children:[jn.createPortal((0,r.jsx)("div",On({className:_n,ref:function(e){if(e){var t=e.getBoundingClientRect().width;if(_===t)return;t<_&&O(t),t>_&&O(d)}}},{children:i})),document.body),(0,r.jsx)(l.J2,On({placement:y,className:bn,show:w,root:a,offset:{x:m,y:x},direction:j||("rc"===y?"horizontal":j)},C,{children:(0,r.jsx)(l.lg,On({defaultScrollTop:0,height:"auto",width:"auto",style:{width:"".concat(_,"px"),minWidth:c,maxWidth:"".concat(d,"px"),maxHeight:u,textAlign:f},className:Nn,bodyClassName:Sn},{children:i}))}))]})},In="autoInput_input",kn="autoInput_span";var An=function(){return An=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},An.apply(this,arguments)},Pn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Tn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Mn=function(e){var t=e.defaultValue,n=Pn(e,["defaultValue"]),i=Tn((0,o.useState)(t),2),a=i[0],s=i[1],c=Tn((0,o.useState)(0),2),l=c[0],d=c[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",An({},n,{className:In,style:{width:l},value:a,onChange:function(e){var t=e.currentTarget.value;t.length<=70&&s(t)},onBlur:function(e){e.currentTarget.value.trim()?n.onBlur&&n.onBlur(e):s(t)}})),(0,r.jsx)("span",An({className:kn,ref:function(e){(null==e?void 0:e.offsetWidth)?d(e.offsetWidth+10):d(0)}},{children:a}))]})},En="customScriptHead_title",Dn="customScriptHead_scriptIcon",Bn="customScriptHead_scriptName",Fn="customScriptHead_label_draft",Wn="customScriptHead_label_verified";var Ln=function(){return Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ln.apply(this,arguments)};const qn=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),n=(0,B.$G)().t;return(0,r.jsxs)("div",Ln({className:En},{children:[(0,r.jsx)(Cn,Ln({content:"Execution Script Item",maxWidth:120,maxHeight:"3rem"},{children:(0,r.jsx)("div",Ln({className:Dn},{children:(0,r.jsx)(l.JO,{type:"script",color:"#22A6B3",fontSize:"1.6rem"})}))})),(0,r.jsxs)("div",Ln({className:Bn},{children:[(0,r.jsx)(Mn,{defaultValue:e,onBlur:function(){}}),(0,r.jsx)(Cn,Ln({content:"The script is a draft. You can’t use it yet.",maxWidth:120,maxHeight:"4rem"},{children:"draft"===t[e].data.status?(0,r.jsx)("div",Ln({className:Fn},{children:(0,r.jsx)("span",{children:n("nodes.scriptNode.codeTest.draft")})})):(0,r.jsx)("div",Ln({className:Wn},{children:(0,r.jsx)("span",{children:n("nodes.scriptNode.codeTest.verified")})}))}))]}))]}))},zn="customScriptEdit_container";var Vn=function(){return Vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vn.apply(this,arguments)};const Jn=function(){return(0,r.jsxs)("div",Vn({className:zn},{children:[(0,r.jsx)(qn,{}),(0,r.jsx)(yn.Yp,{width:"100%",height:"50rem",fontSize:16})]}))},Rn="dropDownV3_container",Gn="dropDownV3_floatingContainer";var Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hn.apply(this,arguments)},Qn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Yn=function(e){var t=e.className,n=e.floatingClassName,o=Qn(e,["className","floatingClassName"]),i=[Rn],a=[Gn];return t&&i.push(t),n&&a.push(n),(0,r.jsx)(l.Hq,Hn({className:i.join(" "),floatingClassName:a.join(" ")},o))},Un="customScriptInstruction_container",Zn="executionScript_tag",Xn="executionScript_list",Kn="executionScript_content",$n="executionScript_information",er="executionScript_chooseType",tr="executionScript_returnSwitch",nr="executionScript_return",rr="executionScript_switchContent",or="executionScript_instruction",ir="executionScript_instructionTip",ar="executionScript_instruction__placeholder";var sr=function(){return sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sr.apply(this,arguments)},cr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const lr=function(){var e,t=cr((0,o.useState)(!1),2),n=t[0],a=(t[1],(0,i.useSelector)((function(e){return e.editState.target.id}))),s=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),c=(0,B.$G)().t,d=s[a].data.information,u=null!==(e=s[a].data.arguments)&&void 0!==e?e:[],p=s[a].data.return,f=[{id:"string",content:"String"},{id:"number",content:"Number"},{id:"boolean",content:"Boolean"},{id:"bigInt",content:"BigInt"},{id:"object",content:"Object"}];return(0,r.jsxs)("div",sr({className:Un},{children:[(0,r.jsx)(qn,{}),(0,r.jsx)("div",sr({className:Zn},{children:c("nodes.scriptNode.implementation")})),(0,r.jsx)("div",sr({className:Kn},{children:(0,r.jsx)("textarea",{className:$n,defaultValue:d||"",placeholder:"Please input text here..."})})),(0,r.jsx)("div",sr({className:Zn},{children:(0,r.jsx)("span",{children:c("nodes.scriptNode.arguments")})})),(0,r.jsx)("div",sr({className:Xn},{children:u.map((function(e,t){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{children:(0,r.jsx)(Yn,{defaultValue:e.type,labels:f,placeholder:c("appearance.introduction.hint.chooseType"),floatingClassName:er,handleValueChange:function(e){}})}),(0,r.jsxs)("div",sr({className:or},{children:[e.instruction?(0,r.jsx)("span",{children:e.instruction}):(0,r.jsx)("span",sr({className:ar},{children:c("appearance.introduction.hint.introduction")})),e.instruction&&(0,r.jsx)("div",sr({className:ir,onClick:function(e){e.stopPropagation()}},{children:(0,r.jsx)(l.lg,sr({defaultScrollTop:0,height:"10.6rem",width:"30rem"},{children:e.instruction}))}))]})),(0,r.jsx)("span",sr({onClick:function(){}},{children:(0,r.jsx)(l.JO,{type:"pen"})}))]},t)}))})),(0,r.jsxs)("div",sr({className:Zn},{children:[(0,r.jsx)("span",{children:c("nodes.scriptNode.returns")}),(0,r.jsxs)("div",sr({className:tr},{children:[(0,r.jsx)("span",{children:c("nodes.scriptNode.hint")}),(0,r.jsx)(l.rs,sr({width:"3.8rem",defaultValue:!!p},{children:(0,r.jsx)("div",sr({className:rr},{children:n?"Y":"N"}))}))]}))]})),!!p&&(0,r.jsxs)("div",sr({className:nr},{children:[(0,r.jsx)("span",{children:p.type}),(0,r.jsx)("span",{children:p.instruction})]}))]}))},dr="customScriptTest_container";var ur=function(){return ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ur.apply(this,arguments)};const pr=function(){return(0,r.jsx)("div",ur({className:dr},{children:(0,r.jsx)(qn,{})}))};const fr=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=[{tagName:"Edit",iconName:"edit",children:(0,r.jsx)(Jn,{})},{tagName:"Instruction",iconName:"text",children:(0,r.jsx)(lr,{})},{tagName:"Code Test",iconName:"check",children:(0,r.jsx)(pr,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:t},e)})},hr={};var mr=n(108),vr=n(858);const xr="command_container",gr="command_title",yr="command_list",jr="command_itemContainer",br="command_item",Nr="command_item_script",Sr="command_item_icon",_r="command_item_detail",Or="command_detail_title",wr="command_detail_description",Cr="command_item_arrow",Ir="command_item_content";var kr=function(){return kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kr.apply(this,arguments)},Ar=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Pr=function(e){var t=e.show,n=e.handleChangeShow,i=e.handleCreateScript,a=e.handleSelectScript,s=(0,o.useRef)(null),c=(0,vr.ui)(),d=(0,vr.UE)(),u=Ar((0,o.useState)({top:-1,left:-2}),2),p=u[0],f=u[1];return(0,o.useEffect)((function(){var e=window.getSelection();if(t&&e&&"Caret"===e.type){var n=e.getRangeAt(0).getBoundingClientRect(),r=n.top+window.pageYOffset,o=n.left+window.pageXOffset;f({top:r,left:o})}}),[c.selection,d]),jn.createPortal((0,r.jsxs)("div",kr({className:xr,ref:s,style:t?p:kr(kr({},p),{opacity:0,pointerEvents:"none",visibility:"hidden"}),onMouseDown:function(e){e.preventDefault()}},{children:[(0,r.jsx)("div",kr({className:gr},{children:"Command"})),(0,r.jsxs)("div",kr({className:yr},{children:[(0,r.jsx)("div",kr({className:jr},{children:(0,r.jsxs)("div",kr({className:br},{children:[(0,r.jsx)("span",kr({className:Sr},{children:(0,r.jsx)(l.JO,{type:"script"})})),(0,r.jsxs)("div",kr({className:_r},{children:[(0,r.jsx)("span",kr({className:Or},{children:"Script"})),(0,r.jsx)("span",kr({className:wr},{children:"Add a script file and start"}))]})),(0,r.jsx)("div",kr({className:Cr},{children:(0,r.jsx)(l.JO,{type:"open"})})),(0,r.jsx)("div",kr({className:Nr},{children:(0,r.jsxs)("div",kr({className:Ir},{children:[(0,r.jsx)("div",kr({onClick:function(){n(!1),i()}},{children:"Create new script"})),(0,r.jsx)("div",kr({onClick:function(){n(!1),a()}},{children:"Select existing script"}))]}))}))]}))})),(0,r.jsx)("div",kr({className:jr},{children:(0,r.jsxs)("div",kr({className:br},{children:[(0,r.jsx)("span",kr({className:Sr},{children:(0,r.jsx)(l.JO,{type:"weblink"})})),(0,r.jsxs)("div",kr({className:_r},{children:[(0,r.jsx)("span",kr({className:Or},{children:"Link"})),(0,r.jsx)("span",kr({className:wr},{children:"Link to other files"}))]}))]}))}))]}))]})),document.body)};var Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tr.apply(this,arguments)};const Mr=function(e){var t=e.leaf,n=e.children,o=e.attributes,i=n;t.bold&&(i=(0,r.jsx)("b",{children:i})),t.italic&&(i=(0,r.jsx)("em",{children:i})),t.underline&&(i=(0,r.jsx)("u",{children:i})),t.lineThrough&&(i=(0,r.jsx)("del",{children:i}));var a={};return t.fontSize&&(a.fontSize=t.fontSize),t.color&&(a.color=t.color),t.background&&(a.background=t.background),(0,r.jsx)("span",Tr({},o,{style:Tr(Tr({},a),{wordBreak:"break-word"})},{children:i}))},Er="scriptElement_container",Dr="scriptElement_script",Br="scriptElement_line",Fr="scriptElement_name",Wr="scriptElement_desc",Lr="scriptElement_tip";var qr=function(){return qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qr.apply(this,arguments)},zr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Vr=function(e){var t=e.attributes,n=e.children,i=(e.element,(0,vr._7)(),zr((0,o.useState)(!1),2)),a=(i[0],i[1]),s=zr((0,o.useState)(!1),2),c=(s[0],s[1]);return(0,r.jsxs)("div",qr({className:Er},t,{contentEditable:!1},{children:[(0,r.jsx)("span",{children:n}),(0,r.jsxs)("div",qr({className:Dr},{children:[(0,r.jsx)(l.J2,qr({className:Lr,root:(0,r.jsx)(l.JO,{type:"edit",onClick:function(){return c(!0)}})},{children:"Set Argument"})),(0,r.jsx)("div",{className:Br}),(0,r.jsx)("div",qr({className:Fr,onClick:function(){return a(!0)}},{children:"AA"}))]})),(0,r.jsx)("div",qr({className:Wr},{children:"BB"}))]}))};var Jr=function(){return Jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jr.apply(this,arguments)};const Rr=function(e){var t=e.attributes,n=e.children,o=e.element;switch(o.type){case"centerAlign":return(0,r.jsx)("div",Jr({},t,{style:{textAlign:"center"}},{children:n}));case"leftAlign":return(0,r.jsx)("div",Jr({},t,{style:{textAlign:"left"}},{children:n}));case"rightAlign":return(0,r.jsx)("div",Jr({},t,{style:{textAlign:"right"}},{children:n}));case"script":return(0,r.jsx)(Vr,Jr({attributes:t,element:o},{children:n}));default:return(0,r.jsx)("div",Jr({},t,{children:n}))}};const Gr="toolButton_toolItem",Hr="toolButton_toolItem__active",Qr="toolBar_tip";var Yr=n(4),Ur=function(){return Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ur.apply(this,arguments)};const Zr=function(e){var t,n=e.iconName,o=e.tipContent,i=e.isActive,a=e.onClick;return(0,r.jsx)(l.J2,Ur({className:Qr,root:(0,r.jsx)("span",Ur({className:(0,Yr.Z)((t={},t[Gr]=!0,t[Hr]=!!i,t)),onClick:a},{children:(0,r.jsx)(l.JO,{type:n})}))},{children:o}))},Xr="fontBackgroundButton_list",Kr="fontBackgroundButton_item";var $r=function(){return $r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$r.apply(this,arguments)},eo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const to=function(){var e=eo((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,vr.ui)();return(0,r.jsx)(l.Sd,$r({root:(0,r.jsx)("span",{children:(0,r.jsx)(Zr,{iconName:"chooseColor",tipContent:"Filled",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",$r({className:Xr},{children:[{name:"Default",color:"#22A6B3"},{name:"Gray",color:"#BDBDBD"},{name:"Red",color:"#FF525D"},{name:"Orange",color:"#FF7745"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#30B876"},{name:"Blue",color:"#0099FF"},{name:"Purple",color:"#AA70E0"},{name:"Customize",color:"#757575"}].map((function(e){return(0,r.jsxs)("div",$r({className:Kr,onClick:function(){mr.Editor.addMark(i,"background",e.color)}},{children:[(0,r.jsx)(l.JO,{type:"chooseColor",color:e.color}),(0,r.jsx)("span",$r({style:{color:e.color}},{children:e.name}))]}),e.name)}))}))}))},no="fontColorButton_list",ro="fontColorButton_item";var oo=function(){return oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oo.apply(this,arguments)},io=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const ao=function(){var e=io((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,vr.ui)();return(0,r.jsx)(l.Sd,oo({root:(0,r.jsx)("span",{children:(0,r.jsx)(Zr,{iconName:"fontColor",tipContent:"Font Color",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",oo({className:no},{children:[{name:"Default",color:"#22A6B3"},{name:"Gray",color:"#BDBDBD"},{name:"Red",color:"#FF525D"},{name:"Orange",color:"#FF7745"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#30B876"},{name:"Blue",color:"#0099FF"},{name:"Purple",color:"#AA70E0"},{name:"Customize",color:"#757575"}].map((function(e){return(0,r.jsxs)("div",oo({className:ro,onClick:function(){mr.Editor.addMark(i,"color",e.color)}},{children:[(0,r.jsx)(l.JO,{type:"fontColor",color:e.color}),(0,r.jsx)("span",oo({style:{color:e.color}},{children:e.name}))]}),e.name)}))}))}))},so="fontSizeButton_list",co="fontSizeButton_item";var lo=function(){return lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lo.apply(this,arguments)},uo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const po=function(){var e=uo((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,vr.ui)();return(0,r.jsx)(l.Sd,lo({root:(0,r.jsx)("span",{children:(0,r.jsx)(Zr,{iconName:"fontSize",tipContent:"Font Color",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",lo({className:so},{children:[{icon:"Xsmall",content:"Xsmall",fontSize:"12px"},{icon:"Small",content:"Small",fontSize:"13px"},{icon:"Regular",content:"Medium",fontSize:"16px"},{icon:"Large",content:"Large",fontSize:"18px"},{icon:"Xlarge",content:"Xlarge",fontSize:"24px"}].map((function(e){return(0,r.jsxs)("div",lo({className:co,onClick:function(){mr.Editor.addMark(i,"fontSize",e.fontSize)}},{children:[(0,r.jsx)(l.JO,{type:e.icon}),(0,r.jsx)("span",{children:e.content})]}),e.content)}))}))}))},fo="turnIntoButton_container",ho="turnIntoButton_list",mo="turnIntoButton_item";var vo=function(){return vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vo.apply(this,arguments)},xo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const go=function(){var e=xo((0,o.useState)(!1),2),t=e[0],n=e[1];return(0,r.jsx)(l.Sd,vo({root:(0,r.jsxs)("div",vo({className:fo,onClick:function(){return n(!t)}},{children:[(0,r.jsx)("span",{children:"Turn into"}),(0,r.jsx)(l.JO,{type:"aUpAndDownUp"})]})),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsxs)("div",vo({className:ho},{children:[(0,r.jsx)("div",vo({className:mo},{children:"Script"})),(0,r.jsx)("div",vo({className:mo},{children:"Link"}))]}))}))},yo="toolBar_container",jo="toolBar_comment",bo="toolBar_font",No="toolBar_clear",So="toolBar_color",_o="toolBar_alignment",Oo="toolBar_copy",wo="toolBar_turnInto";var Co=function(){return Co=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Co.apply(this,arguments)},Io=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const ko=function(){var e=(0,o.useRef)(null),t=(0,vr.ui)(),n=(0,vr.UE)(),i=Io((0,o.useState)(!1),2),a=i[0],s=i[1],c=Io((0,o.useState)(!1),2),d=c[0],u=c[1],p=Io((0,o.useState)({top:-1,left:-2}),2),f=p[0],h=p[1],m=(0,o.useRef)(0),v=(0,o.useRef)((function(e){e?u(!0):(u(!1),s(!1))}));(0,o.useEffect)((function(){var e=function(){v.current(!0)},t=function(){v.current(!1)};return document.addEventListener("mouseup",e),document.addEventListener("mousedown",t),function(){document.removeEventListener("mouseup",e),document.removeEventListener("mousedown",t)}}),[]),(0,o.useEffect)((function(){window.clearTimeout(m.current),m.current=window.setTimeout((function(){var r=e.current,o=t.selection;if(r)if(o&&n&&!mr.Range.isCollapsed(o)){var i=window.getSelection();if(i&&"Range"===i.type){var c=i.getRangeAt(0).getBoundingClientRect(),l=c.top+window.pageYOffset,d=c.left+window.pageXOffset,u=r.clientWidth,p=document.body.clientWidth,f=r.parentElement.getBoundingClientRect(),m=f.left,v=f.top,x=p-(u+d);x<0&&(d=d+x-2),h({top:l-v,left:d-m}),a||s(!0)}else a&&s(!1)}else a&&s(!1)}),50)}),[t.selection,n]);var x=function(e,t){return!!Io(mr.Editor.nodes(e,{match:function(e){return!0===e[t]},mode:"all"}),1)[0]},g=function(e,t){var n,r=x(e,t);mr.Transforms.setNodes(e,((n={})[t]=!r||null,n),{match:mr.Text.isText,split:!0})},y=function(e,t){var n=e.selection;return!!n&&!!Io(Array.from(mr.Editor.nodes(e,{at:mr.Editor.unhangRange(e,n),match:function(e){return!mr.Editor.isEditor(e)&&mr.Element.isElement(e)&&e.type===t}})),1)[0]},j=function(e,t){var n=y(e,t);mr.Transforms.setNodes(e,{type:n?null:t},{match:function(t){return mr.Editor.isBlock(e,t)}})};return(0,r.jsxs)("div",Co({className:yo,ref:e,style:d&&a?f:Co(Co({},f),{opacity:0,pointerEvents:"none",visibility:"hidden"}),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()}},{children:[(0,r.jsxs)("div",Co({className:jo},{children:[(0,r.jsx)(l.JO,{type:"comment"}),(0,r.jsx)("span",{children:"comment"})]})),(0,r.jsxs)("div",Co({className:bo},{children:[(0,r.jsx)(po,{}),(0,r.jsx)(Zr,{iconName:"bold",tipContent:"bold",isActive:x(t,"bold"),onClick:function(){return g(t,"bold")}}),(0,r.jsx)(Zr,{iconName:"incline",tipContent:"Italic",isActive:x(t,"italic"),onClick:function(){return g(t,"italic")}}),(0,r.jsx)(Zr,{iconName:"underline",tipContent:"Underline",isActive:x(t,"underline"),onClick:function(){return g(t,"underline")}}),(0,r.jsx)(Zr,{iconName:"lineThrough",tipContent:"Crossline",isActive:x(t,"lineThrough"),onClick:function(){return g(t,"lineThrough")}})]})),(0,r.jsx)("div",Co({className:No},{children:(0,r.jsx)(Zr,{iconName:"clearFormat",tipContent:"Remove",onClick:function(){var e,n,r,o;mr.Transforms.setNodes(t,((e={}).bold=!1,e),{match:mr.Text.isText,split:!0}),mr.Transforms.setNodes(t,((n={}).italic=!1,n),{match:mr.Text.isText,split:!0}),mr.Transforms.setNodes(t,((r={}).underline=!1,r),{match:mr.Text.isText,split:!0}),mr.Transforms.setNodes(t,((o={}).lineThrough=!1,o),{match:mr.Text.isText,split:!0}),mr.Editor.removeMark(t,"fontSize"),mr.Editor.removeMark(t,"color"),mr.Editor.removeMark(t,"background")}})})),(0,r.jsxs)("div",Co({className:So},{children:[(0,r.jsx)(ao,{}),(0,r.jsx)(to,{})]})),(0,r.jsxs)("div",Co({className:_o},{children:[(0,r.jsx)(Zr,{iconName:"textLeft",tipContent:"Left Align",isActive:y(t,"leftAlign"),onClick:function(){return j(t,"leftAlign")}}),(0,r.jsx)(Zr,{iconName:"textCenter",tipContent:"Center Align",isActive:y(t,"centerAlign"),onClick:function(){return j(t,"centerAlign")}}),(0,r.jsx)(Zr,{iconName:"textRight",tipContent:"Right Align",isActive:y(t,"rightAlign"),onClick:function(){return j(t,"rightAlign")}})]})),(0,r.jsx)("div",Co({className:Oo},{children:(0,r.jsx)(Zr,{iconName:"copy",tipContent:"copy",onClick:function(){var e,n=t.selection;n&&!mr.Range.isCollapsed(n)&&new Promise((function(t,n){var r=document.getSelection();if(e){var o=null==r?void 0:r.toString();if(navigator.clipboard)navigator.clipboard.writeText(e).then((function(){t(e)}));else if(document.execCommand){var i=o===e?function(){document.execCommand("copy")}:function(){var t=document.createElement("input");document.body.appendChild(t),t.style.position="absolute",t.style.zIndex="-99",t.style.opacity="0",t.value=e,t.select(),document.execCommand("copy")};Promise.resolve(i()).then((function(){t(e)}))}else n({type:"error",message:"没有相应的复制API"})}else if(r&&"Range"===r.type){var a=r.toString();navigator.clipboard?navigator.clipboard.writeText(a).then((function(){t(a)})):document.execCommand?(i=function(){document.execCommand("copy")},Promise.resolve(i()).then((function(){t(a)}))):n({type:"error",message:"没有相应的复制API"})}else n({type:"error",message:"没有要复制的文本"})})).then((function(e){"string"==typeof e&&l.yw.auto({type:"success",content:"Copy `".concat(e,"` success!")})}))}})})),(0,r.jsx)("div",Co({className:wo},{children:(0,r.jsx)(go,{})}))]}))};const Ao=function(e){var t=e.isVoid,n=e.isInline,r=e.apply;return e.isVoid=function(e){return"script"===e.type||t(e)},e.isInline=function(e){return"script"===e.type||n(e)},e.apply=function(e){r(e)},e};var Po=n(20),To=n(864),Mo=function(e){void 0===e&&(e="");var t=(0,To.Z)(),n={html:e};return new Po.h5(t,"HtmlItem",null,{comment:"",task:""},n)},Eo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Do=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Bo=function(e){if(e.text){var t=document.createElement("span"),n=e.text;t.innerText=n;var r=null,o=null,i=null,a=null,s=null;return e.background&&(t.style.backgroundColor=e.background),e.color&&(t.style.color=e.color),e.fontSize&&(t.style.fontSize=e.fontSize),e.bold&&((r=document.createElement("b")).appendChild(t),s=r),e.italic&&(o=document.createElement("em"),s?o.appendChild(s):o.appendChild(t),s=o),e.lineThrough&&(i=document.createElement("del"),s?i.appendChild(s):i.appendChild(t),s=i),e.underline&&(a=document.createElement("u"),s?a.appendChild(s):a.appendChild(t),s=a),null!=s?s:t}return null},Fo=function(e){for(var t=[],n=0;n<e.length;n++)if(mr.Text.isText(e[n])){var r=e[n],o=Bo(r);if(o){var i=document.createElement("div");i.appendChild(o),t.push(Mo(i.innerHTML))}}return t},Wo=function(e,t){var n=[];return t&&n.push(Mo('<div style="display: inline-block">')),e.forEach((function(e){n.push.apply(n,Do([],Eo(function(e){var t=[];switch(e.type){case"leftAlign":return t.push(Mo('<div style="text-align: left;">')),e.children&&t.push.apply(t,Do([],Eo(Fo(e.children)),!1)),t.push(Mo("</div>")),t;case"rightAlign":return t.push(Mo('<div style="text-align: right;">')),e.children&&t.push.apply(t,Do([],Eo(Fo(e.children)),!1)),t.push(Mo("</div>")),t;case"centerAlign":return t.push(Mo('<div style="text-align: center;">')),e.children&&t.push.apply(t,Do([],Eo(Fo(e.children)),!1)),t.push(Mo("</div>")),t;default:return t.push(Mo("<div>")),e.children&&t.push.apply(t,Do([],Eo(Fo(e.children)),!1)),t.push(Mo("</div>")),t}}(e)),!1))})),t&&n.push(Mo("</div>")),n},Lo=function(){return Lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lo.apply(this,arguments)},qo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Vo=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Jo=["B","EM","DEL","U"],Ro={B:"bold",EM:"italic",DEL:"lineThrough",U:"underline"},Go=function(e){var t={},n=e.style.textAlign,r=e.style.backgroundColor,o=e.style.color,i=e.style.fontSize;return n&&(t.align="".concat(n,"Align")),r&&(t.background=r),o&&(t.color=o),i&&(t.fontSize=i),t},Ho=function(e){var t,n,r=[];try{for(var o=qo(e),i=o.next();!i.done;i=o.next()){var a=i.value;if("SPAN"===a.tagName){var s=Lo({text:a.innerText},Go(a));r.push(s)}if(Jo.includes(a.tagName)){var c={};Ro[a.tagName]&&(c[Ro[a.tagName]]=!0);for(var l=a;l.children.length>0;)Ro[l.children[0].tagName]&&(c[Ro[l.children[0].tagName]]=!0),"SPAN"===l.children[0].tagName&&(c=Lo(Lo({text:l.children[0].innerText},c),Go(l.children[0]))),l=l.children[0];r.push(c)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},Qo=function(e,t,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=[],o="",i=[],a=JSON.parse(JSON.stringify(e));return n||(a.shift(),a.pop()),a.forEach((function(e,n){if("HtmlItem"===e.kind){var s=e.data.html;if(o+=s,s.includes("</div")){o+=s;var c=document.createElement("div");c.innerHTML=o;var l=c.children[0];if(l){var d=function(e){var t=Go(e);return{type:t.align?t.align:"paragraph",children:Ho(e.children)}}(l);i.map((function(e){if(a[e]){var t=JSON.parse(JSON.stringify(d.children));d.children=Vo([],zo(t),!1)}})),0===d.children.length&&(d.children=[{text:""}]),r.push(d)}o="",i=[]}}"ScriptContent"===e.kind&&(t||i.push(n))})),0===r.length?[{type:"paragraph",children:[{text:""}]}]:r},Yo=function(){return Yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yo.apply(this,arguments)},Uo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Zo=function(e){var t=e.handleHtml,n=e.placeholder,i=e.isScript,a=void 0===i||i,s=e.padding,c=void 0===s?"0 2.5rem":s,l=e.value,d=e.readOnly,u=void 0!==d&&d,p=e.handleOnblur,f=e.minHeight,h=void 0===f?"4rem":f,m=e.isFocus,v=void 0!==m&&m,x=(0,o.useMemo)((function(){return Ao((0,vr.BU)((0,mr.createEditor)()))}),[]),g=(0,o.useRef)(),y=Uo((0,o.useState)((function(){return l?Array.isArray(l)?Qo(l):function(e,t){var n,r,o=document.createElement("div");o.innerHTML=e;var i=[],a=o.children;try{for(var s=qo(a),c=s.next();!c.done;c=s.next()){var l=c.value,d=document.createElement("div");d.appendChild(l.cloneNode(!0)),i.push(Mo(d.innerHTML))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return Qo(i,t,!0)}(l):[{type:"paragraph",children:[{text:""}]}]})),1),j=y[0],b=Uo((0,o.useState)(!1),2),N=b[0],S=b[1],_=Uo((0,o.useState)(!1),2),O=(_[0],_[1]),w=Uo((0,o.useState)(!1),2),C=(w[0],w[1]),I=(0,o.useCallback)((function(e){return(0,r.jsx)(Rr,Yo({},e))}),[]),k=(0,o.useCallback)((function(e){return(0,r.jsx)(Mr,Yo({},e))}),[]);return(0,o.useEffect)((function(){v&&setTimeout((function(){vr.F3.focus(x)}))}),[]),(0,r.jsx)("div",Yo({style:{position:"relative",width:"100%"}},{children:(0,r.jsxs)(vr.mH,Yo({editor:x,value:j,onChange:function(e){g.current&&window.clearTimeout(g.current),g.current=window.setTimeout((function(){var n=Wo(e,Array.isArray(l));t&&t(n)}),50)}},{children:[(0,r.jsx)(ko,{}),(0,r.jsx)(Pr,{show:N,handleChangeShow:S,handleCreateScript:function(){O(!0)},handleSelectScript:function(){C(!0)}}),(0,r.jsx)(vr.CX,{style:{width:"100%",height:"100%",lineHeight:"4rem",fontSize:"1.6rem",padding:c,minHeight:h,boxSizing:"border-box"},readOnly:u,renderElement:I,renderLeaf:k,placeholder:n,onKeyDown:function(e){S(!1),"/"===e.key&&a&&(e.currentTarget.blur(),e.preventDefault(),S(!0)),e.key},onFocus:function(){S(!1)},onBlur:function(){N&&S(!1),p&&p()}})]}))}))};var Xo=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const Ko="nodeInstruction_textContainer",$o="nodeInstruction_hintContainer",ei="nodeInstruction_edit",ti="nodeInstruction_hint";var ni=function(){return ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ni.apply(this,arguments)};const ri=function(){var e=Xo(),t=(0,i.useSelector)((function(e){return e.editState.target.type})),n=(0,i.useDispatch)(),o=(0,B.$G)().t;return(0,r.jsxs)("div",ni({className:Ko},{children:[(0,r.jsxs)("div",ni({className:$o},{children:[(0,r.jsx)("span",{children:o("nodes.markNode.hint.title")}),(0,r.jsx)(Cn,ni({maxHeight:"9.6rem",maxWidth:250,offsetY:-5,content:(0,r.jsx)("div",ni({className:ti},{children:o("nodes.markNode.hint.instructions")}))},{children:(0,r.jsx)(l.JO,{type:"query"})}))]})),(0,r.jsx)("div",ni({className:ei},{children:(0,r.jsx)(Zo,{isScript:!1,minHeight:"9.6rem",value:e.editor.instruction.data.html,placeholder:o("nodes.markNode.placeholder.instruction"),handleHtml:function(r){var o=r.map((function(e){return e.data.html})).join("");e.editor.instruction.data.html=o,n("intervieweeNodes"===t?c.WA(e):c.Vb(e))}})}))]}))},oi="nodeTitle_container",ii="nodeTitle_box",ai="nodeTitle_input",si="nodeTitle_icon";var ci=function(e){return(0,i.useSelector)((function(t){return"intervieweeNodes"===e?t.nodesState.intervieweeNodes.orders:t.nodesState.interviewerNodes.orders}))},li=function(){return li=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},li.apply(this,arguments)};const di=function(e){var t=e.icon,n=e.code,o=void 0===n?"":n,a=e.edit,s=void 0===a||a,l=(0,i.useSelector)((function(e){return e.editState.target})),d=l.id,u=l.type,p=ci(u),f=p.rootOrder,h=p.nodeOrder,m=Le(u),v=(0,i.useDispatch)();return(0,r.jsxs)("div",li({className:oi},{children:[(0,r.jsx)("div",li({className:si},{children:t})),(0,r.jsx)("div",li({className:ii},{children:s?(0,r.jsx)("input",{className:ai,defaultValue:o,onBlur:function(e){var t=e.currentTarget.value.trim();if(t&&t!==o)if(-1===Object.keys(h).findIndex((function(e){return h[e].code===t}))){h[d].code=t,v("intervieweeNodes"===u?c.j5({rootOrder:f,nodeOrder:h}):c.Kn({rootOrder:f,nodeOrder:h}));var n=m[d];n.structure.code=t,v("intervieweeNodes"===u?c.WA(n):c.Vb(n))}else e.currentTarget.value=o;else e.currentTarget.value=o}}):(0,r.jsx)("span",{children:o})}))]}))},ui="QuestionNode_optionDimContainer",pi="QuestionNode_optionDimPty",fi="QuestionNode_checked",hi="QuestionNode_check",mi="QuestionNode_tip",vi="QuestionNode_optionButtons",xi="QuestionNode_optionDimLabel",gi="QuestionNode_contentConfig",yi="QuestionNode_import",ji="QuestionNode_import_tip",bi="QuestionNode_save";var Ni=n(12),Si=n(8);const _i="questionOptionItem_container",Oi="questionOptionItem_container_drag",wi="questionOptionItem_container_hover",Ci="questionOptionItem_questionList_item",Ii="questionOptionItem_buttonIcon",ki="questionOptionItem_drag_icon",Ai="questionOptionItem_buttonContainer",Pi="questionOptionItem_contentContainer",Ti="questionOptionItem_optionFixPosition";var Mi=n(11),Ei={iconName:"plus",icon:[448,512,[],"f011","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Di={iconName:"edit",icon:[1024,1024,[],"f055","M674.6112 600.4224c-7.3216 0-14.336 1.3312-19.456-3.84L428.2368 371.2a26.2144 26.2144 0 0 1 0-37.7856l237.9264-237.4144a110.592 110.592 0 0 1 78.0288-31.488c28.0064 0 53.76 10.4448 72.448 29.184l113.9712 114.0736c19.2512 19.2 30.72 47.104 31.3856 76.544 0.768 30.208-9.9328 58.5728-29.2864 77.9264l-238.592 234.3936c-5.2224 5.12-12.1856 3.7888-19.456 3.7888zM486.5536 353.9456l188.1088 188.5696 219.136-219.136c8.8064-8.7552 13.6192-22.528 13.2096-37.6832-0.3584-15.2064-6.0416-29.7984-15.2576-38.9632L777.728 132.7104a46.7968 46.7968 0 0 0-33.536-12.9536c-14.9504 0-29.184 5.7344-39.1168 15.6672L486.5536 353.9456zM585.7792 957.952a27.5456 27.5456 0 0 1-19.456-8.0896c-27.648-27.648-66.56-66.816-111.616-112.3328-115.712-116.5824-274.0736-276.2752-384.4608-383.744a27.392 27.392 0 0 1-0.256-39.168 378.88 378.88 0 0 1 403.712-85.6064 27.4944 27.4944 0 0 1-19.7632 51.3024A323.84 323.84 0 0 0 129.4336 434.688c109.1072 106.8544 255.5392 254.464 364.288 364.0832 34.9184 35.2256 66.1504 66.7136 91.2896 91.9552a321.536 321.536 0 0 0 59.2896-311.7056 27.4944 27.4944 0 1 1 52.1216-17.5104c46.08 137.216 11.1616 286.0032-91.1872 388.352-5.12 5.12-12.1344 8.0384-19.456 8.0384zM83.2 957.6448a27.4432 27.4432 0 0 1-19.3024-47.104l236.2368-232.9088a27.4944 27.4944 0 1 1 38.6048 39.168l-236.2368 232.9088a27.392 27.392 0 0 1-19.3024 7.936z"]},Bi={iconName:"minus",icon:[448,512,[],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Fi={iconName:"grip-vertical",icon:[320,512,[],"f58e","M88 352C110.1 352 128 369.9 128 392V440C128 462.1 110.1 480 88 480H40C17.91 480 0 462.1 0 440V392C0 369.9 17.91 352 40 352H88zM280 352C302.1 352 320 369.9 320 392V440C320 462.1 302.1 480 280 480H232C209.9 480 192 462.1 192 440V392C192 369.9 209.9 352 232 352H280zM40 320C17.91 320 0 302.1 0 280V232C0 209.9 17.91 192 40 192H88C110.1 192 128 209.9 128 232V280C128 302.1 110.1 320 88 320H40zM280 192C302.1 192 320 209.9 320 232V280C320 302.1 302.1 320 280 320H232C209.9 320 192 302.1 192 280V232C192 209.9 209.9 192 232 192H280zM40 160C17.91 160 0 142.1 0 120V72C0 49.91 17.91 32 40 32H88C110.1 32 128 49.91 128 72V120C128 142.1 110.1 160 88 160H40zM280 32C302.1 32 320 49.91 320 72V120C320 142.1 302.1 160 280 160H232C209.9 160 192 142.1 192 120V72C192 49.91 209.9 32 232 32H280z"]},Wi={iconName:"clipboard-list",icon:[384,512,[],"f46d","M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM96 392c-13.25 0-24-10.75-24-24S82.75 344 96 344s24 10.75 24 24S109.3 392 96 392zM96 296c-13.25 0-24-10.75-24-24S82.75 248 96 248S120 258.8 120 272S109.3 296 96 296zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM304 384h-128C167.2 384 160 376.8 160 368C160 359.2 167.2 352 176 352h128c8.801 0 16 7.199 16 16C320 376.8 312.8 384 304 384zM304 288h-128C167.2 288 160 280.8 160 272C160 263.2 167.2 256 176 256h128C312.8 256 320 263.2 320 272C320 280.8 312.8 288 304 288z"]},Li={icon:[1092,1024,[],"f47d","M784.64 9.6a32 32 0 0 0-45.44 0 30.72 30.72 0 0 0 0 44.8l161.28 161.28a512 512 0 0 0-396.8 181.76 739.2 739.2 0 0 0-177.92 320 32 32 0 0 0 24.96 37.76 32.64 32.64 0 0 0 37.76-24.96A675.2 675.2 0 0 1 550.4 441.6 448 448 0 0 1 908.8 280.32l-170.88 184.32a32 32 0 0 0 0 44.8 32 32 0 0 0 45.44 0l216.96-236.8a31.36 31.36 0 0 0 0-44.16z M524.8 128a32 32 0 0 0 0-64H140.8a128 128 0 0 0-128 128v704a128 128 0 0 0 128 128h704a128 128 0 0 0 128-128V630.4a32 32 0 0 0-64 0V896a64 64 0 0 1-64 64H140.8a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64h384z"]};const qi="codeInput_container";var zi=function(){return zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zi.apply(this,arguments)};const Vi=function(e){var t=e.defaultCode,n=e.handleChangeCode;return(0,r.jsx)("div",zi({className:qi},{children:(0,r.jsx)("input",{type:"text",tabIndex:-1,defaultValue:t,onBlur:function(e){var r=e.currentTarget.value.trim();r&&r!==t?n&&n(e):e.currentTarget.value=t}})}))},Ji="textEdit_container";var Ri=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Gi=function(e){var t,n=e.handleHtml,i=e.height,a=e.placeholder,s=(e.isScript,e.value),c=e.readOnly,l=void 0!==c&&c,d=e.isText,u=void 0!==d&&d,p=e.padding,f=void 0===p?"0 2.5rem":p,h=Ri((0,o.useState)(!1),2),m=h[0],v=h[1];return(0,r.jsx)(r.Fragment,{children:m&&!u?(0,r.jsx)(Zo,{height:i,padding:f,placeholder:a,isScript:!1,value:s,isFocus:!0,readOnly:l,handleHtml:function(e){n&&n(e)},handleOnblur:function(){v(!1)}}):(0,r.jsx)("div",{style:{padding:f},contentEditable:!0,className:Ji,dangerouslySetInnerHTML:{__html:(t="",s.forEach((function(e){"HtmlItem"===e.kind&&(t+=e.data.html)})),t)},onMouseDown:function(){v(!0)},onFocus:function(){return v(!0)}})})};var Hi=function(){return Hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hi.apply(this,arguments)};const Qi=function(e){var t,n=e.item,a=e.options,s=void 0===a?[]:a,c=e.hover,u=void 0!==c&&c,p=e.dimIndex,f=e.handleChangeValue,h=e.handleAddOption,m=e.handleDeleteOption,v=e.handleCode,x=(e.handleOptionProperty,(0,o.useRef)(null)),g=(0,i.useSelector)((function(e){return e.lanState.editLan})),y=qe(),j=(0,Si.useSortable)({id:n.id}),b=j.attributes,N=j.listeners,S=j.setNodeRef,_=j.transform,O=j.transition,w=j.isDragging,C=j.activeIndex,I=j.setActivatorNodeRef,k={transform:Mi.CSS.Transform.toString(_),transition:O},A=n.data.code;return(0,r.jsx)("div",Hi({className:d((t={},t[_i]=!0,t[Oi]=w,t[wi]=u,t)),ref:S,style:k},{children:(0,r.jsxs)("div",Hi({className:Ci,ref:x},{children:[(0,r.jsxs)("div",Hi({className:Ai},{children:[(0,r.jsx)("span",Hi({className:Ii,onClick:h},{children:(0,r.jsx)(l.JO,{icon:Ei})})),(0,r.jsx)("span",Hi({ref:I},b,N,{tabIndex:-1,className:ki},{children:(0,r.jsx)(l.JO,{icon:Fi})})),(0,r.jsx)("span",Hi({className:Ii,onClick:m},{children:(0,r.jsx)(l.JO,{icon:Bi})}))]})),(0,r.jsx)(Vi,{defaultCode:A,handleChangeCode:function(e){var t=e.currentTarget.value.trim(),n=[];s.forEach((function(e){if("OptionList"===e.kind)e.list.forEach((function(e){var t=e.data.code;n.push(t)}));else{var t=e.data.code;n.push(t)}})),n.includes(t)?e.currentTarget.value=A:v&&v(t)}}),(0,r.jsxs)("div",Hi({className:Pi},{children:[(0,r.jsx)(Gi,{height:"4rem",isText:C>=0,isScript:!1,padding:"0 1.5rem",value:n.data.text[g].content.list.list,handleHtml:function(e){f&&f(e)}},g),void 0!==p&&y.structure.content.meta.randomized[p].fixedPositionFor[n.data.code]&&(0,r.jsx)("div",Hi({className:Ti},{children:(0,r.jsx)(l.JO,{icon:Di})}))]}))]}))}))};var Yi=n(184),Ui=n(865);const Zi={reusableList_container:"reusableList_container",reusableList_container_draging:"reusableList_container_draging",reusableList_head:"reusableList_head",reusableList_drag_icon:"reusableList_drag_icon",reusableList_container_hover:"reusableList_container_hover",reusableList_operator:"reusableList_operator",reusableList_more:"reusableList_more",reusableList_fold:"reusableList_fold",reusableList_unfold:"reusableList_unfold",reusableList_item:"reusableList_item",reusableList_item_buttons:"reusableList_item_buttons",reusableList_item_code:"reusableList_item_code",reusableList_item_content:"reusableList_item_content"},Xi="caseCaderItem_container",Ki="caseCaderItem_child",$i="caseCaderItem_container__select",ea="caseCaderItem_container__disable",ta="caseCaderItem_arrow";var na=function(){return na=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},na.apply(this,arguments)};const ra=function(e){var t,n=e.item,o={};return!n.isDisable&&n.color&&(o.color=n.color),(0,r.jsxs)("div",na({className:function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t.join(" ")}((t={},t[Xi]=!0,t[ea]=!!n.isDisable,t[$i]=!!n.select,t)),style:o,onMouseDown:n.handleClick},{children:[n.content,n.children&&(0,r.jsx)(l.JO,{type:"open",className:ta}),n.children&&!n.isDisable&&(0,r.jsx)("div",na({className:Ki},{children:(0,r.jsx)(aa,{list:n.children})}))]}))},oa="caseCader_container";var ia=function(){return ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ia.apply(this,arguments)};const aa=function(e){var t=e.list,n={width:t.width};t.y&&(n.transform="translateY(".concat(t.y,")"));return(0,r.jsx)("div",ia({className:function(){var e=[oa];return t.customizeClass&&e.push(t.customizeClass),e.join(" ")}(),style:n},{children:t.item.map((function(e,t){return(0,r.jsx)(ra,{item:e},t)}))}))},sa="reusableMore_container";var ca=function(){return ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ca.apply(this,arguments)},la=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const da=function(e){var t=e.handleEdit,n=e.handleTransition,i=e.handleDelete,a=la((0,o.useState)(!1),2),s=a[0],c=a[1],d=(0,B.$G)().t;return(0,r.jsx)(l.Sd,ca({root:(0,r.jsx)("div",ca({className:sa,onClick:function(){return c(!0)}},{children:(0,r.jsx)(l.JO,{type:"moreHorizontal"})})),show:s,placement:"rb",direction:"vertical",handleGlobalClick:function(){return c(!1)}},{children:(0,r.jsx)(aa,{list:{item:[{content:d("nodes.questionNode.editCode"),handleClick:t},{content:d("nodes.questionNode.transition"),handleClick:n},{content:d("nodes.questionNode.delete"),color:"#FF525D",handleClick:i}],width:"10rem"}})}))};var ua=function(){return ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ua.apply(this,arguments)},pa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const fa=function(e){var t,n,i,a,s=e.reusableList,c=e.handleEdit,u=e.handleTransition,p=e.handleDelete,f=e.dimIndex,h=void 0===f?0:f,m=(e.more,e.isEdit),v=void 0===m||m,x=e.hover,g=void 0!==x&&x,y=(0,Si.useSortable)({id:s.id}),j=y.attributes,b=y.listeners,N=y.setNodeRef,S=y.transform,_=y.transition,O=y.isDragging,w=y.setActivatorNodeRef,C={transform:Mi.CSS.Transform.toString(S),transition:_},I=pa((0,o.useState)(!1),2),k=(I[0],I[1],pa((0,o.useState)(!1),2)),A=k[0],P=k[1],T=qe(),M=null===(n=s.meta)||void 0===n?void 0:n.name,E=null===(a=null===(i=T.structure.content.meta.grouped[h].members[s.id])||void 0===i?void 0:i.title)||void 0===a?void 0:a.text;return(0,r.jsxs)("div",ua({style:C,ref:N,className:d((t={},t[Zi.reusableList_container]=!0,t[Zi.reusableList_container_draging]=O,t[Zi.reusableList_container_hover]=g,t))},{children:[(0,r.jsxs)("div",ua({className:Zi.reusableList_head},{children:[(0,r.jsxs)("div",{children:[v&&(0,r.jsx)("span",ua({ref:w},j,b,{className:Zi.reusableList_drag_icon},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsxs)("span",{children:["Reusable List: ",v?M:E]})]}),(0,r.jsxs)("div",ua({className:Zi.reusableList_operator},{children:[(0,r.jsx)(da,{handleEdit:c,handleTransition:u,handleDelete:p}),(0,r.jsx)("div",ua({className:Zi.reusableList_fold,onMouseDown:function(e){return e.stopPropagation()},onClick:function(){return P(!A)}},{children:(0,r.jsx)(l.JO,{type:"down",style:{transform:"rotate(".concat(A?"180":"0","deg)")},className:Zi.reusableList_unfold})}))]}))]})),!O&&A&&(0,r.jsx)("div",ua({className:Zi.reusableList_list,onMouseDown:function(e){return e.stopPropagation()}},{children:s.list.map((function(e){return(0,r.jsxs)("div",ua({className:Zi.reusableList_item},{children:[(0,r.jsxs)("div",ua({className:Zi.reusableList_item_buttons},{children:[(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p}),(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q}),(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4})]})),(0,r.jsx)("div",ua({className:Zi.reusableList_item_code},{children:e.data.code}))]}),"".concat(s.id).concat(e.id))}))}))]}))};var ha=function(e){void 0===e&&(e="");var t=(0,To.Z)(),n={html:e};return new Po.h5(t,"HtmlItem",null,{comment:"",task:""},n)},ma=function(e){void 0===e&&(e="");var t=(0,To.Z)(),n={name:e,link:null},r={comment:"",task:"",instruction:ha()};return new Po.X7(t,"OptionList",n,r,[])},va=function(e){var t=(0,To.Z)(),n={type:e,options:[[],[]],optionsDisplay:{}};return new Po.ks(t,"QuestionContent",{randomized:[{active:!1,type:"auto",order:{recordedFormat:"",script:"",predefined:[]},fixedPositionFor:{},options:{}},{active:!1,type:"auto",order:{recordedFormat:"",script:"",predefined:[]},fixedPositionFor:{},options:{}}],grouped:[{active:!1,randomized:{active:!1,type:"auto",fixedPositionFor:{},options:{},order:{recordedFormat:"",script:"",predefined:[]}},members:{}},{active:!1,randomized:{active:!1,type:"auto",fixedPositionFor:{},options:{},order:{recordedFormat:"",script:"",predefined:[]}},members:{}}],extraData:{oe:{}}},null,n)},xa=function(){var e=(0,To.Z)();return new Po.sU(e,"BlockContent",null,null,{type:"Block",list:[]})},ga=function(){var e=(0,To.Z)();return new Po.Vr(e,"ExecutionContent",null,null,{type:"Execution",executions:[]})},ya=function(){var e=(0,To.Z)(),t={type:"Loop",options:ma(),logics:[],list:[],loopItemDisplay:{}};return new Po.af(e,"LoopContent",null,null,t)},ja=function(){var e=(0,To.Z)();return new Po.tj(e,"LoopContent",null,null,{type:"Mark",markers:[],logics:[]})},ba=function(){var e=(0,To.Z)();return new Po.Kj(e,"QuotaContent",null,null,{type:"Quota",markers:[],logics:[],quotas:{}})},Na=function(e,t){void 0===e&&(e="en"),void 0===t&&(t="");var n=(0,To.Z)(),r=[];"string"==typeof t?r.push(ha(t)):t.map((function(e){r.push(ha(e))}));var o={type:"String",lan:e,list:new Po.Gn("".concat((0,To.Z)()),"TextList",null,{comment:"",task:""},r)};return new Po.D7(n,"TextContent",null,{comment:""},o)},Sa=function(e,t,n){void 0===t&&(t=["ENG"]),void 0===n&&(n="");var r=(0,To.Z)(),o={comment:"",task:"",instruction:ha()},i={default:Na("en",n)};(t=t.filter((function(e){return"ENG"!==e}))).map((function(e){i[e]=Na(e.toLocaleLowerCase(),n)}));var a={code:e,text:i};return new Po.BA(r,"OptionItem",null,o,a)},_a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Oa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},wa=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ca=function(e){var t="";e.list.forEach((function(e){(0,ze.vT)(e)&&(t+=e.data.html)}));var n=document.createElement("div");return n.innerHTML=t,n.innerText},Ia=function(e){var t=[];for(var n in e){var r=e[n].title.text;if(r.includes("Group ")){var o=Number(r.replace("Group ",""));!isNaN(o)&&t.push(o)}}for(var i=1;t.includes(i);)i++;var a=(Array(3).join("0")+String(i)).slice(-3);return"Group ".concat(a)},ka=function(e,t){void 0===t&&(t=(0,To.Z)());return{id:t,code:t,options:{},title:{text:Ia(e),script:null},groupColor:function(){var e,t,n="#",r=window.crypto.getRandomValues(new Uint8Array(3));try{for(var o=wa(r),i=o.next();!i.done;i=o.next()){var a=i.value;n+=(Array(2).join("0")+a.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n}(),order:{recordedFormat:"",script:"",predefined:[]}}},Aa=function(e,t){var n=[];return t.forEach((function(e){if("OptionList"===e.kind)e.list.forEach((function(e){var t=e.data.code;n.push(t)}));else{var t=e.data.code;n.push(t)}})),e.forEach((function(e){e.list.forEach((function(e){n.push(e.data.code)}))})),Oa([],_a(new Set(n)),!1).length!==n.length},Pa=function(e,t,n){var r=[];return t.forEach((function(e){if("OptionList"===e.kind)e.list.forEach((function(e){var t=e.data.code;r.push(t)}));else{var t=e.data.code;r.push(t)}})),e.forEach((function(e){e.list.forEach((function(e){e.id!==n.id&&r.push(e.data.code)}))})),r.includes(n.data.code)};const Ta="addButton_add",Ma="addButton_add__disabled";var Ea=function(){return Ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ea.apply(this,arguments)};const Da=function(e){var t,n=e.content,o=e.disable,i=void 0!==o&&o,a=e.handleAdd;return(0,r.jsxs)("div",Ea({className:d((t={},t[Ta]=!0,t[Ma]=i,t)),onClick:function(){!i&&a&&a()}},{children:[(0,r.jsx)(l.JO,{type:"plus"}),(0,r.jsx)("span",{children:n})]}))},Ba={alertPro_container:"alertPro_container",alert_container:"alert_container",alert_closeIcon:"alert_closeIcon",alert_bg:"alert_bg",alertPro_radius_10:"alertPro_radius_10",alertPro_close_28:"alertPro_close_28",alertPro_close_23:"alertPro_close_23",alertPro_close_24:"alertPro_close_24",alertPro_close_25:"alertPro_close_25",alertPro_close_16:"alertPro_close_16",alertPro_close_19:"alertPro_close_19",modal_content:"modal_content",modal_title:"modal_title",modal_description:"modal_description"},Fa="modalTitle_container";var Wa=function(){return Wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wa.apply(this,arguments)};const La={modalDescription_container:"modalDescription_container",modalDescription_content:"modalDescription_content",modalDescription_neutral_300:"modalDescription_neutral_300",modalDescription_neutral_400:"modalDescription_neutral_400",modalDescription_display_font:"modalDescription_display_font"};var qa=function(){return qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qa.apply(this,arguments)};const za=function(e){var t=e.marginTop,n=void 0===t?"0rem":t,o=e.marginLeft,i=void 0===o?"0rem":o,a=e.marginRight,s=void 0===a?"auto":a,c=e.className,d=e.height,u=void 0===d?"auto":d,p=e.CN,f=void 0===p?"cBody1":p,h=e.EN,m=void 0===h?"body1":h,v=e.color,x=void 0===v?"neutral_300":v,g=e.children,y=[La.modalDescription_content,La["modalDescription_".concat(x)]];return c&&y.push(c),(0,r.jsx)("div",qa({style:{marginTop:n,marginLeft:i,marginRight:s,height:u},className:La.modalDescription_container},{children:(0,r.jsx)(l.QP,qa({fonts:{CN:f,EN:m},className:y.join(" ")},{children:g}))}))},Va="modalSecondaryTitle_container";var Ja=function(){return Ja=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ja.apply(this,arguments)};const Ra="modalButtons_container",Ga="modalButtons_confirm",Ha="modalButtons_confirm__disabled",Qa="modalButtons_cancel",Ya="modalButtons_loadingDot";var Ua=function(){return Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ua.apply(this,arguments)};const Za="modalErrorMsg_container";var Xa=function(){return Xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xa.apply(this,arguments)},Ka=function(){return Ka=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ka.apply(this,arguments)},$a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},es=function(e){var t,n=e.cache,o=void 0!==n&&n,i=e.animationType,a=void 0===i?"fade":i,s=e.custom,c=void 0===s||s,u=e.width,p=void 0===u?"auto":u,f=e.height,h=void 0===f?"auto":f,m=e.borderRadius,v=void 0===m?"radius_10":m,x=e.closePosition,g=void 0===x?"close_28":x,y=$a(e,["cache","animationType","custom","width","height","borderRadius","closePosition"]);return(0,r.jsx)(l.bZ,Ka({cache:o,animationType:a,custom:c,width:p,height:h,removeOnHidden:!0,className:d((t={},t[Ba.alertPro_container]=!0,t[Ba["alertPro_".concat(v)]]=!0,t[Ba["alertPro_".concat(g)]]=!0,t))},y))};es.ModalTitle=function(e){var t,n=e.marginTop,o=void 0===n?"0rem":n,i=e.CN,a=void 0===i?"cH4":i,s=e.EN,c=void 0===s?"h2":s,u=e.children;return(0,r.jsx)("div",Wa({style:{marginTop:o}},{children:(0,r.jsx)(l.QP,Wa({fonts:{CN:a,EN:c},className:d((t={},t[Fa]=!0,t))},{children:u}))}))},es.ModalDescription=za,es.ModalSecondaryTitle=function(e){var t=e.marginTop,n=void 0===t?"0rem":t,o=e.className,i=e.children,a=[Va];return o&&a.push(o),(0,r.jsx)("div",Ja({style:{marginTop:n}},{children:(0,r.jsx)(l.QP,Ja({fonts:{CN:"cH6",EN:"subtitle2"},className:a.join(" ")},{children:i}))}))},es.ModalButtons=function(e){var t,n=e.right,o=void 0===n?"3.2rem":n,i=e.bottom,a=void 0===i?"2.4rem":i,s=e.loading,c=void 0!==s&&s,u=e.loadingText,p=void 0===u?"":u,f=e.width,h=void 0===f?{cn:"6rem",en:"6rem"}:f,m=e.cancelWidth,v=e.loadingWidth,x=void 0===v?{cn:"6rem",en:"6rem"}:v,g=e.height,y=void 0===g?"3.2rem":g,j=e.className,b=e.disabled,N=void 0!==b&&b,S=e.gap,_=void 0===S?"0.8rem":S,O=e.confirmText,w=void 0===O?"确认":O,C=e.cancelText,I=void 0===C?"取消":C,k=e.handleCancel,A=e.handleConfirm,P=(0,B.$G)().i18n,T=[Ra];return j&&T.push(j),(0,r.jsxs)("div",Ua({className:T.join(" "),style:{right:o,bottom:a}},{children:[(0,r.jsx)("button",Ua({className:Qa,style:{width:m?m[P.language]:h[P.language],height:y,borderRadius:"6px"},onClick:k},{children:(0,r.jsx)(l.QP,Ua({fonts:{EN:"cBody3",CN:"cBody3"}},{children:I}))})),(0,r.jsxs)("button",Ua({className:d((t={},t[Ga]=!0,t[Ha]=N,t)),disabled:N,style:{width:c?x[P.language]:h[P.language],height:y,borderRadius:"6px",marginLeft:_},onClick:A},{children:[c&&(0,r.jsx)("div",{className:Ya}),(0,r.jsx)(l.QP,Ua({fonts:{CN:"cBody3",EN:"body2"}},{children:c?(0,r.jsx)("span",{children:p}):(0,r.jsx)("span",{children:w})}))]}))]}))},es.ModalErrorMsg=function(e){var t=e.show,n=e.marginTop,o=void 0===n?"0rem":n,i=e.children;return t?(0,r.jsx)("div",Xa({style:{marginTop:o}},{children:(0,r.jsx)(l.QP,Xa({fonts:{CN:"cBody3",EN:"body2"},className:Za},{children:i}))})):(0,r.jsx)(r.Fragment,{})};const ts="optionPropertyModal_container",ns="optionPropertyModal_title",rs="optionPropertyModal_content",os="optionPropertyModal_content_check",is="optionPropertyModal_dropdownContainer",as="optionPropertyModal_dropdownContainer__select",ss="optionPropertyModal_selected",cs="optionPropertyModal_checkFuture",ls="optionPropertyModal_content_tip",ds="optionPropertyModal_list",us="optionPropertyModal_createScript",ps="optionPropertyModal_btn";var fs=function(){return fs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fs.apply(this,arguments)},hs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ms=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},vs=function(e){var t,n=e.status,a=e.setStatus,s=e.dimIndex,c=e.handleAddScript,u=hs((0,o.useState)(!1),2),p=u[0],f=u[1],h=hs((0,o.useState)(!1),2),m=h[0],v=h[1],x=hs((0,o.useState)(""),2),g=x[0],y=x[1],j=hs((0,o.useState)(""),2),b=j[0],N=j[1],S=qe(),_=(0,i.useSelector)((function(e){return e.scriptState.builtInScripts})).data,O=(0,B.$G)("",{keyPrefix:"components.alertWindow.dimConfig"}).t;(0,o.useEffect)((function(){var e=S.structure.content.meta.randomized[s],t=e.active,n=e.order.recordedFormat,r=e.order.script;v(t),y(n),r&&N(r)}),[]);var w=S.structure.content.meta.grouped[s].active,C=S.structure.content.meta.randomized[s],I={item:ms(ms([],hs([]),!1),[{content:(0,r.jsxs)("div",fs({className:us},{children:[(0,r.jsx)(l.JO,{type:"addition"}),(0,r.jsx)("span",{children:O("createScript")})]})),handleClick:function(){c&&c(),a(!1)}}],!1),width:"13.2rem"};return(0,r.jsx)(es,fs({status:n,changeStatus:function(){return a(!1)}},{children:(0,r.jsxs)("div",fs({className:ts},{children:[(0,r.jsxs)("div",fs({className:ns},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.b7W})}),(0,r.jsx)("span",{children:O("title")})]})),(0,r.jsxs)("div",fs({className:rs},{children:[(0,r.jsxs)("div",fs({className:os},{children:[(0,r.jsx)(l.J2,fs({className:ls,show:!!w&&void 0,root:(0,r.jsx)(l.Jr,{defaultChecked:C.active,disabled:w,onChange:function(e){v(e)}})},{children:"若您想要勾选乱序功能，请先取消勾选启用组。"})),O("checkBox.randomized")]})),m&&(0,r.jsxs)("div",fs({className:d((t={},t[is]=!0,t[as]=p,t)),tabIndex:-1,onBlur:function(){return f(!1)}},{children:[(0,r.jsxs)("div",fs({className:ss,onClick:function(){return f(!p)}},{children:[(0,r.jsx)("span",{children:g?"Randomize All Items by Script"===g?O("labels.script"):"Randomize All Items by Default"===g?O("labels.default"):void 0:O("placeholder")}),(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"dropdown"})})]})),p&&(0,r.jsx)("div",fs({className:ds,onClick:function(){return f(!1)}},{children:(0,r.jsx)(aa,{list:{item:[{content:O("labels.default"),select:"Randomize All Items by Default"===g,handleClick:function(){y("Randomize All Items by Default"),N(_.randomize.id)}},{content:O("labels.script"),select:"Randomize All Items by Script"===g,children:I}],width:"48.4rem"}})}))]})),(0,r.jsx)(l.Jr,fs({className:cs},{children:O("checkBox.future")}))]})),(0,r.jsxs)("div",fs({className:ps},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:O("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return a(!1)}}),(0,r.jsx)(l.zx,{height:"3.2rem",label:O("button.update"),disabled:w,size:"small",type:"primary",width:"9.5rem",onClick:function(){if(w&&m)l.yw.right({type:"error",content:"Randomized and group cannot be selected at a time"});else{if(!m){var e=S.structure.content.meta.randomized[s];return e.active=!1,e.order.recordedFormat="",e.order.script="",void(S.structure.content.meta.randomized[s]=fs({},e))}if(g){var t=S.structure.content.meta.randomized[s];return t.active=!0,t.order.recordedFormat=g,t.order.script=b,S.structure.content.meta.randomized[s]=fs({},t),void a(!1)}}}})]}))]}))}))};const xs="empty_container",gs="empty_img",ys="empty_description";var js=function(){return js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},js.apply(this,arguments)};const bs=function(e){var t=e.className,n=e.description,o=void 0===n?"no data":n;return(0,r.jsxs)("div",js({className:"".concat(xs," ").concat(null!=t?t:"")},{children:[(0,r.jsx)("div",js({className:gs},{children:(0,r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAACNCAYAAACKXvmlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABFDSURBVHgB7Z0JcFXVGcdPAtkIWQgkAQl7oIhAKaLsaApToAgYIovjuFAU2kGwTutQEMfgAs50pqK1zqhYdIZCSxDZEWRA6KisFikgqyGAJCSQBBIgZIH+/2dy6cvjvSz33bfcl+83c+fed999y733f77zne9851ylBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEGogxBlI0KV4Hc+//zzOGUjbC+aHTt2RK5Zs+YxZVM2bdqU2KRJk58rG2FL0axcuTJh3bp1zbidm5sbd/v27TSH9zrhvVbKJty8eXMk//+WLVuilU2wpWhCQ0NHVlVVveB8oSGY1KZNm86qqKhIVQEO/msTiPtXOJdBeNkG//kJWk1lA+wqmq23bt1SJSUlU8PDw7VwcBPawsxPxebBhISE/SqAwX8NDwsLG4vN8ViacB8Kwf04n99AOPEqwLGV1+7I6tWrW8Ksz8JmFZa2WEohpoPx8fH/TEtLq1QeghvbPCIioi9+oyNeVpaXlx+cNGnSD9i+rSyAlgZW8SEIfSJehuJ39sXFxS3Dfy9TAY6tRINS2LSoqCgdVqYpX4eEhERjuR8XnBazCtunsDYEU3zo0KFlmZmZt1QDQWumC77zWWyW4zuPwQrEYZ2K5VB6evoyrBv8na7Ab4TAiZ8AsXcrLCx8e+rUqQEvGNJU2YiCggJc39AK3DRd2nnzuFA0WKClW2fw/qXqw0uVCZYuXRqJ75yMzUOwAmvHjRt3nfvXrl2bCvHMgIW7Hy/3KQvgeWzbtu2rsrKyfLsIhti2eoJ5j4JAXsASBbEkYX0GuyNgid6eNm1aiTLJqlWrumI1Hd+5ANVRDeFBMI9gf+eMjIy/GsK1AggyZvz48ab/s6+xpSO8bNmyWAoGN64MDuWH2K6CVXgfrwvhF/yR/o4yCb6vOb6vxFkwBPsLWSVmZWVZet3sJBhiS9HAQR2MVXleXt6Sq1ev6uojJyenHK2PpbipF1BVdVUmgWgK8PloVFN3tWKwvwMsTSEEVaUaMbYUTWlp6Q7cvPdmzpxZwxo89dRT1yZMmPARlj3KJPjuXHx3Xmxs7JOffvrpHYsFh7UXVg/Cou1QjRzb+jQGdFwRl3kQJn6XsogNGza0QKT2aVit9rAuedjVDFVTDMSUBX9mt2rk2F403mL//v1h586do2g6IEZTTEd74sSJRVY6wIIgCIIgCIIgCIKvYbqF8hGSIxwkhIeHJxvZjN5GRBMkIPDIPOPuygeIaIIApr2ie6Mfc42Z3KW8jIjG5mRmZobeuHHjEWy2YUdtZGTkEOVlbNeN8O6770bk5+cPxOYvsLRFWD9MBRnMf2aaR1VV1b8WLlx43F3Xxe7du2MvXryYjs0BqtoAQDiVWL7E8m903F5WXsBWonnxxRcToqKinsNF7KwaATjPKvR5Zb322mvOPesha9eubQNRjUC19CBehzl9rgzCO4D1FnTkXlQW4zPRMB9W/6DJDj+Y4fDKysqZ+J7uYWFhqm/fvqp9+/aqadO7M1ZxnKqoqOBvqkCGFuXs2bMc+1RjP/ddv37deFkOYWyDcNa6+AqKpw/O80kmh3EHtq/ge5fAypxQXsJnOcJZWVkcwHYFS7kyAXqae+DCaMFMnjxZtWnTxuVxvBFlZWV6HehQ1FeuXNH/1xWwqhQ/C8uv58+fH5KUlLR59uzZjgq7DUvyn1WrVjF5jCmqFVj+lpGRkaO8iM8c4YiIiKHR0dEJyiQQjM7G69y5s1vBEN4IOwimPtCa9unTR2/jvEYXFBRMhMW9q6AfPnz4e5zzcVRle70tGOIT0bBJiJN+CHXwYGUSiKY5161a1T7iNlgEQ3DOWjgPP/ywfo1rOATX8LfTp0+v4cNwmA7YDav0jfIBXhcNBYM6ezouQCROLA11sGnhNEbgz6h7771XDRs2jFHfEFzDXomJibNeffXVWMfjUJWdxntetzLEa6JhGubq1asHIobwBzqv3FfdPH4c+5+AeJKVZA7Wm/vuu08Lp9rx/xmsyu/QHE803sf19lnCu9dEw8Ff8GEOoZ7diZcVxn4I6ByTs6ubgpI62QBSU1PV6NGj6fSyAHa+du3a83PnztXCQUPDZyMkvFo9jRw58tq4ceN2olR8wqY2lhws70MwF5RgipSUFDV27FjVvLl28VpDQHPg03RUPsQnjjA8+gOob0/Bidtkt4FhgUhycrIaM2aMatGiBWebiEGhnDlnzpxeykf4RDS0MqiSvsTJHVdCvSkpcV++EhIS1KhRo1RcnJ55LRbXd9q8efP6Kh/gM0eUSUJHjx6tPHLkSAjq5n5w6H7OMdgQVL0CjDg2HsdGNWvWTJcwd6Dk6WhwIMKqpVevXiomJka/Zkzp2LFjjtFfDSPCeXl52ukdOnSojku5inwTRpM3b96srl69qrsd2F+1aNGincqL+LT18tJLL7VGkO/p6jlfGmUPO32R4cOHq3vuuUe/RoejOn/+fI1j0OLUYjLET8fXnWgIj2PXCYFwbuDY9+DnnFJewmfdCKhz43Ayz0Iw7fi6Xbt2+sLRcriCFyJQLUZtFBcX61LvCC0KLQcpLS1VW7duVSNGjNCWB10DOiB56dIldpXoY9h90L17d5Wdna2Pb8i1wG9FoVuC/o39RYPSkkbBoAmum409evRweywvkHMnnl2g1aD1cITnk5+ffydaTUuyceNGHXdh4I7Vj6uukSFDhmghOVdfqOZdiojVGkXmbXwlmhCIZQD9DdbptQmG2NHC1JeePXtqq0PLsmvXLn2uvCbsMnAFosB6cYQ+kWGVHGGB9AU++ZVZs2aFQzDae+3atfZZQIKp78gV8fHxutXTsmVLfa5ff/21+u677wI+jcMRn4gGF+hO3qq7EuVIsAuHliI9PV21bdtWv967d6+2OrTEdkByhP0EW0S0OIblpZ+ybds2W1TNIho/Ql8lLS1Nt5TIjz/+qFtW7pKyAgURjZ9h6gOF069fP+3IsgX0xRdf3NViCiRENAECRfPAAw/oIF5ubq5at26dQi+2CkRENAGCkaU3aNAgLZyioiK1fv163TQPNEQ0PsKIodRlPZhsxWgxHWUKh/1KtDyBhIjGYlwF2Oi3GAG648ePc/pa3bxmbMbV0rFjR92yonAY4aVwnKPM/sRW09zbAcZgnC0DhdS6dWvdOqKDS0eXqQ11RXCNgJ/Rk/3oo4/q4KC/8btoCgsLOQTjzgViYC+QYxUMyHXo0MHt++zFZpIU+5oco7wUCTsy6aMYHZQNgf1VJ0+e1M6yv/G7aFasWBHQzUtnjhw5oiZOnOi2xNOhZe81RcL+IcfodpcuXXRiFS2Rc8ciYzPuOhv5GaY+BEr8xu+iqS1PJFChj1IXTPlwlfZBMbmyVK7yagyYW+OcbuFP/H7HmOtKs+vY78I6PFD7nzh+3Mi8a6z4XTQ05VwMKBY7VVeNEWlyNwI4Y0f1c6wsQZrcQczy5ctbRUdH31yzZk0TOOhjsGvxxo0bW8PXuuTJcz7F0gQxkZGRCajuOQUJn10eymdz8ukyxcXFzZUHiGiCGE5shAbGdrT2nsDC6TYyYGU+Sk9PL1YeYFn1xHoTzcZEziODP5jo+B7iDJFLlixx+TlO6sN0AKO1xIAYg3v+bj1FRERoBx2lVdkRTr6A1TBu41reg+sahgh0OBoZz+E9hg0+MTu1mmWiQYTzIcRc0vHnIp3zXTkkwx07d+7U0c5AhK243r17KzuCYOBerA6izysVouHTf6OxvgLLswLbBbBCpiOFllRPEMxwrB6nYFQDqU+gTGg41dOOJHIGLRTmj2FlLmO9Etd7AqwojYXpTHaPLQ36WOhU/VKZhH0pjIQ6Vkeuhmf4GvYw19bHZBPKUdUvxZpz8TGZ/fhnn31WBr/GI2PhsWjgw7SFmlspk3CEIRcDCe5ZB6yNHtbJCabQ9Nazg1oxJ58VPo1HzTfB+3CCKaz+qyzCY58GVia4BykJd+GxaOBccSp1mQatEeGxaBBnyYe18cmskkJg4LFoOnXqVAZr8w9smvZe6fwai4G7/NnaxjzX9pmGLELtWBLcS0hIOIto8HuIBUzAy9SGfJbR4NOnT9cQTG1jmplOyek52CR2hJHlEydOeJwqyrzdbt266WQpwTWWRYSTk5NPY/Xn7OzseMQBWoY4jPRHLIch4eedP0Oh7Nu3784sTvWBwzo4a7kxk5TBqVOndF6uFTAprH///kpwjVWioUC0XUd1xc6wGh1imZmZLqe7YqlG/EBbifrC9FBXaZTuZtQyQ/XkhwFLXVUoor5ebdF6LJqXX365H1Zt3nzzzfXKBJwNysjQJ7wgtc2CxerJVVI3qxTu93S6DnZrcLhJoOJuIkpaayMoimuZp7yIFRFhRoOTlEloIZh3a2A2IsybXdvTWYIFV6MtWcg4Px+Fg0JXhA5gr069a1Y0Ia+88kpvJvdguxP+aAtYnGFwThl53M+ngijBcs6cOVNj7j5Cq8NCxjVn9sSuNYsXL/YoX6YuTIkGomiCP9kNPgkfttkKf7YZlj7oaCyDcI7hkMAZbxFEcFyUu7FRuBeFuCer3nrrrQPKy5gVDZs7WdyeP3/+KKzavv766x8rwaugYHJg1PdOu2ndz6WkpJyaMWOGT4amWtF6Kudj8JTgdfg8p4ULF65TJpg3b15P+H0xKNzfKg/xWDRoAu9WHkSW2Rq4fPlyjRYBp+MI1MFyHKftHFi0CR3gSrDB4n/RoKryKPmFD+1kVNguMHV1ypQptskdxv1pj9YV01fofzafO3cuJ3GuXLRokemn6fp9NMKFC/Z69BPzme2UJIZmeDqqpSlwlHtCNO25jdph0gcffGDaXPp9sNyAAQPUnj17bDNLOWd+qO0pMIHGG2+88Q7X8GnGQDhJeL1UeYjfRTNw4EC9GEi6p9e4xeduKQuQYbmNBBTEbxF9j1IWIKJpJFRHiS2JFMuwXKHBiGiEBiOiERqMr0RTBs9dt6k5m2dtMDHLVw+7CiTchRwcZzvFNQyIx1NbOmsEuu6TY2Nje+PkOiGo5Pg4NM7EpH766Sd18OBB/WS52iKqzI0J9mc+OUJRuMpe5DVgKgQDinwSLnYdM947f/78Y+Hh4W2qP7+iqKioWVJS0nhX349CyKY2BfcDjvu+a9euHj3r0bKn5V68eHEgbvZkPnjT1ftMHuIUF7xATJYaPHiwTr5y99AwTn9ql4dmeQq7UZznFaZQuM8h6eoHBuqMWEtOTs6f0ITuVP3eAoirBUQzu67fwufPQGwfonBfViaxxNIUFBQw5fNpWht3x1AofETN9u3b9YWg5RHqB270BRTIv1sRnOPjrVEgf4/1InyfqSiqx87DyZMnI2BGOZ9bnVaL1VJGRoae9ZuTBgnuoV/HfGhUJafLy8v/smDBAssS2yCWJNQMg5RJPLY00dHRrZnBV9/jaXE44zcdYnYXNCbfpTYOHDiw/Ny5c4WjR4+eigIVzfQLDtXBtS1+5plnLHeA0WnZF9bmKwiowRM2WpFPw1FlDfaNOBhNBqT9n+Tk5MMpKSmXp0+fXuXYSPCiXxcHZ5o93Q0WjcfVExxb6V20IbAyZWixmVKkx6KBJ86EGO8/dl6wFIjmfM+ePU1NOeaxaBITE0vgl3yjBNsAwVRi2aVMYknoFYG8zXDYvDpAS7CMKghmXfXYe1NYEqdBE/o6/sg7aBENh9XpD4+cs0o6pxMGQ9+AbZt6tC5otOTcvHlzA1qwR5UHWBYRNqBY0J0QjT94RySwQqERQRCYgdNfDqvqleZMu3btdKdcdnZ265iYmDvz5LZs2fIGCuFdHXZ5eXlJuMZh1cfkoiUUERUV5bI5eps3JSzsRlxcXKnRBygIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAELf8Dhq8RZAA/vvYAAAAASUVORK5CYII=",alt:"empty_img"})})),(0,r.jsx)("div",js({className:ys},{children:o}))]}))},Ns="importReusableModal_container",Ss="importReusableModal_list",_s="importReusableModal_item_line",Os="importReusableModal_empty",ws="importReusableModal_add",Cs="importReusableModal_scroll";var Is=function(){return Is=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Is.apply(this,arguments)},ks=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},As=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ps=function(e){var t=e.status,n=e.setStatus,a=e.dimIndex,s=e.handleCodeExisted,d=e.handleAddReusable,u=ks((0,o.useState)([]),2),p=u[0],f=u[1],h=(0,i.useSelector)((function(e){return e.editState.target.type})),m=(0,i.useSelector)((function(e){return e.reusableState.reusable})),v=qe(),x=(0,i.useDispatch)(),g=(0,B.$G)("",{keyPrefix:"components.alertWindow.importReusable"}),y=g.t,j=g.i18n,b=v.structure.content.content.options[a],N=b.filter((function(e){return"OptionList"===e.kind})).map((function(e){return e.id})),S=v.structure.content.meta.grouped[a],_=S.members,O=S.randomized.order.predefined,w=function(){var e=[];for(var t in m)e.push({id:t,content:m[t].name});return e};return(0,r.jsx)(es,Is({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Is({className:Ns,style:{paddingTop:"cn"===j.language?"2.6rem":"3.2rem"}},{children:[(0,r.jsx)(es.ModalTitle,{children:y("title")}),(0,r.jsx)(es.ModalDescription,Is({CN:"cBody3",marginTop:"cn"===j.language?"0.4rem":"0.8rem"},{children:y("hint")})),(0,r.jsx)("div",Is({className:Ss},{children:(0,r.jsxs)(l.lg,Is({className:Cs,defaultScrollTop:0,height:"24rem",width:"55.2rem"},{children:[(0,r.jsx)(l.rE,Is({defaultValue:N,value:p,onChange:function(e){f(e)}},{children:w().map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.Jr,Is({value:e.id,disabled:N.includes(e.id)},{children:e.content})),(0,r.jsx)("div",{className:_s})]},e.id)}))})),0===w().length&&(0,r.jsxs)("div",Is({className:Os},{children:[(0,r.jsx)(bs,{description:"You have not added any reusable list yet"}),(0,r.jsxs)("div",Is({className:ws,onClick:d},{children:[(0,r.jsx)(l.JO,{type:"addition01"}),(0,r.jsx)("span",{children:"Add Reusable List"})]}))]}))]}))})),(0,r.jsx)(es.ModalButtons,{width:{cn:"6rem",en:"8.3rem"},bottom:"1.6rem",right:"2.4rem",disabled:0===p.length,confirmText:y("button.confirm"),cancelText:y("button.cancel"),handleCancel:function(){return n(!1)},handleConfirm:function(){var e,t=p.filter((function(e){return!N.includes(e)})),r=t.map((function(e){return m[e].data})),o=JSON.parse(JSON.stringify(r));if(Aa(o,b))n(!1),s&&s(t);else{(e=v.structure.content.content.options[a]).push.apply(e,As([],ks(o),!1));var i=function(e){var t=[];return e.map((function(e){var n=e.id,r=m[n].name,o=[];e.list.map((function(e){var t=e.data.code;e[t]={code:t},o.push(t)}));var i=ka(_,n);i.title.text=r,i.options={},i.order.predefined=o,t.push(i)})),t}(o);i.map((function(e){_[e.id]=e,O.push(e.id)})),v.structure.content.meta.grouped[a].members=Is({},_),v.structure.content.meta.grouped[a].randomized.order.predefined=As([],ks(O),!1),x("intervieweeNodes"===h?c.WA(v):c.Vb(v)),n(!1)}}})]}))}))};const Ts="saveReusableModal_container",Ms="saveReusableModal_form",Es={input_container:"input_container",input_wrap:"input_wrap",input_delete:"input_delete",input_clear:"input_clear",input_error:"input_error"};var Ds=function(){return Ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ds.apply(this,arguments)},Bs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Fs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ws=(0,o.forwardRef)((function(e,t){var n=e.handleInputOnChange,i=e.handleDelete,a=e.status,s=e.className,c=e.marginTop,d=void 0===c?"0rem":c,u=e.width,p=void 0===u?"100%":u,f=e.height,h=void 0===f?"3rem":f,m=e.inputValue,v=e.clear,x=void 0!==v&&v,g=e.isDelete,y=void 0!==g&&g,j=e.style,b=Bs(e,["handleInputOnChange","handleDelete","status","className","marginTop","width","height","inputValue","clear","isDelete","style"]);Ws.displayName="Input";var N=Fs((0,o.useState)(null!=m?m:""),2),S=N[0],_=N[1],O=[Es.input_wrap];return s&&O.push(s),a&&O.push(Es["input_".concat(a)]),(0,r.jsxs)("div",Ds({className:Es.input_container,style:{marginTop:d,width:p}},{children:[(0,r.jsx)("input",Ds({className:O.join(" "),style:Ds(Ds({},j),{height:h,width:p,paddingRight:x?"3.5rem":"1rem"}),ref:t,value:S,onInput:function(e){n&&n(e.currentTarget.value.trim()),_(e.currentTarget.value)}},b)),!!S.trim()&&x&&(0,r.jsx)("div",Ds({className:Es.input_clear},{children:(0,r.jsx)(l.JO,{type:"empty",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),_(""),n&&n("")}})})),y&&(0,r.jsx)("div",Ds({className:Es.input_delete},{children:(0,r.jsx)(l.JO,{type:"deleteMinus",onMouseDown:function(e){e.preventDefault(),_(""),i&&i()}})}))]}))}));Ws.displayName="Input";const Ls=Ws;var qs=n(668),zs=[{dataType:"string",schemaType:"matches",schemaRule:/^[0-9a-zA-Z\u4e00-\u9fa5]*$/,errorMessage:"only letter and number allowed"}],Vs=[{dataType:"string",schemaType:"matches",schemaRule:/^[0-9a-zA-Z\u4e00-\u9fa5]*$/,errorMessage:"only letter and number allowed"}],Js=[{dataType:"string",schemaType:"matches",schemaRule:/^[0-9a-zA-Z\u4e00-\u9fa5]*$/,errorMessage:"only letter and number allowed"}],Rs=function(e){return""===e?{status:!1,msg:"Please provide a name"}:(0,qs.X)(e.trim(),Vs).status?{status:!0,msg:""}:{status:!1,msg:"This field only allows letters and numbers"}},Gs=function(e,t){for(var n in e){if(e[n].name===t)return!1}return!0},Hs=n(850),Qs=function(){return Qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qs.apply(this,arguments)},Ys=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Us=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Zs=function(e){var t=e.status,n=e.setStatus,a=e.dimIndex,s=Ys((0,o.useState)(""),2),c=s[0],l=s[1],d=Ys((0,o.useState)(""),2),u=d[0],p=d[1],f=(0,i.useSelector)((function(e){return e.reusableState.reusable})),h=qe(),m=(0,i.useDispatch)(),v=(0,B.$G)("",{keyPrefix:"components.alertWindow.saveReusable"}),x=v.t,g=v.i18n;(0,o.useEffect)((function(){t&&(l(""),p(""))}),[t]);var y=h.structure.content.content.options[a],j=function(){if(!c)return!1;var e=Rs(c);return e.status?Gs(f,c)?(p(""),!0):(p("This field should be unique"),!1):(p(e.msg),!1)};return(0,r.jsx)(es,Qs({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Qs({className:Ts,style:{paddingTop:"cn"===g.language?"2.6rem":"3.2rem"}},{children:[(0,r.jsx)(es.ModalTitle,{children:x("title")}),(0,r.jsx)(es.ModalDescription,Qs({marginTop:"cn"===g.language?"0.2rem":"0.8rem"},{children:x("hint")})),(0,r.jsxs)("div",Qs({className:Ms},{children:[(0,r.jsx)(es.ModalSecondaryTitle,{children:x("form.name")}),(0,r.jsx)(Ls,{width:"100%",height:"4rem",marginTop:"0.8rem",clear:!0,value:c,onChange:function(e){l(e.currentTarget.value)},status:!u?"":"error",placeholder:x("form.hint"),onBlur:j}),(0,r.jsx)(es.ModalErrorMsg,Qs({show:!!u,marginTop:"0.8rem"},{children:u}))]})),(0,r.jsx)(es.ModalButtons,{width:{cn:"6rem",en:"6.3rem"},right:"2.4rem",disabled:""===c.trim()||0===y.length,confirmText:x("button.save"),cancelText:x("button.cancel"),handleCancel:function(){return n(!1)},handleConfirm:function(){if(j()){var e=Qs({},f),t=ma(c);t.list=Us([],Ys(y.filter((function(e){return"OptionItem"===e.kind}))),!1),e[t.id]={name:c,data:t},m(Hs.Tu({reusable:e})),n(!1)}}})]}))}))};const Xs="codeInput_code",Ks="codeInput_codeInput";var $s=function(){return $s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$s.apply(this,arguments)},ec=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const tc=function(e){var t=e.code,n=e.handleChangeCode,i=ec((0,o.useState)(!1),2),a=i[0],s=i[1];return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)("input",{className:Ks,ref:function(e){e&&e.focus()},defaultValue:t,onBlur:function(e){s(!1),n(e.currentTarget.value)}}):(0,r.jsx)("span",$s({className:Xs,onClick:function(){s(!0)}},{children:t}))})},nc="codeExistedModal_container",rc="codeExistedModal_title",oc="codeExistedModal_hint",ic="codeExistedModal_scroll",ac="codeExistedModal_scrollBody",sc="codeExistedModal_options",cc="codeExistedModal_optionItem",lc="codeExistedModal_code",dc="codeExistedModal_code__repeat",uc="codeExistedModal_content",pc="codeExistedModal_errorTip",fc="codeExistedModal_btn";var hc=function(){return hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hc.apply(this,arguments)},mc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},xc=function(e){var t=e.status,n=e.setStatus,a=e.dimIndex,s=e.reusableListIds,u=(0,i.useSelector)((function(e){return e.reusableState.reusable})),p=(0,i.useSelector)((function(e){return e.editState.target.type})),f=We(),h=mc((0,o.useState)([]),2),m=h[0],v=h[1],x=mc((0,o.useState)([]),2),g=x[0],y=x[1],j=qe(),b=(0,B.$G)("",{keyPrefix:"components.alertWindow.codeExisted"}).t,N=(0,i.useDispatch)();(0,o.useEffect)((function(){var e=s.map((function(e){return u[e].data})),t=JSON.parse(JSON.stringify(e)),n=j.structure.content.content.options[a];y(JSON.parse(JSON.stringify(n))),v(t)}),[s]);var S=Aa(m,g);return(0,r.jsx)(es,hc({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",hc({className:nc},{children:[(0,r.jsxs)("div",hc({className:rc},{children:[(0,r.jsx)(l.JO,{type:"warning"}),(0,r.jsx)("span",{children:b("title")})]})),(0,r.jsx)("div",hc({className:oc},{children:b("description")})),(0,r.jsx)(l.lg,hc({className:ic,defaultScrollTop:0,height:"auto",width:"38.2rem",bodyClassName:ac},{children:(0,r.jsx)("div",hc({className:sc},{children:m.map((function(e){return(0,r.jsx)(o.Fragment,{children:e.list.map((function(e){var t;return(0,r.jsxs)("div",hc({className:cc},{children:[(0,r.jsx)("div",hc({className:d((t={},t[lc]=!0,t[dc]=Pa(m,g,e),t))},{children:(0,r.jsx)(tc,{code:e.data.code,handleChangeCode:function(t){return function(e,t){""!==t.trim()&&/^[a-zA-Z0-9]+$/.test(t)&&(e.data.code=t,v(vc([],mc(m),!1)))}(e,t)}})})),(0,r.jsx)("div",hc({className:uc},{children:Ca(e.data.text[f].content.list)}))]}),e.id)}))},e.id)}))}))})),S&&(0,r.jsx)("div",hc({className:pc},{children:b("errorMsg")})),(0,r.jsxs)("div",hc({className:fc},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:b("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{disabled:S,height:"3.2rem",label:b("button.confirm"),size:"small",type:"primary",width:"9.5rem",onClick:function(){var e;(e=j.structure.content.content.options[a]).push.apply(e,vc([],mc(m),!1)),N("intervieweeNodes"===p?c.WA(j):c.Vb(j)),n(!1)}})]}))]}))}))};const gc="editCodeModal_container",yc="editCodeModal_title",jc="editCodeModal_hint",bc="editCodeModal_scroll",Nc="editCodeModal_options",Sc="editCodeModal_optionItem",_c="editCodeModal_code",Oc="editCodeModal_code__repeat",wc="editCodeModal_content",Cc="editCodeModal_btn";var Ic=function(){return Ic=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ic.apply(this,arguments)},kc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ac=function(e){var t=e.status,n=e.setStatus,a=e.dimIndex,s=e.reusableId,u=kc((0,o.useState)(),2),p=u[0],f=u[1],h=qe(),m=(0,i.useSelector)((function(e){return e.editState.target.type})),v=(0,B.$G)("",{keyPrefix:"components.alertWindow.editCode"}).t,x=(0,i.useDispatch)(),g=We();(0,o.useEffect)((function(){var e=h.structure.content.content.options[a].find((function(e){return e.id===s}));if(e&&"OptionList"===e.kind){var t=JSON.parse(JSON.stringify(e));f(t)}}),[s]);var y=h.structure.content.content.options[a],j=p?y.filter((function(e){return e.id!==p.id})):y,b=!p||Aa([p],j),N=p?p.list:[];return(0,r.jsx)(es,Ic({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Ic({className:gc},{children:[(0,r.jsx)("div",Ic({className:yc},{children:v("title")})),(0,r.jsx)("div",Ic({className:jc},{children:v("description")})),(0,r.jsx)(l.lg,Ic({className:bc,defaultScrollTop:0,height:"20rem",width:"57rem"},{children:(0,r.jsx)("div",Ic({className:Nc},{children:N.map((function(e){var t;return(0,r.jsxs)("div",Ic({className:Sc},{children:[(0,r.jsx)("div",Ic({className:d((t={},t[_c]=!0,t[Oc]=Pa([p],j,e),t))},{children:(0,r.jsx)(tc,{code:e.data.code,handleChangeCode:function(t){return function(e,t){if(""!==t.trim()&&/^[a-zA-Z0-9]+$/.test(t)){e.data.code=t;var n=JSON.parse(JSON.stringify(p));p&&f(n)}}(e,t)}})})),(0,r.jsx)("div",Ic({className:wc},{children:Ca(e.data.text[g].content.list)}))]}),e.id)}))}))})),(0,r.jsxs)("div",Ic({className:Cc},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:v("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{disabled:b,height:"3.2rem",label:v("button.confirm"),size:"small",type:"primary",width:"9.5rem",onClick:function(){var e=y.findIndex((function(e){return e.id===s}));-1!==e&&p&&(h.structure.content.content.options[a][e]=p,x("intervieweeNodes"===m?c.WA(h):c.Vb(h))),n(!1)}})]}))]}))}))};const Pc="transitionReusableModal_container",Tc="transitionReusableModal_title",Mc="transitionReusableModal_hint",Ec="transitionReusableModal_btn";var Dc=function(){return Dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dc.apply(this,arguments)},Bc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Wc=function(e){var t=e.status,n=e.setStatus,o=e.dimIndex,a=e.reusableId,s=qe(),d=(0,i.useSelector)((function(e){return e.editState.target.type})),u=(0,i.useDispatch)(),p=(0,B.$G)("",{keyPrefix:"components.alertWindow.transitionReusable"}).t;return(0,r.jsx)(es,Dc({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Dc({className:Pc},{children:[(0,r.jsxs)("div",Dc({className:Tc},{children:[(0,r.jsx)(l.JO,{type:"warning"}),(0,r.jsx)("span",{children:p("title")})]})),(0,r.jsx)("div",Dc({className:Mc},{children:p("description")})),(0,r.jsxs)("div",Dc({className:Ec},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:p("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{height:"3.2rem",label:p("button.confirm"),size:"small",type:"primary",width:"9.5rem",onClick:function(){var e=s.structure.content.content.options[o],t=e.findIndex((function(e){return e.id===a}));if(-1!==t){var r=JSON.parse(JSON.stringify(e[t]));r.list.map((function(e){return e.id=(0,To.Z)(),e})),e.splice.apply(e,Fc([t,1],Bc(r.list),!1))}s.structure.content.content.options[o]=Fc([],Bc(e),!1);var i=s.structure.content.meta.grouped[o].randomized.order.predefined.filter((function(e){return e!==a}));s.structure.content.meta.grouped[o].randomized.order.predefined=i,delete s.structure.content.meta.grouped[o].members[a],u("intervieweeNodes"===d?c.WA(s):c.Vb(s)),n(!1)}})]}))]}))}))},Lc=function(){return Lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lc.apply(this,arguments)},qc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Vc=function(e){var t,n=e.dimIndex,a=(0,B.$G)().t,s=qe(),u=(0,i.useSelector)((function(e){return e.editState.target.type})),p=qc((0,o.useState)(!1),2),f=p[0],h=p[1],m=qc((0,o.useState)(!1),2),v=m[0],x=m[1],g=qc((0,o.useState)(!1),2),y=g[0],j=g[1],b=qc((0,o.useState)([]),2),N=b[0],S=b[1],_=qc((0,o.useState)(!1),2),O=_[0],w=_[1],C=qc((0,o.useState)(!1),2),I=C[0],k=C[1],A=qc((0,o.useState)(""),2),P=A[0],T=A[1],M=qc((0,o.useState)(!1),2),E=M[0],D=M[1],F=qc((0,o.useState)(null),2),W=F[0],L=F[1],q=(0,i.useSelector)((function(e){return e.lanState.editLan})),z=(0,i.useSelector)((function(e){return e.lanState.lan})),V=(0,i.useDispatch)(),J=s.structure.content.content.options[n],R=s.structure.content.content.options[0].length,G=J.find((function(e){return e.id===W}));var H=function(e){void 0===e&&(e=0);var t=function(e,t,n){void 0===n&&(n=[]);var r=0,o=e.structure.content.content.options[t],i=o.filter((function(e){return(0,ze.QU)(e)})),a=o.filter((function(e){return(0,ze.I5)(e)}));if(i.forEach((function(e){a.push.apply(a,Oa([],_a(e.list),!1))})),0===a.length)return Sa("".concat(r),n);for(var s=a.map((function(e){return e.data.code}));s.includes(String(r));)r++;return Sa("".concat(r),n)}(s,n,z);s.structure.content.content.options[n].splice(e+1,0,t),V("intervieweeNodes"===u?c.WA(s):c.Vb(s))},Q=function(e){var t=J.filter((function(t){return t.id!==e}));s.structure.content.content.options[n]=zc([],qc(t),!1),V("intervieweeNodes"===u?c.WA(s):c.Vb(s))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",Lc({className:ui},{children:[(0,r.jsx)("div",Lc({className:xi},{children:a("nodes.questionNode.".concat(0===n?"row":"col"))})),(0,r.jsxs)("div",Lc({className:pi},{children:[(0,r.jsxs)("div",Lc({className:hi},{children:[(0,r.jsx)(l.J2,Lc({className:mi,show:!1,root:(0,r.jsx)(l.Jr,{})},{children:"若您想要启用组，请先在选项设置中取消勾选随机功能。"})),(0,r.jsx)("span",Lc({className:d((t={},t[fi]=!1,t))},{children:a("nodes.questionNode.activeGroup")}))]})),(0,r.jsxs)("div",Lc({className:vi},{children:[(0,r.jsx)("div",Lc({className:gi,onClick:function(){h(!0)}},{children:(0,r.jsx)(l.JO,{type:"setting"})})),(0,r.jsx)("div",Lc({className:yi,onClick:function(){x(!0)}},{children:(0,r.jsx)(l.J2,Lc({className:ji,root:(0,r.jsx)(l.JO,{type:"importIcon"})},{children:"Import Reusable List"}))})),(0,r.jsx)("div",Lc({className:bi,onClick:function(){w(!0)}},{children:(0,r.jsx)(l.J2,Lc({className:ji,root:(0,r.jsx)(l.JO,{type:"save"})},{children:"Export Reusable List"}))}))]}))]}))]})),0===J.length&&(0,r.jsx)(Da,{content:a("nodes.questionNode.button.add"),disable:!R&&1===n,handleAdd:H}),(0,r.jsx)(Ni.DndContext,Lc({onDragEnd:function(e){var t=e.active,r=e.over;if((null==t?void 0:t.id)!==(null==r?void 0:r.id)){var o=J.findIndex((function(e){return e.id===t.id})),i=J.findIndex((function(e){return e.id===r.id})),a=(0,Si.arrayMove)(J,o,i);s.structure.content.content.options[n]=a,V("intervieweeNodes"===u?c.WA(s):c.Vb(s))}},onDragStart:function(e){var t=e.active;t&&L(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,Lc({items:J,strategy:Si.verticalListSortingStrategy},{children:[J.map((function(e,t){return(0,r.jsx)("div",{children:(0,ze.I5)(e)?(0,r.jsx)(Qi,{item:e,options:J,handleAddOption:function(){return H(t)},handleDeleteOption:function(){return Q(e.id)},handleCode:function(t){return function(e,t){e.data.code=t,V("intervieweeNodes"===u?c.WA(s):c.Vb(s))}(e,t)},handleChangeValue:function(t){return function(e,t){e.data.text[q].content.list.list=t,V("intervieweeNodes"===u?c.WA(s):c.Vb(s))}(e,t)}}):(0,r.jsx)(fa,{reusableList:e,handleEdit:function(){k(!0),T(e.id)},handleTransition:function(){D(!0),T(e.id)},handleDelete:function(){Q(e.id)}})},e.id)})),(0,r.jsx)(Ni.DragOverlay,{children:G&&(0,r.jsx)(r.Fragment,{children:(0,ze.I5)(G)?(0,r.jsx)(Qi,{item:G,options:J,hover:!0}):(0,r.jsx)(fa,{reusableList:G,hover:!0})})})]}))}),J.length),(0,r.jsx)(vs,{status:f,dimIndex:n,setStatus:h}),(0,r.jsx)(Ps,{status:v,dimIndex:n,setStatus:x,handleCodeExisted:function(e){S(e),j(!0)}}),(0,r.jsx)(xc,{status:y,dimIndex:n,reusableListIds:N,setStatus:j}),(0,r.jsx)(Zs,{status:O,setStatus:w,dimIndex:n}),(0,r.jsx)(Ac,{status:I,dimIndex:n,reusableId:P,setStatus:k}),(0,r.jsx)(Wc,{status:E,dimIndex:n,reusableId:P,setStatus:D})]})},Jc={questionNodeEdit_questionTextContainer:"questionNodeEdit_questionTextContainer",questionNodeEdit_nodesTag:"questionNodeEdit_nodesTag"},Rc="switchType_container",Gc="switchType_KindSelectionList",Hc="switchType_select";const Qc=function(e){var t=e.node,n=e.type,o={Single:"singleChoiceUnselected",Multi:"multipleLinear",OpenEnd:"openEnd2",Numeric:"Numeric",BlockNode:"blockNodeLinear",LoopNode:"loopNode",ExecutionNode:"executionNode2",MarkNode:"markMode",QuotaNode:"quota",DisplayNode:"eyeOpen",ExitNode:"exitNode"};return(0,r.jsx)(l.JO,{type:n?o[n]:t?(0,ze.hr)(t)?o[t.structure.content.content.type]:o[t.kind]:void 0})};var Yc=function(){return Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yc.apply(this,arguments)},Uc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Zc=function(){var e=Uc((0,o.useState)(!1),2),t=e[0],n=e[1],a=(0,i.useSelector)((function(e){return e.editState.target.type})),s=qe(),d=ci(a),u=d.rootOrder,p=d.nodeOrder,f=(0,i.useDispatch)(),h=(0,B.$G)().t,m=[{type:"Single",content:h("components.alertWindow.addUnderBlock.single")},{type:"Multi",content:h("components.alertWindow.addUnderBlock.multi")},{type:"OpenEnd",content:h("components.alertWindow.addUnderBlock.openEnd")},{type:"Numeric",content:h("components.alertWindow.addUnderBlock.numeric")}],v=s.structure.content.content.type;return(0,r.jsxs)("div",Yc({tabIndex:-1,onBlur:function(){return n(!1)},onClick:function(){return n(!t)},className:Rc},{children:[(0,r.jsx)(Qc,{type:v}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(t?180:0,"deg)")}}),(0,r.jsx)(l.uT,Yc({show:t},{children:(0,r.jsx)("div",Yc({className:Gc},{children:m.map((function(e,t){return(0,r.jsxs)("div",Yc({className:v===e.type?Hc:"",onClick:function(){return function(e){s.structure.content.content.type=e,p[s.id].kind=e,"intervieweeNodes"===a?(f(c.j5({rootOrder:u,nodeOrder:p})),f(c.WA(s))):(f(c.Kn({rootOrder:u,nodeOrder:p})),f(c.Vb(s)))}(e.type)}},{children:[(0,r.jsx)("div",{children:(0,r.jsx)(Qc,{type:e.type})}),e.content]}),t)}))}))}))]}))};var Xc=function(){return Xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xc.apply(this,arguments)};const Kc=function(){var e=(0,B.$G)().t,t=(0,i.useSelector)((function(e){return e.editState.target.type})),n=(0,i.useSelector)((function(e){return e.lanState.editLan})),o=qe(),a=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Zc,{}),code:o.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsxs)("div",Xc({className:Jc.questionNodeEdit_questionTextContainer},{children:[(0,r.jsx)("div",{children:e("nodes.questionNode.hint.text")}),(0,r.jsx)("div",Xc({className:Jc.questionNodeEdit_questionTextEdit},{children:(0,r.jsx)(Zo,{height:"30rem",placeholder:e("nodes.questionNode.placeholder.questionText"),value:o.structure.text[n].content.list.list,handleHtml:function(e){o.structure.text[n].content.list.list=e,a("intervieweeNodes"===t?c.WA(o):c.Vb(o))}})}))]})),(0,r.jsx)("div",Xc({className:Jc.questionNodeEdit_nodesTag},{children:(0,r.jsx)(Zo,{height:"4rem",padding:"0 1rem",placeholder:"please input",value:o.structure.instruction[n].content.list.list,handleHtml:function(e){o.structure.instruction[n].content.list.list=e,a("intervieweeNodes"===t?c.WA(o):c.Vb(o))}})})),(0,r.jsx)(Vc,{dimIndex:0}),(0,r.jsx)(Vc,{dimIndex:1})]})},$c="questionIcon_icon",el="questionIcon_content",tl="questionIcon_content_white";var nl=function(){return nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nl.apply(this,arguments)};const rl=function(e){var t,n=e.iconSize,o=void 0===n?"1.4rem":n,i=e.color,a=void 0===i?"black":i,s=e.left,c=void 0===s?5:s,u=e.width,p=void 0===u?"10rem":u,f=e.height,h=void 0===f?"4rem":f,m=e.content;return(0,r.jsx)(l.J2,nl({root:(0,r.jsx)(l.JO,{type:"query",fontSize:o,className:$c}),direction:"horizontal",placement:"rc",offset:{x:c},className:d((t={},t[el]=!0,t[tl]="white"===a,t))},{children:(0,r.jsx)("div",nl({style:{width:p,height:h,wordBreak:"break-all"}},{children:m}))}))},ol={questionNodeForm_title_title:"questionNodeForm_title_title",questionNodeForm_title_content:"questionNodeForm_title_content",optionItemHtml_container:"optionItemHtml_container",questionNodeForm_question:"questionNodeForm_question",questionNodeForm_question_title:"questionNodeForm_question_title",questionNodeForm_question_content:"questionNodeForm_question_content",questionNodeForm_output:"questionNodeForm_output",questionNodeForm_output_title:"questionNodeForm_output_title",questionNodeForm_output_content:"questionNodeForm_output_content",questionNodeForm_output_tip:"questionNodeForm_output_tip"};var il=function(){return il=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},il.apply(this,arguments)},al=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},sl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const cl=function(){var e=qe(),t=Re(),n=t.row,i=t.column,a=t.type,s=t.code,c=al((0,o.useState)([]),2),l=c[0],d=c[1],u=(0,B.$G)().t,p=We();(0,o.useEffect)((function(){var e=[],t=n.length>0&&0===i.length,r=n.length>0&&i.length>0,o="Multi"===a;if(t&&("Single"===a&&e.push({code:s,result:"null"}),["Multi","OpenEnd","Numeric"].includes(a)&&n.forEach((function(t){e.push({code:"".concat(s,"#").concat(t.data.code),result:o?"0":"null"})}))),r&&("Single"===a&&n.forEach((function(t){e.push({code:"".concat(s,"#").concat(t.data.code),result:"null"})})),["Multi","OpenEnd","Numeric"].includes(a))){var c=i;n.forEach((function(t){for(var n=0;n<c.length;n++)e.push({code:"".concat(s,"#").concat(t.data.code,"_").concat(c[n].data.code),result:o?"0":"null"})}))}d(e)}),[]);var f=n.length>0&&0===i.length,h=n.length>0&&i.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code,edit:!1}),(0,r.jsxs)("div",il({className:ol.questionNodeForm_title},{children:[(0,r.jsx)("div",il({className:ol.questionNodeForm_title_title},{children:u("nodes.questionNode.hint.text")})),(0,r.jsx)("div",il({className:ol.questionNodeForm_title_content},{children:(0,r.jsx)(Fe,{list:e.structure.text[p].content.list.list})}))]})),(0,r.jsxs)("div",il({className:ol.questionNodeForm_question},{children:[(0,r.jsx)("div",il({className:ol.questionNodeForm_question_title},{children:u("nodes.questionNode.respondentInput")})),(0,r.jsxs)("div",il({className:ol.questionNodeForm_question_content},{children:[f&&"Single"===a&&(0,r.jsx)(Ot,{options:n,handleSelectOption:function(e){l[0].result=e,d(sl([],al(l),!1))}}),f&&"Multi"===a&&(0,r.jsx)(Ue,{options:n,handleSelectOption:function(e){l.map((function(t){var n=t.code.replace("".concat(s,"#"),"");e.includes(n)?t.result="1":t.result="0"})),d(sl([],al(l),!1))}}),f&&"OpenEnd"===a&&(0,r.jsx)(ft,{options:n,handleChangeValue:function(e,t){l[t].result=e,d(sl([],al(l),!1))}}),f&&"Numeric"===a&&(0,r.jsx)(it,{options:n,handleChangeValue:function(e,t){l[t].result=e,d(sl([],al(l),!1))}}),h&&"Single"===a&&(0,r.jsx)(Pt,{row:n,column:i,handleSelectOption:function(e,t){l[t].result=String(e),d(sl([],al(l),!1))}}),h&&"Multi"===a&&(0,r.jsx)(nt,{row:n,column:i,handleSelectOption:function(e,t){l.map((function(n){var r=n.code.replace("".concat(s,"#").concat(t.data.code,"_"),"");r.includes("#")||(e.includes(r)?n.result="1":n.result="0")})),d(sl([],al(l),!1))}}),h&&"OpenEnd"===a&&(0,r.jsx)(jt,{row:n,column:i,handleChangeValue:function(e,t,n){l.map((function(r){r.code.includes("".concat(s,"#").concat(n.data.code,"_").concat(t))&&(r.result=e)})),d(sl([],al(l),!1))}}),h&&"Numeric"===a&&(0,r.jsx)(ut,{row:n,column:i,handleChangeValue:function(e,t,n){l.map((function(r){r.code.includes("".concat(s,"#").concat(n.data.code,"_").concat(t))&&(r.result=e)})),d(sl([],al(l),!1))}})]}))]})),(0,r.jsxs)("div",il({className:ol.questionNodeForm_output},{children:[(0,r.jsxs)("div",il({className:ol.questionNodeForm_output_title},{children:[(0,r.jsx)("span",{children:u("nodes.questionNode.output")}),(0,r.jsx)(rl,{iconSize:"1.6rem",width:"25rem",height:"6rem",content:(0,r.jsxs)("div",il({className:ol.questionNodeForm_output_tip},{children:[u("nodes.questionNode.hint.tip"),":",(0,r.jsx)("br",{}),"QuestionCode_LoopCode#OptionCode_DimensionCode@OpenendCode"]}))})]})),(0,r.jsx)("div",il({className:ol.questionNodeForm_output_content},{children:(0,r.jsx)("div",il({className:ol.FormCard_outputContentContainer},{children:l.map((function(e,t){return(0,r.jsx)("div",{children:(0,r.jsx)("div",il({style:{display:"inline-block"}},{children:(0,r.jsx)("div",il({className:ol.FormCard_outputCode},{children:"".concat(e.code,": ").concat(e.result)}))}))},"".concat(t,"resultDemo"))}))}))}))]}))]})},ll="groupSettingsModal_container",dl="groupSettingsModal_title",ul="groupSettingsModal_optionsTitle",pl="groupSettingsModal_optionsTable",fl="groupSettingsModal_head",hl="groupSettingsModal_head_options",ml="groupSettingsModal_head_groups",vl="groupSettingsModal_body",xl="groupSettingsModal_hover",gl="groupSettingsModal_options",yl="groupSettingsModal_options_item",jl="groupSettingsModal_groups",bl="groupSettingsModal_scroll",Nl="groupSettingsModal_defaultContainer",Sl="groupSettingsModal_defaultLine",_l="groupSettingsModal_defaultContent",Ol="groupSettingsModal_defaultCodeWrap",wl="roupSettings_defaultTitle",Cl="groupSettingsModal_addButton",Il="groupSettingsModal_btn",kl="groupSettingsModal_optionsScroll",Al={groupItem_container:"groupItem_container",groupItem_line:"groupItem_line",groupItem_title:"groupItem_title",groupItem_move:"groupItem_move",groupItem_setting:"groupItem_setting",groupItem_setting__select:"groupItem_setting__select",groupItem_setting__disable:"groupItem_setting__disable",groupItem_unfold:"groupItem_unfold",groupItem_icon_random:"groupItem_icon_random",groupItem_setting_groupName:"groupItem_setting_groupName",groupItem_item:"groupItem_item",groupItem_delete:"groupItem_delete",groupItem_item__disable:"groupItem_item__disable",groupItem_content:"groupItem_content",groupItem_dragArea:"groupItem_dragArea",moveGroupItem:"moveGroupItem"};var Pl=function(e){var t=e.replace("#",""),n=[0,0,0];if(6===t.length)for(var r=0;r<3;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);else if(3===t.length){var o=t.split("");for(r=0;r<3;r++)n[r]=parseInt("".concat(o[r]).concat(o[r]),16)}return n.join(",")},Tl=function(){return Tl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tl.apply(this,arguments)},Ml=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},El=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Dl=function(e){var t,n=e.member,a=e.reusableIds,s=e.dimIndex,c=e.handleMoveStart,u=e.handleMoveMove,p=Ml((0,o.useState)(!1),2),f=p[0],h=p[1],m=Ml((0,o.useState)(!1),2),v=(m[0],m[1],Ml((0,o.useState)(!0),2)),x=v[0],g=v[1],y=qe(),j=(0,o.useRef)(null),b=((0,i.useDispatch)(),n.title.text),N=n.groupColor,S=n.order.predefined,_=x?S:[],O=y.structure.content.meta.grouped[s].members,w=(y.structure.content.meta.grouped[s].randomized.order.predefined,a.includes(n.id));y.structure.content.content.options[s];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",Tl({className:Al.groupItem_container,onMouseEnter:u},{children:[(0,r.jsx)("div",{className:Al.groupItem_line,style:{background:N}}),(0,r.jsxs)("div",Tl({className:Al.groupItem_title,style:{background:"rgba(".concat(Pl(N),",0.1)")}},{children:[(0,r.jsx)(l.JO,{type:"move",className:Al.groupItem_move,onMouseDown:c}),(0,r.jsx)("div",Tl({className:d((t={},t[Al.groupItem_setting]=!0,t[Al.groupItem_setting__select]=f,t))},{children:(0,r.jsx)(l.JO,{type:"setting",onClick:function(){return h(!0)}})})),(0,r.jsx)("input",{type:"text",ref:j,className:Al.groupItem_setting_groupName,defaultValue:b,onBlur:function(e){var t=e.currentTarget.value;n.title.text=t,O[n.id]=n,y.structure.content.meta.grouped[s].members=Tl({},O)}}),(0,r.jsxs)("div",Tl({className:Al.groupItem_unfold},{children:[!!n.order.script&&(0,r.jsx)(l.JO,{type:"union",className:Al.groupItem_icon_random}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(x?180:0,"deg)")},onClick:function(){return g(!x)}})]}))]})),(0,r.jsx)("div",Tl({className:Al.groupItem_items},{children:_.map((function(e){var t;return(0,r.jsxs)("div",Tl({className:d((t={},t[Al.groupItem_item]=!0,t[Al.groupItem_item__disable]=w,t))},{children:[(0,r.jsx)(l.JO,{type:"move",className:Al.groupItem_move}),(0,r.jsx)("div",Tl({className:Al.groupItem_content},{children:(0,r.jsxs)("span",Tl({style:{color:N}},{children:[e," - "]}))})),(0,r.jsx)("div",Tl({className:Al.groupItem_delete},{children:(0,r.jsx)("span",Tl({onClick:function(){return function(e){Reflect.deleteProperty(n.options,e);var t=S.filter((function(t){return t!==e}));n.order.predefined=El([],Ml(t),!1),O[n.id]=n,y.structure.content.meta.grouped[s].members=Tl({},O)}(e)}},{children:(0,r.jsx)(l.JO,{type:"union1"})}))}))]}),e)}))}))]}))})};var Bl=function(){return Bl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bl.apply(this,arguments)},Fl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Wl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ll=function(e){var t=e.status,n=e.dimIndex,a=e.handleCancel,s=qe(),d=(0,i.useSelector)((function(e){return e.editState.target.type})),u=Fl((0,o.useState)(null),2),p=(u[0],u[1]),f=We(),h=(0,i.useDispatch)();(0,o.useEffect)((function(){var e=JSON.parse(JSON.stringify(s));p(e)}),[]);var m=s.structure.content.content.options[n],v=m.filter((function(e){return"OptionItem"===e.kind})),x=m.filter((function(e){return"OptionList"===e.kind})),g=s.structure.content.meta.grouped[n],y=g.members,j=g.randomized.order.predefined,b=function(e,t){var n=[],r=[];for(var o in e)for(var i in e[o].options)r.push(e[o].options[i].code);return t.map((function(e){r.includes(e.data.code)||n.push(e)})),n}(y,v),N=function(e,t,n){var r=[],o={};for(var i in e)for(var a in e[i].options){var s=e[i].options[a].code;o[s]=e[i].groupColor}return t.map((function(e){var t=e.data.code,i=Ca(e.data.text[n].content.list);t in o?r.push({code:t,content:i,color:o[t]}):r.push({code:t,content:i,color:"#757575"})})),r}(y,v,f),S=x.map((function(e){return e.id})),_=(0,B.$G)("",{keyPrefix:"components.alertWindow.groupSettings"}).t;return(0,r.jsx)(es,Bl({status:t,changeStatus:a},{children:(0,r.jsxs)("div",Bl({className:ll},{children:[(0,r.jsxs)("div",Bl({className:dl},{children:[(0,r.jsx)(l.JO,{type:"setting"}),(0,r.jsx)("span",{children:_("title")})]})),(0,r.jsx)("div",Bl({className:ul},{children:(0,r.jsx)("span",{children:_("description")})})),(0,r.jsxs)("div",Bl({className:pl},{children:[(0,r.jsxs)("div",Bl({className:fl},{children:[(0,r.jsx)("span",Bl({className:hl},{children:_("options.optionsList")})),(0,r.jsx)("span",Bl({className:ml},{children:_("options.newGroups")}))]})),(0,r.jsxs)("div",Bl({className:vl},{children:[(0,r.jsx)("div",Bl({className:gl},{children:(0,r.jsx)(l.lg,Bl({className:kl,defaultScrollTop:0,height:"28rem",width:"14rem"},{children:N.map((function(e,t){return(0,r.jsx)("div",Bl({className:yl,style:{color:e.color}},{children:(0,r.jsxs)("span",Bl({className:xl},{children:[e.code," - ",e.content]}))}),t)}))}))})),(0,r.jsxs)("div",Bl({className:jl},{children:[(0,r.jsxs)(l.lg,Bl({className:bl,defaultScrollTop:0,height:"24rem",width:"53.5rem"},{children:[(0,r.jsxs)("div",Bl({className:Nl},{children:[(0,r.jsx)("div",Bl({className:wl},{children:_("defaultGroup")})),(0,r.jsx)("div",{className:Sl}),(0,r.jsx)("div",Bl({className:_l},{children:b.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsx)("div",Bl({className:Ol},{children:(0,r.jsxs)("span",{children:[e.data.code," - ","",Ca(e.data.text[f].content.list)]})}))},e.id)}))}))]})),j.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsx)(Dl,{reusableIds:S,dimIndex:n,member:y[e]})},e)}))]})),(0,r.jsxs)("div",Bl({className:Cl,onClick:function(){var e=ka(y);y[e.id]=e,j.push(e.id),s.structure.content.meta.grouped[n].members=Bl({},y),s.structure.content.meta.grouped[n].randomized.order.predefined=Wl([],Fl(j),!1),h("intervieweeNodes"===d?c.WA(s):c.Vb(s))}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),(0,r.jsx)("span",{children:_("button.add")})]}))]}))]}))]})),(0,r.jsxs)("div",Bl({className:Il},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:_("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:a}),(0,r.jsx)(l.zx,{height:"3.2rem",label:_("button.update"),size:"small",type:"primary",width:"9.5rem",onClick:a})]}))]}))}))},ql=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Vl=function(e){var t=qe(),n=t.structure.content.content.options[e],r=t.structure.content.meta.grouped[e],o=[],i=r.members,a=r.randomized.order.predefined,s=n.filter((function(e){return"OptionItem"===e.kind})),c=[];a.forEach((function(e){var t=n.find((function(t){return t.id===e})),r=i[e].groupColor,a=i[e].title.text;if(t)o.push({options:t,color:r,groupName:a});else{var l=[],d=i[e].order.predefined;d.forEach((function(e){var t=s.find((function(t){return t.data.code===e}));t&&l.push(t)})),l.length&&(o.push({options:l,color:r,groupName:a}),c.push.apply(c,zl([],ql(d),!1)))}}));var l=s.filter((function(e){return!c.includes(e.data.code)}));return l.length&&(o=zl([{options:l,color:"#000000",groupName:"Default Group"}],ql(o),!1)),o};const Jl={groupOption_container_drag:"groupOption_container_drag",groupOption_buttonIcon:"groupOption_buttonIcon",groupOption_drag_icon:"groupOption_drag_icon",groupOption_questionList_item:"groupOption_questionList_item",groupOption_buttonContainer:"groupOption_buttonContainer",groupOption_code:"groupOption_code",groupOption_contentContainer:"groupOption_contentContainer",scroll_scrollBody:"scroll_scrollBody",groupOption_optionSetting:"groupOption_optionSetting",groupOption_optionFixPosition:"groupOption_optionFixPosition",blockNode_list_nodesAdd:"blockNode_list_nodesAdd",groupOption_before:"groupOption_before"};var Rl=function(){return Rl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rl.apply(this,arguments)};const Gl=function(e){var t=e.item,n=(e.hover,e.handleChangeValue),a=e.handleAddOption,s=e.handleDeleteOption,c=(0,o.useRef)(null),d=(0,i.useSelector)((function(e){return e.lanState.editLan}));return(0,r.jsx)("div",Rl({className:Jl.groupOption_container},{children:(0,r.jsxs)("div",Rl({className:Jl.groupOption_questionList_item,ref:c},{children:[(0,r.jsxs)("div",Rl({className:Jl.groupOption_buttonContainer},{children:[(0,r.jsx)("span",Rl({className:Jl.groupOption_buttonIcon,onClick:a},{children:(0,r.jsx)(l.JO,{icon:Ei})})),(0,r.jsx)("span",Rl({className:Jl.groupOption_drag_icon},{children:(0,r.jsx)(l.JO,{icon:Fi})})),(0,r.jsx)("span",Rl({className:Jl.groupOption_buttonIcon,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Bi})}))]})),(0,r.jsx)(Vi,{defaultCode:t.data.code}),(0,r.jsx)("div",Rl({className:Jl.groupOption_contentContainer},{children:(0,r.jsx)(Gi,{height:"4rem",isText:!0,isScript:!1,padding:"0 1.5rem",value:t.data.text[d].content.list.list,handleHtml:function(e){n&&n(e)}},d)}))]}))}))},Hl={groups_container:"groups_container",groups_row_title:"groups_row_title",groups_row_name:"groups_row_name",groups_row_setting:"groups_row_setting",groups_row_settingContent:"groups_row_settingContent",groups_groupItem:"groups_groupItem",questionOptionItem_optionSetting:"questionOptionItem_optionSetting",groups_groupItem_line:"groups_groupItem_line",groups_groupItem_name:"groups_groupItem_name"};var Ql=function(){return Ql=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ql.apply(this,arguments)};const Yl=function(e){var t=e.title,n=e.groups,o=e.handleGroupSetting,i=(0,B.$G)("",{keyPrefix:"nodes.questionNode.group"}).t;return(0,r.jsxs)("div",Ql({className:Hl.groups_row},{children:[(0,r.jsxs)("div",Ql({className:Hl.groups_row_title},{children:[(0,r.jsxs)("div",Ql({className:Hl.groups_row_name},{children:[t,":"]})),(0,r.jsxs)("div",Ql({className:Hl.groups_row_setting,onClick:o},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"setting"})}),(0,r.jsx)("span",Ql({className:Hl.groups_row_settingContent},{children:i("groupSettings")}))]}))]})),n.map((function(e,t){var n=e.color,o=e.groupName,i=e.options;return Array.isArray(i)?(0,r.jsxs)("div",Ql({className:Hl.groups_groupItem,style:{background:"rgba(".concat(Pl(n),",0.1)")}},{children:[(0,r.jsx)("div",{className:Hl.groups_groupItem_line,style:{borderColor:n}}),(0,r.jsx)("div",Ql({className:Hl.groups_groupItem_name,style:{color:n}},{children:o})),i.map((function(e){return(0,r.jsx)(Gl,{item:e},"".concat(e.id,"_row_").concat(t))}))]}),"".concat(t,"_").concat(e.groupName)):(0,r.jsx)("div",{children:"555"},t)}))]}))},Ul={};var Zl=function(){return Zl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zl.apply(this,arguments)},Xl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Kl=function(){var e=Vl(0),t=Vl(1),n=Xl((0,o.useState)(!1),2),i=n[0],a=n[1],s=Xl((0,o.useState)(0),2),c=s[0],l=s[1],d=(0,B.$G)("",{keyPrefix:"nodes.questionNode.group"}).t,u=function(e){l(e),a(!0)};return(0,r.jsxs)("div",Zl({className:Ul.questionNodeGroups_container},{children:[(0,r.jsx)(Yl,{groups:e,title:d("row"),handleGroupSetting:function(){return u(0)}}),(0,r.jsx)(Yl,{groups:t,title:d("column"),handleGroupSetting:function(){return u(1)}}),(0,r.jsx)(Ll,{status:i,dimIndex:c,handleCancel:function(){return a(!1)}})]}))};const $l=function(){var e=qe();return(0,r.jsx)("div",{children:(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code,edit:!1})})},ed="relationCard_container",td="relationCard_content",nd="relationCard_content_drag",rd="relation_left",od="relation_node",id="relation_left__center",ad="relation_line",sd="relation_right";var cd=function(){return cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cd.apply(this,arguments)},ld=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const dd=function(){var e,t,n=qe(),i=ld((0,o.useState)(1),2),a=i[0],s=i[1],c=ld((0,o.useState)({x:0,y:0}),2),u=c[0],p=c[1],f=ld((0,o.useState)(!1),2),h=f[0],m=f[1],v=(0,o.useRef)({x:0,y:0}),x=(0,o.useRef)({x:0,y:0}),g=["1","2","3"];return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:n}),code:n.structure.code,edit:!1}),(0,r.jsx)("div",cd({className:ed},{children:(0,r.jsxs)("div",cd({className:d((e={},e[td]=!0,e[nd]=h,e)),style:{transform:"translate(".concat(u.x,"px, ").concat(u.y,"px) scale(").concat(a,")")},onWheel:function(e){return function(e){e.preventDefault(),e.deltaY<0?s(a+.2>=2?2:a+.2):s(a-.2<=1?1:a-.2)}(e)},onMouseMove:function(e){return function(e){if(h){var t=e.pageX-v.current.x,n=e.pageY-v.current.y;p({x:t+x.current.x,y:n+x.current.y})}}(e)},onMouseDown:function(e){v.current={x:e.pageX,y:e.pageY},x.current={x:u.x,y:u.y},m(!0)},onMouseUp:function(){return m(!1)}},{children:[(0,r.jsx)("div",cd({className:d((t={},t[rd]=!0,t[id]=1===g.length,t))},{children:g.map((function(e,t){return(0,r.jsx)("div",cd({className:od},{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"singleChoiceUnselected"}),(0,r.jsx)("span",{children:"N1111"})]})}),t)}))})),(0,r.jsx)("div",{className:ad}),(0,r.jsx)("div",cd({className:sd},{children:(0,r.jsx)("div",cd({className:od},{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"singleChoiceUnselected"}),(0,r.jsx)("span",{children:"N1111"})]})}))}))]}))}))]})};var ud=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const pd="blockOptionItem_itemContainer",fd="blockOptionItem_dragging",hd="blockOptionItem_isDragging",md="blockOptionItem_buttonContainer",vd="blockOptionItem_button",xd="blockOptionItem_contentContainer",gd="blockOptionItem_jumpButton";var yd=function(e){return{type:S.K.UPDATE_TARGET,payload:e}},jd=function(e){return{type:S.K.UPDATE_STEP,payload:e}},bd=function(){return bd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bd.apply(this,arguments)};const Nd=function(e){var t,n=e.nodeId,o=e.dragging,a=void 0!==o&&o,s=e.handleAddUnderBlock,c=(0,i.useSelector)((function(e){return e.editState.target.type})),u=Le(c),p=(0,B.$G)().t,f=(0,i.useDispatch)(),h=(0,Si.useSortable)({id:n}),m=h.attributes,v=h.listeners,x=h.setNodeRef,g=h.transform,y=h.transition,j=h.isDragging,b=h.setActivatorNodeRef,N={transform:Mi.CSS.Transform.toString(g),transition:y};return(0,r.jsxs)("div",bd({className:d((t={},t[pd]=!0,t[fd]=a,t[hd]=j,t)),ref:x,style:N},{children:[(0,r.jsxs)("div",bd({className:md},{children:[(0,r.jsx)("div",bd({className:vd,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Ei})})),(0,r.jsx)("div",bd({className:vd},m,v,{ref:b},{children:(0,r.jsx)(l.JO,{icon:Fi})}))]})),(0,r.jsxs)("div",bd({className:xd},{children:[(0,r.jsxs)("span",{children:[u[n].structure.code," - ".concat(u[n].kind)]}),(0,r.jsx)("div",bd({className:gd,onClick:function(){f(yd({type:c,id:n}))}},{children:p("nodes.blockNode.button")}))]}))]}))},Sd="blockNodes_nodesTag",_d="blockNodes_initAdd",Od="addNodeModal_container",wd="addNodeModal_title",Cd="addNodeModal_nodeName",Id="addNodeModal_secondaryTitle",kd="addNodeModal_list",Ad="addNodeModal_errorMsg",Pd="addNodeModal_item",Td="addNodeModal_item_arrow",Md="addNodeModal_item_nodeIcon",Ed="addNodeModal_item_nodeContent",Dd="addNodeModal_item__select",Bd="addNodeModal_right",Fd="addNodeModal_item_child",Wd="addNodeModal_item_child__select",Ld="addNodeModal_btn";var qd=function(){return(0,i.useSelector)((function(e){return e.lanState.lan}))},zd=n(31),Vd=function(e,t,n){void 0===n&&(n=["ENG"]);var r=(0,To.Z)(),o={comment:"",task:"",instruction:ha()};n=n.filter((function(e){return"ENG"!==e}));var i={default:Na("en")},a={default:Na("en")};n.map((function(e){i[e]=Na(e.toLocaleLowerCase()),a[e]=Na(e.toLocaleLowerCase())}));var s={type:"optional",code:e,content:va(t),text:i,instruction:a,condition:{true:!0,false:null},appearance:{plugin:{default:{name:"",settings:null,lan:{en:null}}}}};return new zd.B7(r,"QuestionNode",{node_label:""},o,s)},Jd=function(e,t,n){switch(void 0===n&&(n=["ENG"]),e){case"Single":return Vd(t,"Single",n);case"Multiple":return Vd(t,"Multi",n);case"Open End":return Vd(t,"OpenEnd",n);case"Numeric":return Vd(t,"Numeric",n);case"Block Node":return r=t,o=(0,To.Z)(),i={comment:"",task:"",instruction:ha()},a={code:r,content:xa(),condition:{true:null,false:null}},new Po.CW(o,"BlockNode",{node_label:""},i,a);case"Loop Node":return function(e){var t=(0,To.Z)(),n={comment:"",task:"",instruction:ha()},r={code:e,content:ya(),condition:{true:null,false:null}};return new Po.Io(t,"LoopNode",{node_label:""},n,r)}(t);case"Execution Node":return function(e){var t=(0,To.Z)(),n={comment:"",task:"",instruction:ha()},r={code:e,content:ga(),condition:{true:null,false:null}};return new Po.xK(t,"ExecutionNode",{node_label:""},n,r)}(t);case"Mark Node":return function(e){var t=(0,To.Z)(),n={comment:"",task:"",instruction:ha()},r={code:e,content:ja(),condition:{true:null,false:null}};return new Po.jW(t,"MarkNode",{node_label:""},n,r)}(t);case"Quota Node":return function(e){var t=(0,To.Z)(),n={comment:"",task:"",instruction:ha()},r={code:e,content:ba(),condition:{true:null,false:null}};return new Po.z3(t,"QuotaNode",{node_label:""},n,r)}(t);case"Display Node":return function(e,t){void 0===t&&(t=["ENG"]);var n=(0,To.Z)(),r={comment:"",task:"",instruction:ha()};t=t.filter((function(e){return"ENG"!==e}));var o={default:Na("en")};t.map((function(e){o[e]=Na(e.toLocaleLowerCase())}));var i={code:e,text:o,condition:{true:null,false:null},appearance:{plugin:{default:{name:"",settings:null,lan:{en:null}}}}};return new zd.rs(n,"DisplayNode",{node_label:""},r,i)}(t,n);case"Exit Node":return function(e,t){void 0===t&&(t=["ENG"]);var n=(0,To.Z)(),r={comment:"",task:"",instruction:ha()};t=t.filter((function(e){return"ENG"!==e}));var o={default:Na("en")};t.map((function(e){o[e]=Na(e.toLocaleLowerCase())}));var i={code:e,text:o,condition:{true:null,false:null},setStatus:"Complete"};return new zd.F6(n,"ExitNode",{node_label:""},r,i)}(t,n)}var r,o,i,a},Rd=function(){return Rd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rd.apply(this,arguments)},Gd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Hd=function(e){var t=e.status,n=e.nodesType,a=e.nodeId,s=e.position,u=void 0===s?"after":s,p=e.isBlock,f=void 0!==p&&p,h=e.handleCancel,m=Gd((0,o.useState)(""),2),v=m[0],x=m[1],g=Gd((0,o.useState)(!1),2),y=g[0],j=g[1],b=Gd((0,o.useState)(""),2),N=b[0],S=b[1],_=Gd((0,o.useState)(""),2),O=_[0],w=_[1],C=qd(),I=Le(n),k=ci(n),A=(0,B.$G)().t,P=(0,i.useDispatch)(),T=[{id:"Question Node",icon:"Single",content:A("pages.editPage.nodeSelection.nodes.question"),hint:A("pages.editPage.nodeSelection.tips.question"),child:[{id:"Single",content:A("components.alertWindow.addUnderBlock.single"),icon:"Single"},{id:"Multiple",content:A("components.alertWindow.addUnderBlock.multi"),icon:"Multi"},{id:"Open End",content:A("components.alertWindow.addUnderBlock.openEnd"),icon:"OpenEnd"},{id:"Numeric",content:A("components.alertWindow.addUnderBlock.numeric"),icon:"Numeric"}]},{id:"Block Node",content:A("pages.editPage.nodeSelection.nodes.block"),hint:A("pages.editPage.nodeSelection.tips.block"),icon:"BlockNode"},{id:"Loop Node",content:A("pages.editPage.nodeSelection.nodes.loop"),hint:A("pages.editPage.nodeSelection.tips.loop"),icon:"LoopNode"},{id:"Execution Node",content:A("pages.editPage.nodeSelection.nodes.execution"),hint:A("pages.editPage.nodeSelection.tips.execution"),icon:"ExecutionNode"},{id:"Mark Node",content:A("pages.editPage.nodeSelection.nodes.mark"),hint:A("pages.editPage.nodeSelection.tips.mark"),icon:"MarkNode"},{id:"Quota Node",content:A("pages.editPage.nodeSelection.nodes.quota"),hint:A("pages.editPage.nodeSelection.tips.quota"),icon:"QuotaNode"},{id:"Display Node",content:A("pages.editPage.nodeSelection.nodes.display"),hint:A("pages.editPage.nodeSelection.tips.display"),icon:"DisplayNode"},{id:"Exit Node",content:A("pages.editPage.nodeSelection.nodes.exit"),hint:A("pages.editPage.nodeSelection.tips.exit"),icon:"ExitNode"}];return(0,r.jsx)(es,Rd({status:t,hiddenCloseIcon:!0},{children:(0,r.jsxs)("div",Rd({className:Od},{children:[(0,r.jsx)("div",Rd({className:wd},{children:A("components.alertWindow.addUnderBlock.title")})),(0,r.jsxs)("div",Rd({className:Cd},{children:[(0,r.jsx)("span",{children:A("components.alertWindow.addUnderBlock.label")}),(0,r.jsx)(l.Ny,{width:"55.2rem",height:"4rem",placeholder:A("components.alertWindow.addUnderBlock.placeholder"),handleInputOnChange:S})]})),!!O&&(0,r.jsx)("div",Rd({className:Ad},{children:O})),(0,r.jsx)("div",Rd({className:Id},{children:A("components.alertWindow.addUnderBlock.nodeType")})),(0,r.jsx)("div",Rd({className:kd},{children:(0,r.jsx)(l.lg,Rd({defaultScrollTop:0,height:"auto",width:"auto",style:{maxHeight:"22.2rem"}},{children:T.map((function(e){var t;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",Rd({className:d((t={},t[Pd]=!0,t[Dd]=e.id===v,t)),onClick:function(){e.child?j(!y):x(e.id)}},{children:[(0,r.jsx)("span",Rd({className:Td,style:{transform:"rotate(".concat(y?90:0,"deg)")}},{children:e.child&&(0,r.jsx)(l.JO,{type:"next"})})),(0,r.jsx)("span",Rd({className:Md},{children:(0,r.jsx)(Qc,{type:e.icon})})),(0,r.jsx)("span",Rd({className:Ed},{children:e.content})),(0,r.jsx)(rl,{content:e.hint,width:"20rem",color:"white"}),e.id===v&&(0,r.jsx)(l.JO,{type:"right",className:Bd})]})),e.child&&y&&(0,r.jsx)("div",{children:e.child.map((function(e){var t;return(0,r.jsxs)("div",Rd({className:d((t={},t[Fd]=!0,t[Wd]=e.id===v,t)),onClick:function(){x(e.id)}},{children:[(0,r.jsx)("span",Rd({className:Md},{children:(0,r.jsx)(Qc,{type:e.icon})})),(0,r.jsx)("span",Rd({className:Ed},{children:e.content})),e.id===v&&(0,r.jsx)(l.JO,{type:"right",className:Bd})]}),e.content)}))})]},e.content)}))}))})),(0,r.jsxs)("div",Rd({className:Ld},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:A("components.alertWindow.addUnderBlock.button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:h}),(0,r.jsx)(l.zx,{height:"3.2rem",label:A("components.alertWindow.addUnderBlock.button.confirm"),size:"small",disabled:!N,type:"primary",width:"9.5rem",onClick:function(){var e,t,r=""===(t=N).trim()?{status:!1,msg:"Node name cannot be null"}:(0,qs.X)(t.trim(),zs).status?{status:!0}:{status:!1,msg:"This field only allows letters and numbers"};if(r.status)if(o=k.nodeOrder,i=N,-1===Object.keys(o).findIndex((function(e){return o[e].code===i}))){var o,i,s=Jd(v,N,C);if(s){if(I[s.id]=s,P("intervieweeNodes"===n?c.fm(I):c.pR(I)),a)if(f){var l=s.id,d=g=s.kind;(0,ze.hr)(s)&&(d=s.structure.content.content.type),k.nodeOrder[l]={id:l,kind:d,parent:a,code:N,fold:!1,children:[]},k.nodeOrder[a].children.push(l),P("intervieweeNodes"===n?c.j5(Rd({},k)):c.Kn(Rd({},k)))}else{var p=k.nodeOrder[a];if(p.parent)var m=k.nodeOrder[p.parent].children.findIndex((function(e){return e===a}));else{l=s.id,g=s.kind;var x=s.structure.code;I[l]=s;d=g;(0,ze.hr)(s)&&(d=s.structure.content.content.type),k.nodeOrder[l]={id:l,kind:d,parent:"",code:x,fold:!1,children:[]};m=k.rootOrder.findIndex((function(e){return e===a}));k.rootOrder.splice(m+("after"===u?1:0),0,l),P("intervieweeNodes"===n?c.j5(Rd({},k)):c.Kn(Rd({},k)))}}else{k.rootOrder.unshift(s.id);var g=s.kind;(0,ze.hr)(s)&&(g=s.structure.content.content.type),k.nodeOrder[s.id]={id:s.id,kind:g,code:s.structure.code,fold:!1,children:[]},P("intervieweeNodes"===n?c.j5(Rd({},k)):c.Kn(Rd({},k)))}h&&h()}}else w("Node name should be unique");else w(null!==(e=r.msg)&&void 0!==e?e:"")}})]}))]}))}))},Qd=function(){return Qd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qd.apply(this,arguments)},Yd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ud=function(){var e=Yd((0,o.useState)(!1),2),t=e[0],n=e[1],a=ud(),s=Yd((0,o.useState)(null),2),d=s[0],u=s[1],p=(0,i.useSelector)((function(e){return e.editState.target.type})),f=ci(p),h=(0,B.$G)().t,m=(0,i.useDispatch)(),v=f.nodeOrder[a.id].children,x=0===v.length,g=v.find((function(e){return e===d}));return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Qd({className:Sd},{children:"Nodes"})),x&&(0,r.jsxs)("div",Qd({className:_d,onClick:function(){return n(!0)}},{children:[(0,r.jsx)(l.JO,{type:"plus"}),(0,r.jsxs)("span",{children:[" ",h("nodes.blockNode.add")]})]})),(0,r.jsx)(Ni.DndContext,Qd({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=v.findIndex((function(e){return e===t.id})),o=v.findIndex((function(e){return e===n.id})),i=(0,Si.arrayMove)(v,r,o);f.nodeOrder[a.id].children=i,m("intervieweeNodes"===p?c.j5(Qd({},f)):c.Kn(Qd({},f)))}},onDragStart:function(e){var t=e.active;t&&u(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,Qd({items:v,strategy:Si.verticalListSortingStrategy},{children:[v.map((function(e){return(0,r.jsx)(Nd,{nodeId:e,handleAddUnderBlock:function(){return n(!0)}},e)})),(0,r.jsx)(Ni.DragOverlay,{children:g&&(0,r.jsx)(Nd,{nodeId:g,dragging:!0},g)})]}))}),v.length),(0,r.jsx)(Hd,{status:t,nodesType:p,nodeId:a.id,isBlock:!0,handleCancel:function(){return n(!1)}})]})};const Zd=function(){var e=ud();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)(Ud,{})]})};var Xd=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const Kd="loopNodeItem_nodesContainer",$d="loopNodeItem_buttonContainer",eu="loopNodeItem_dragging",tu="loopNodeItem_isDragging",nu="loopNodeItem_contentContainer",ru="loopNodeItem_jumpButton",ou="loopNodeItem_button";var iu=function(){return iu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},iu.apply(this,arguments)};const au=function(e){var t,n=e.nodeId,o=e.dragging,a=void 0!==o&&o,s=e.handleAddNode,c=(0,i.useSelector)((function(e){return e.editState.target.type})),u=Le(c),p=(0,i.useDispatch)(),f=(0,B.$G)().t,h=(0,Si.useSortable)({id:n}),m=h.attributes,v=h.listeners,x=h.setNodeRef,g=h.transform,y=h.transition,j=h.isDragging,b=h.setActivatorNodeRef,N={transform:Mi.CSS.Transform.toString(g),transition:y};return(0,r.jsxs)("div",iu({className:d((t={},t[Kd]=!0,t[eu]=a,t[tu]=j,t)),ref:x,style:N},{children:[(0,r.jsxs)("div",iu({className:$d},{children:[(0,r.jsx)("div",iu({className:ou,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Ei})})),(0,r.jsx)("div",iu({className:ou},m,v,{ref:b,tabIndex:-1},{children:(0,r.jsx)(l.JO,{icon:Fi})}))]})),(0,r.jsxs)("div",iu({className:nu},{children:[u[n].structure.code," - ".concat(u[n].kind),(0,r.jsx)("div",iu({className:ru,onClick:function(){p(yd({type:c,id:n}))}},{children:f("nodes.loopNode.button")}))]}))]}))},su="loopNodes_nodesTag",cu="loopNodes_nodesAdd";var lu=function(){return lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lu.apply(this,arguments)},du=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const uu=function(){var e=du((0,o.useState)(!1),2),t=e[0],n=e[1],a=(0,i.useSelector)((function(e){return e.editState.target.type})),s=ci(a),d=Xd(),u=(0,B.$G)().t,p=du((0,o.useState)(null),2),f=p[0],h=p[1],m=(0,i.useDispatch)(),v=s.nodeOrder[d.id].children,x=v.find((function(e){return e===f}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",lu({className:su},{children:"Nodes"})),0===v.length&&(0,r.jsxs)("div",lu({className:cu,onClick:function(){return n(!0)}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),u("nodes.loopNode.addNode")]})),(0,r.jsx)(Ni.DndContext,lu({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=v.findIndex((function(e){return e===t.id})),o=v.findIndex((function(e){return e===n.id})),i=(0,Si.arrayMove)(v,r,o);s.nodeOrder[d.id].children=i,m("intervieweeNodes"===a?c.j5(lu({},s)):c.Kn(lu({},s)))}},onDragStart:function(e){var t=e.active;t&&h(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,lu({items:v,strategy:Si.verticalListSortingStrategy},{children:[v.map((function(e){return(0,r.jsx)(au,{nodeId:e,handleAddNode:function(){return n(!0)}},e)})),(0,r.jsx)(Ni.DragOverlay,{children:x&&(0,r.jsx)(au,{nodeId:x,dragging:!0},x)})]}))}),v.length),(0,r.jsx)(Hd,{status:t,nodesType:a,nodeId:d.id,isBlock:!0,handleCancel:function(){return n(!1)}})]})})},pu="loopOptionItem_nodesContainerLoop",fu="loopOptionItem_dragging",hu="loopOptionItem_isDragging",mu="loopOptionItem_optionButtonContainer",vu="loopOptionItem_optionContentContainer";var xu=function(){return xu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xu.apply(this,arguments)};const gu=function(e){var t,n=e.optionItem,o=e.dragging,a=void 0!==o&&o,s=e.handleValidationCode,c=e.handleAddOption,l=e.handleDeleteOption,u=e.handleModifyContent,p=e.handleModifyCode,f=(0,i.useSelector)((function(e){return e.lanState.editLan})),h=(0,Si.useSortable)({id:n.id}),m=h.attributes,v=h.listeners,x=h.setNodeRef,g=h.transform,y=h.transition,j=h.isDragging,b=h.setActivatorNodeRef,N=h.activeIndex,S=n.data.code,_={transform:Mi.CSS.Transform.toString(g),transition:y};return(0,r.jsxs)("div",xu({className:d((t={},t[pu]=!0,t[fu]=a,t[hu]=j,t)),ref:x,style:_},{children:[(0,r.jsxs)("div",xu({className:mu},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p,onClick:c})}),(0,r.jsx)("span",xu({},m,v,{ref:b,tabIndex:-1},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4,onClick:l})})]})),(0,r.jsx)(Vi,{defaultCode:n.data.code,handleChangeCode:function(e){if(s){var t=e.currentTarget.value.trim();if(!s(t))return void(e.currentTarget.value=S);p&&p(t)}}}),(0,r.jsx)("div",xu({className:vu},{children:(0,r.jsx)(Gi,{height:"4rem",isText:N>=0,isScript:!1,padding:"0 1.5rem",value:n.data.text[f].content.list.list,handleHtml:function(e){u&&u(e)}},f)}))]}))},yu="loopOptions_nodesTag",ju="loopOptions_nodesAdd";var bu=function(e){var t=[];return e.forEach((function(e){t.push(e.data.code)})),t},Nu=function(e,t){var n=function(e){for(var t=0,n=bu(e);n.includes(String(t));)t+=1;return String(t)}(e);return Sa(n,t)},Su=function(){return Su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Su.apply(this,arguments)},_u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ou=function(){var e=Xd(),t=(0,i.useSelector)((function(e){return e.editState.target.type})),n=qd(),a=We(),s=(0,B.$G)().t,d=(0,i.useDispatch)(),u=_u((0,o.useState)(null),2),p=u[0],f=u[1],h=e.structure.content.content.options.list,m=h.find((function(e){return e.id===p})),v=function(e){var t=bu(e);return function(e){return t.includes(e)}}(h);var x=function(r){void 0===r&&(r=-1);var o=Nu(h,n);-1===r?e.structure.content.content.options.list.push(o):e.structure.content.content.options.list.splice(r+1,0,o),d("intervieweeNodes"===t?c.WA(e):c.Vb(e))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Su({className:yu},{children:"Loop Item"})),0===h.length&&(0,r.jsxs)("div",Su({className:ju,onClick:function(){return x()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),s("nodes.loopNode.addItem")]})),(0,r.jsx)(Ni.DndContext,Su({onDragEnd:function(n){var r=n.active,o=n.over;if(r.id!==o.id){var i=h.findIndex((function(e){return e.id===r.id})),a=h.findIndex((function(e){return e.id===o.id})),s=(0,Si.arrayMove)(h,i,a);e.structure.content.content.options.list=s,d("intervieweeNodes"===t?c.WA(e):c.Vb(e))}},onDragStart:function(e){var t=e.active;t&&f(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,Su({items:h,strategy:Si.verticalListSortingStrategy},{children:[h.map((function(n,o){return(0,r.jsx)(gu,{handleValidationCode:v,optionItem:n,handleAddOption:function(){return x(o)},handleDeleteOption:function(){return function(n){e.structure.content.content.options.list.splice(n,1),d("intervieweeNodes"===t?c.WA(e):c.Vb(e))}(o)},handleModifyContent:function(n){return function(n,r){h[r].data.text[a].content.list.list=n,d("intervieweeNodes"===t?c.WA(e):c.Vb(e))}(n,o)},handleModifyCode:function(n){return function(n,r){h[r].data.code=n,d("intervieweeNodes"===t?c.WA(e):c.Vb(e))}(n,o)}},n.id)})),(0,r.jsx)(Ni.DragOverlay,{children:m&&(0,r.jsx)(gu,{optionItem:m,dragging:!0},m.id)})]}))}),h.length)]})};const wu=function(){var e=Xd();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)(Ou,{}),(0,r.jsx)(uu,{})]})};var Cu=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const Iu="executionOptionItem_scriptItem",ku="executionOptionItem_nodesContainer",Au="executionOptionItem_dragging",Pu="executionOptionItem_isDragging",Tu="executionOptionItem_buttonContainer",Mu="executionOptionItem_button",Eu="executionOptionItem_contentContainer",Du="executionOptionItem_jumpButton";var Bu=function(e,t){return!Object.keys(e).includes(t)},Fu=function(e){var t=(0,To.Z)(),n={name:e};return new Po.Db(t,"CustomisedScriptItem",n,null,{function:"",arguments:[],information:"",return:null,status:"draft"})},Wu=function(){return Wu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wu.apply(this,arguments)};const Lu=function(e){var t,n=e.optionItem,o=e.dragging,a=void 0!==o&&o,s=e.handleAddScript,c=e.handleDeleteScript,l=e.handleShowCog,u=e.handleChangeScriptName,p=(0,i.useSelector)((function(e){return e.scriptState.customScripts})),f=p.data,h=p.idMap,m=(0,B.$G)().t,v=(0,i.useDispatch)(),x=(0,Si.useSortable)({id:n.id}),g=x.attributes,y=x.listeners,j=x.setNodeRef,b=x.transform,N=x.transition,S=x.isDragging,_=x.setActivatorNodeRef,O=h[n.id],w=n.arguments,C={transform:Mi.CSS.Transform.toString(b),transition:N};return(0,r.jsx)("div",Wu({className:d((t={},t[Iu]=!0,t[Au]=a,t[Pu]=S,t)),ref:j,style:C},{children:(0,r.jsxs)("div",Wu({className:ku},{children:[(0,r.jsxs)("div",Wu({className:Tu},{children:[(0,r.jsx)("div",Wu({className:Mu},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p,onClick:s})})),(0,r.jsx)("div",Wu({className:Mu},g,y,{ref:_},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsx)("div",Wu({className:Mu},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4,onClick:c})}))]})),(0,r.jsxs)("div",Wu({className:Eu},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.b7W,onClick:l})}),(0,r.jsx)("input",{defaultValue:O,onBlur:function(e){var t=e.target.value;Bu(f,t.trim())&&t.trim()?u&&u(t):e.target.value=O}}),(0,r.jsxs)("div",Wu({className:Du},{children:[0!==w.length&&(0,r.jsx)("span",Wu({onClick:l},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.CgH})})),(0,r.jsx)("div",Wu({onClick:function(){v(yd({type:"customScript",id:O}))}},{children:m("nodes.executionNode.editScript")}))]}))]}))]}))}))},qu="executionOptions_firstAdd";var zu=n(849);const Vu="scriptPropertyModal_ScriptWindowContainer",Ju="scriptPropertyModal_ScriptWindowTitle",Ru="scriptPropertyModal_ScriptWindowCheckBox",Gu="scriptPropertyModal_ScriptWindowInput",Hu="scriptPropertyModal_input__hint",Qu="scriptPropertyModal_input__error",Yu="scriptPropertyModal_ScriptWindowButtonWrapper",Uu="scriptPropertyModal_ScriptWindowInputList",Zu="scriptPropertyModal_ScriptWindowAdd";var Xu=function(){return Xu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xu.apply(this,arguments)},Ku=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$u=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},ep=function(e){var t=e.status,n=e.setStatus,a=e.currentNode,s=e.scriptIndex,d=Ku((0,o.useState)([]),2),u=d[0],p=d[1],f=(0,i.useSelector)((function(e){return e.editState.target.type})),h=Ku((0,o.useState)([]),2),m=h[0],v=h[1],x=(0,i.useDispatch)(),g=(0,B.$G)("",{keyPrefix:"components.alertWindow.scriptWindow"}).t;(0,o.useEffect)((function(){if(s){var e=a.structure.content.content.executions[s].arguments.map((function(e){return{type:e.type,input:e.value,statue:!1}}));p(e)}}),[s]),(0,o.useEffect)((function(){var e=document.getElementById("scriptLabel");e&&(e.checked=0!==u.length)}));return(0,r.jsx)(es,Xu({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Xu({className:Vu},{children:[(0,r.jsxs)("div",Xu({className:Ju},{children:[(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.b7W}),(0,r.jsx)("span",{children:g("title")})]})),(0,r.jsxs)("div",Xu({className:Ru},{children:[(0,r.jsx)(l.lq,{defaultValue:m,list:[{content:"".concat(g("arguments")),id:"scriptLabel"}],handleChange:v,type:"check"}),(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Fuz})})]})),u.map((function(e,t){return(0,r.jsx)("div",Xu({className:Gu},{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",Xu({tabIndex:-1,onClick:function(){var e=document.getElementById("".concat(t,"uniqueId"));e&&(e.style.display="block"===e.style.display?"none":"block")},onBlur:function(){var e=document.getElementById("".concat(t,"uniqueId"));e&&(e.style.display="none")}},{children:[(0,r.jsx)("p",Xu({className:"Please choose a type"===e.type?e.statue?Qu:Hu:void 0},{children:"Please choose a type"===e.type?g("hint"):e.type})),(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.gc2})}),(0,r.jsx)("div",Xu({id:"".concat(t,"uniqueId"),className:Uu},{children:(0,r.jsx)(l.qV,{itemSet:[{id:1,content:"String",func:function(){var e=$u([],Ku(u),!1);e[t].type="String",p(e)},link:"/",linkJump:!1},{id:2,content:"Number",func:function(){var e=$u([],Ku(u),!1);e[t].type="Number",p(e)},link:"/",linkJump:!1}]})}))]})),(0,r.jsx)("input",{type:"Number"===e.type?"number":"text",defaultValue:e.input,onBlur:function(e){var n=$u([],Ku(u),!1);n[t].input=e.target.value,p(n)}},"".concat(Math.random())),(0,r.jsx)("div",Xu({onClick:function(){var e=$u([],Ku(u),!1);e.splice(t,1),p(e)}},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.uMC})}))]})}),"".concat(t,"scriptWindow"))})),(0,r.jsxs)("div",Xu({className:Zu,onClick:function(){var e=$u([],Ku(u),!1);e.push({type:"Please choose a type",input:"",statue:!1}),p(e)}},{children:[(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.KtF}),(0,r.jsx)("span",{children:g("add")})]})),(0,r.jsxs)("div",Xu({className:Yu},{children:[(0,r.jsx)("span",Xu({onClick:function(){return n(!1)}},{children:(0,r.jsx)(l.zx,{label:g("button.cancel"),size:"big",type:"secondary",height:"2.8rem"})})),(0,r.jsx)("span",Xu({onClick:function(){var e=$u([],Ku(u),!1),t=!1;e.forEach((function(e){"Please choose a type"===e.type&&(e.statue=!0,t=!0)})),t?p(e):(a.structure.content.content.executions[s].arguments=[],e.forEach((function(e,t){a.structure.content.content.executions[s].arguments[t]={type:e.type,value:e.input}})),x("intervieweeNodes"===f?c.WA(a):c.Vb(a)),n(!1))}},{children:(0,r.jsx)(l.zx,{label:g("button.update"),width:"8rem",height:"2.8rem"})}))]}))]}))}))},tp=function(){return tp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tp.apply(this,arguments)},np=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const rp=function(){var e=np((0,o.useState)(!1),2),t=e[0],n=e[1],a=np((0,o.useState)(0),2),s=a[0],l=a[1],d=Cu(),u=(0,i.useSelector)((function(e){return e.editState.target.type})),p=(0,i.useSelector)((function(e){return e.scriptState.customScripts})),f=p.data,h=p.idMap,m=(0,B.$G)().t,v=(0,i.useDispatch)(),x=np((0,o.useState)(null),2),g=x[0],y=x[1],j=d.structure.content.content.executions,b=j,N=b.find((function(e){return e.id===g}));var S=function(e){void 0===e&&(e=-1);var t="".concat(Math.round(1e6*Math.random()),"script"),n=Fu(t);f[t]=n,h[n.id]=t,-1===e?j.push({id:n.id,arguments:[]}):j.splice(e+1,0,{id:n.id,arguments:[]}),d.structure.content.content.executions=j,v(zu.v2({data:f,idMap:h})),v("intervieweeNodes"===u?c.WA(d):c.Vb(d))};return(0,r.jsxs)("div",{children:[0===b.length&&(0,r.jsxs)("div",tp({className:qu,onClick:function(){return S()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.KtF})}),m("nodes.executionNode.add")]})),(0,r.jsx)(Ni.DndContext,tp({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=b.findIndex((function(e){return e.id===t.id})),o=b.findIndex((function(e){return e.id===n.id})),i=(0,Si.arrayMove)(b,r,o);d.structure.content.content.executions=i,v("intervieweeNodes"===u?c.WA(d):c.Vb(d))}},onDragStart:function(e){var t=e.active;t&&y(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,tp({items:b,strategy:Si.verticalListSortingStrategy},{children:[b.map((function(e,t){return(0,r.jsx)(Lu,{optionItem:e,handleAddScript:function(){return S(t)},handleDeleteScript:function(){return function(e){j.splice(e,1),d.structure.content.content.executions=j,v("intervieweeNodes"===u?c.WA(d):c.Vb(d))}(t)},handleShowCog:function(){return function(e){l(e),n(!0)}(t)},handleChangeScriptName:function(t){!function(e,t){var n=h[t];f[e]=JSON.parse(JSON.stringify(f[n])),delete f[n],h[t]=e,d.structure.content.content.executions=j,v(zu.v2({data:f,idMap:h})),v("intervieweeNodes"===u?c.WA(d):c.Vb(d))}(t,e.id)}},e.id)})),(0,r.jsx)(Ni.DragOverlay,{children:N&&(0,r.jsx)(Lu,{optionItem:N,dragging:!0})})]}))}),b.length),(0,r.jsx)(ep,{status:t,scriptIndex:s,currentNode:d,setStatus:n})]})};const op=function(){var e=Cu();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)(rp,{})]})};var ip=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const ap="markOptionItem_nodesContainer",sp="markOptionItem_buttonContainer",cp="markOptionItem_dragging",lp="markOptionItem_isDragging",dp="markOptionItem_button",up="markOptionItem_contentContainer";var pp=function(){return pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pp.apply(this,arguments)};const fp=function(e){var t,n=e.optionItem,o=e.dragging,i=void 0!==o&&o,a=e.handleAddMark,s=e.handleDeleteMark,c=e.handleModifyMarkContent,l=(0,B.$G)().t,u=(0,Si.useSortable)({id:n.id}),p=u.attributes,f=u.listeners,h=u.setNodeRef,m=u.transform,v=u.transition,x=u.isDragging,g=u.setActivatorNodeRef,y={transform:Mi.CSS.Transform.toString(m),transition:v};return(0,r.jsxs)("div",pp({className:d((t={},t[ap]=!0,t[cp]=i,t[lp]=x,t)),ref:h,style:y},{children:[(0,r.jsxs)("div",pp({className:sp},{children:[(0,r.jsx)("div",pp({className:dp},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p,onClick:a})})),(0,r.jsx)("div",pp({className:dp},p,f,{ref:g},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsx)("div",pp({className:dp},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4,onClick:s})}))]})),(0,r.jsxs)("div",pp({className:up},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.b7W})}),(0,r.jsx)("input",{type:"text",defaultValue:n.name,placeholder:l("nodes.markNode.addContent"),onChange:function(e){c&&c(e.currentTarget.value)}})]}))]}))},hp="markOptions_firstAdd";var mp=function(){return mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mp.apply(this,arguments)},vp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const xp=function(){var e=ip(),t=(0,i.useDispatch)(),n=(0,B.$G)().t,a=(0,i.useSelector)((function(e){return e.editState.target.type})),s=vp((0,o.useState)(null),2),l=s[0],d=s[1],u=e.structure.content.content.markers,p=u.find((function(e){return e.id===l}));var f=function(n){void 0===n&&(n=-1);var r={id:(0,To.Z)(),name:""};-1===n?e.structure.content.content.markers.push(r):e.structure.content.content.markers.splice(n+1,0,r),t("intervieweeNodes"===a?c.WA(e):c.Vb(e))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[0===u.length&&(0,r.jsxs)("div",mp({className:hp,onClick:function(){return f()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.KtF})}),n("nodes.markNode.add")]})),(0,r.jsx)(Ni.DndContext,mp({onDragEnd:function(n){var r=n.active,o=n.over;if(r.id!==o.id){var i=u.findIndex((function(e){return e.id===r.id})),s=u.findIndex((function(e){return e.id===o.id})),l=(0,Si.arrayMove)(u,i,s);e.structure.content.content.markers=l,t("intervieweeNodes"===a?c.WA(e):c.Vb(e))}},onDragStart:function(e){var t=e.active;t&&d(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,mp({items:u,strategy:Si.verticalListSortingStrategy},{children:[u.map((function(n,o){return(0,r.jsx)(fp,{optionItem:n,handleAddMark:function(){return f(o)},handleDeleteMark:function(){return function(n){e.structure.content.content.markers.splice(n,1),t("intervieweeNodes"===a?c.WA(e):c.Vb(e))}(o)},handleModifyMarkContent:function(n){!function(n,r){e.structure.content.content.markers[r].name=n,t("intervieweeNodes"===a?c.WA(e):c.Vb(e))}(n,o)}},n.id)})),(0,r.jsx)(Ni.DragOverlay,{children:p&&(0,r.jsx)(fp,{optionItem:p,dragging:!0})})]}))}),u.length)]})})};const gp=function(){var e=ip();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)(xp,{})]})};var yp=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]};const jp={quotaOptionItem_nodesItem:"quotaOptionItem_nodesItem",quotaOptionItem_nodesContainer:"quotaOptionItem_nodesContainer",quotaOptionItem_buttonContainer:"quotaOptionItem_buttonContainer",quotaOptionItem_button:"quotaOptionItem_button",quotaOptionItem_dragging:"quotaOptionItem_dragging",quotaOptionItem_isDragging:"quotaOptionItem_isDragging",quotaOptionItem_contentContainer:"quotaOptionItem_contentContainer",quotaOptionItem_jumpButton:"quotaOptionItem_jumpButton",quotaOptionItem_jumpButton_tip:"quotaOptionItem_jumpButton_tip",kite_body:"kite_body"};var bp=function(){return bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bp.apply(this,arguments)},Np=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Sp=function(e){var t,n=e.optionItem,i=e.dragging,a=void 0!==i&&i,s=e.handleAddQuota,c=e.handleDeleteQuota,u=e.handleModifyQuotaContent,p=e.handleCong,f=Np((0,o.useState)(!1),2),h=(f[0],f[1]),m=yp(),v=(0,B.$G)().t,x=(0,Si.useSortable)({id:n.id}),g=x.attributes,y=x.listeners,j=x.setNodeRef,b=x.transform,N=x.transition,S=x.isDragging,_=x.setActivatorNodeRef,O=m.structure.content.content.quotas,w={transform:Mi.CSS.Transform.toString(b),transition:N};return(0,r.jsx)("div",bp({className:d((t={},t[jp.quotaOptionItem_nodesItem]=!0,t[jp.quotaOptionItem_dragging]=a,t[jp.quotaOptionItem_isDragging]=S,t)),ref:j,style:w},{children:(0,r.jsxs)("div",bp({className:jp.quotaOptionItem_nodesContainer},{children:[(0,r.jsxs)("div",bp({className:jp.quotaOptionItem_buttonContainer},{children:[(0,r.jsx)("div",bp({className:jp.quotaOptionItem_button},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p,onClick:s})})),(0,r.jsx)("div",bp({className:jp.quotaOptionItem_button},g,y,{ref:_},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsx)("div",bp({className:jp.quotaOptionItem_button},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4,onClick:c})}))]})),(0,r.jsxs)("div",bp({className:jp.quotaOptionItem_contentContainer},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.b7W,onClick:p})}),(0,r.jsx)("input",{defaultValue:n.name,onChange:function(e){u&&u(e.currentTarget.value)}}),O[n.id]&&0!==O[n.id].number&&(0,r.jsxs)("div",bp({className:jp.quotaOptionItem_jumpButton},{children:[(0,r.jsxs)("span",bp({onClick:p},{children:[(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r$M}),(0,r.jsx)("span",{children:O[n.id].number})]})),(0,r.jsx)(l.J2,bp({className:jp.quotaOptionItem_jumpButton_tip,root:(0,r.jsx)("div",{onClick:function(){h(!0)},className:jp.quotaOptionItem_setGoto})},{children:v("nodes.quotaNode.hint.go")}))]}))]}))]}))}))},_p="quotaOptions_firstAdd";var Op=function(){return Op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Op.apply(this,arguments)},wp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Cp=function(){var e=wp((0,o.useState)(""),2),t=(e[0],e[1]),n=wp((0,o.useState)(!1),2),a=(n[0],n[1]),s=yp(),l=(0,i.useSelector)((function(e){return e.editState.target.type})),d=(0,B.$G)().t,u=(0,i.useDispatch)(),p=wp((0,o.useState)(null),2),f=p[0],h=p[1],m=s.structure.content.content.markers,v=m.find((function(e){return e.id===f}));var x=function(e){void 0===e&&(e=-1);var t={name:"",id:(0,To.Z)(),go_to_node:null};-1===e?s.structure.content.content.markers.push(t):s.structure.content.content.markers.splice(e+1,0,t),u("intervieweeNodes"===l?c.WA(s):c.Vb(s))};return(0,r.jsxs)("div",{children:[0===m.length&&(0,r.jsxs)("div",Op({className:_p,onClick:function(){return x()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.KtF})}),d("nodes.quotaNode.add")]})),(0,r.jsx)(Ni.DndContext,Op({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=m.findIndex((function(e){return e.id===t.id})),o=m.findIndex((function(e){return e.id===n.id})),i=(0,Si.arrayMove)(m,r,o);s.structure.content.content.markers=i,u("intervieweeNodes"===l?c.WA(s):c.Vb(s))}},onDragStart:function(e){var t=e.active;t&&h(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,Op({items:m,strategy:Si.verticalListSortingStrategy},{children:[m.map((function(e,n){return(0,r.jsx)(Sp,{optionItem:e,handleAddQuota:function(){return x(n)},handleDeleteQuota:function(){return function(e,t){var n=s.structure.content.content,r=n.markers,o=n.quotas;r.splice(e,1),delete o[t],u("intervieweeNodes"===l?c.WA(s):c.Vb(s))}(n,e.id)},handleModifyQuotaContent:function(e){!function(e,t){s.structure.content.content.markers[t].name=e,u("intervieweeNodes"===l?c.WA(s):c.Vb(s))}(e,n)},handleCong:function(){return n=e.id,t(n),void a(!0);var n}},e.id)})),(0,r.jsx)(Ni.DragOverlay,{children:v&&(0,r.jsx)(Sp,{optionItem:v,dragging:!0})})]}))}),m.length)]})};const Ip=function(){var e=yp();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)(Cp,{})]})};const kp="displayNode_nodesTag",Ap="displayNode_edit";var Pp=function(){return Pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pp.apply(this,arguments)};const Tp=function(){var e=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]}(),t=(0,i.useSelector)((function(e){return e.editState.target.type})),n=We(),o=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsx)("div",Pp({className:kp},{children:"Display"})),(0,r.jsx)("div",Pp({className:Ap},{children:(0,r.jsx)(Zo,{height:"9rem",value:e.structure.text[n].content.list.list,handleHtml:function(r){e.structure.text[n].content.list.list=r,o("intervieweeNodes"===t?c.WA(e):c.Vb(e))}})}))]})};const Mp="exitNode_displayText",Ep="exitNode_edit",Dp="exitNode_exitContainer",Bp="exitNode_exit",Fp="exitNode_exitStatus",Wp="select_selector",Lp="select_selector__select",qp="select_dropDown",zp="select_placeholder",Vp="select_list",Jp="select_item",Rp="select_item__select",Gp="select_searchInput",Hp="select_searchInput_input",Qp="select_searchInput__select",Yp="select_loading";var Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Up.apply(this,arguments)},Zp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Xp=function(e){var t,n,i,a=e.width,s=void 0===a?"52rem":a,c=e.height,u=void 0===c?"4rem":c,p=e.placeholder,f=e.value,h=e.showSearch,m=void 0!==h&&h,v=e.listWidth,x=void 0===v?s:v,g=e.labels,y=e.loading,j=e.styles,b=e.handleChange,N=Zp((0,o.useState)(!1),2),S=N[0],_=N[1],O=Zp((0,o.useState)(""),2),w=O[0],C=O[1],I=Zp((0,o.useState)(!1),2),k=I[0],A=I[1];(0,o.useEffect)((function(){f&&f!==w&&C(f)}),[f]);var P=!!w,T=function(){if(w.trim()){var e=g.find((function(e){return e.id===w}));return e?(0,r.jsxs)(r.Fragment,{children:[e.pre,e.content]}):void 0}};return(0,r.jsx)(l.Sd,Up({root:(0,r.jsx)("div",Up({style:Up(Up({},j),{width:s})},{children:m?(0,r.jsx)("div",Up({className:Gp,onFocus:function(){return _(!0)}},{children:(0,r.jsx)("input",{type:"text",value:w,placeholder:p,className:d((i={},i[Hp]=!0,i[Qp]=S,i)),onChange:function(e){var t=e.currentTarget.value;C(t),A(!0),b&&b(t)},onFocus:function(e){A(!0);var t=e.currentTarget.value;b&&b(t)},onBlur:function(){A(!1)}})})):(0,r.jsxs)("div",Up({className:d((t={},t[Wp]=!0,t[Lp]=S,t)),style:{height:u},onClick:function(){_(!S)}},{children:[(0,r.jsx)("div",Up({className:d((n={},n[zp]=!P,n))},{children:P&&T()?T():p})),(0,r.jsx)(l.JO,{type:"dropdown",className:qp,style:{transform:"rotate(".concat(S?180:0,"deg)")}})]}))})),show:S,placement:"lb",direction:"vertical",offset:{y:2},handleGlobalClick:function(e){e.isBtn||k||_(!1)}},{children:(0,r.jsx)("div",Up({className:Vp,style:{width:x}},{children:(0,r.jsx)(l.lg,Up({defaultScrollTop:0,height:"auto",width:"auto",style:{maxHeight:"29rem"}},{children:y?(0,r.jsx)("div",Up({className:Yp},{children:"Loading"})):(0,r.jsxs)(r.Fragment,{children:[g.map((function(e,t){var n;return(0,r.jsx)("div",Up({className:d((n={},n[Jp]=!0,n[Rp]=w===e.id,n)),onClick:function(){m?"string"==typeof e.content&&C(e.content):C(e.id),b&&b(e.id)}},{children:e.content}),t)})),0===g.length&&(0,r.jsx)("div",Up({className:Yp},{children:"No data"}))]})}))}))}))};var Kp=function(){return Kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kp.apply(this,arguments)};const $p=function(){var e=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.editState.target.type}));return Le(t)[e]}(),t=(0,i.useSelector)((function(e){return e.editState.target.type})),n=(0,B.$G)().t,o=We(),a=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(di,{icon:(0,r.jsx)(Qc,{node:e}),code:e.structure.code}),(0,r.jsx)(ri,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Kp({className:Mp},{children:(0,r.jsx)("span",{children:n("nodes.exitNode.displayText")})})),(0,r.jsx)("div",Kp({className:Ep},{children:(0,r.jsx)(Zo,{value:e.structure.text[o].content.list.list,handleHtml:function(n){e.structure.text[o].content.list.list=n,a("intervieweeNodes"===t?c.WA(e):c.Vb(e))}})}))]}),(0,r.jsxs)("div",Kp({className:Dp},{children:[(0,r.jsx)("div",Kp({className:Bp},{children:n("nodes.exitNode.exit")})),(0,r.jsx)("div",Kp({className:Fp},{children:(0,r.jsx)(Xp,{placeholder:"please select...",width:"15.8rem",height:"2.5rem",styles:{marginTop:"0.8rem"},value:e.structure.setStatus,labels:[{id:"Screened Out",content:n("nodes.exitNode.screenedOut")},{id:"Quota Full",content:n("nodes.exitNode.quotaFull")},{id:"Complete",content:n("nodes.exitNode.complete")}],handleChange:function(n){e.structure.setStatus=n.toString(),a("intervieweeNodes"===t?c.WA(e):c.Vb(e))}})}))]}))]})};var ef=function(){return ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ef.apply(this,arguments)},tf={tagName:"Edit",iconName:"edit"},nf={tagName:"Form",iconName:"form"},rf={tagName:"Relation",iconName:"openEnd"},of={tagName:"Comment",iconName:"comment"},af={tagName:"Groups",iconName:"icon_group"},sf={QuestionNode:[ef(ef({},tf),{children:(0,r.jsx)(Kc,{})}),ef(ef({},nf),{children:(0,r.jsx)(cl,{})}),ef(ef({},rf),{children:(0,r.jsx)(dd,{})}),ef(ef({},of),{children:(0,r.jsx)($l,{})}),ef(ef({},af),{children:(0,r.jsx)(Kl,{})})],BlockNode:[ef(ef({},tf),{children:(0,r.jsx)(Zd,{})})],LoopNode:[ef(ef({},tf),{children:(0,r.jsx)(wu,{})}),ef(ef({},of),{children:(0,r.jsx)($l,{})})],ExecutionNode:[ef(ef({},tf),{children:(0,r.jsx)(op,{})})],MarkNode:[ef(ef({},tf),{children:(0,r.jsx)(gp,{})})],QuotaNode:[ef(ef({},tf),{children:(0,r.jsx)(Ip,{})})],DisplayNode:[ef(ef({},tf),{children:(0,r.jsx)(Tp,{})}),ef(ef({},rf),{children:(0,r.jsx)(dd,{})}),ef(ef({},of),{children:(0,r.jsx)($l,{})})],ExitNode:[ef(ef({},tf),{children:(0,r.jsx)($p,{})}),ef(ef({},rf),{children:(0,r.jsx)(dd,{})}),ef(ef({},of),{children:(0,r.jsx)($l,{})})]},cf=function(){return cf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cf.apply(this,arguments)};const lf=function(){var e=(0,i.useSelector)((function(e){return e.editState.target})),t=e.id,n=e.type,o=Le(n);return(0,r.jsx)("div",cf({className:hr.content_container},{children:(0,r.jsx)(D,{tags:sf[o[t].kind]},t)}))},df="reusableItem_container",uf="reusableItem_dragging",pf="reusableItem_isDragging",ff="reusableItem_button";var hf=function(){return hf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hf.apply(this,arguments)};const mf=function(e){var t,n=e.optionItem,o=e.codes,i=e.dragging,a=void 0!==i&&i,s=e.handleAddAnOption,c=e.handleDeleteOption,l=e.handleModifyContent,u=e.handleModifyCode,p=We(),f=(0,Si.useSortable)({id:n.id}),h=f.attributes,m=f.listeners,v=f.setNodeRef,x=f.transform,g=f.transition,y=f.isDragging,j=f.setActivatorNodeRef,b=n.data.code,N={transform:Mi.CSS.Transform.toString(x),transition:g};return(0,r.jsxs)("div",hf({className:d((t={},t[df]=!0,t[uf]=a,t[pf]=y,t)),ref:v,style:N},{children:[(0,r.jsxs)("div",hf({className:ff},{children:[(0,r.jsx)("div",hf({onClick:s},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.r8p})})),(0,r.jsx)("div",hf({},h,m,{ref:j},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.g$q})})),(0,r.jsx)("div",hf({onClick:c},{children:(0,r.jsx)(Yi.FontAwesomeIcon,{icon:Ui.Kl4})}))]})),(0,r.jsx)(Vi,{defaultCode:b,handleChangeCode:function(e){var t=e.currentTarget.value.trim();t&&!o.includes(t)?u&&u(t):e.currentTarget.value=b}}),(0,r.jsx)(Zo,{isScript:!1,value:n.data.text[p].content.list.list,handleHtml:function(e){return l&&l(e)}},p)]}))},vf="reusableEdit_contentContainer",xf="reusableEdit_titleContainer",gf="reusableEdit_textContainer",yf="reusableEdit_hint";var jf=function(){return jf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jf.apply(this,arguments)},bf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Nf=function(){var e=bf((0,o.useState)(null),2),t=e[0],n=e[1],a=(0,i.useSelector)((function(e){return e.editState.target.id})),s=(0,i.useSelector)((function(e){return e.reusableState.reusable})),c=(0,B.$G)().t,d=(0,i.useDispatch)(),u=We(),p=qd(),f=s[a],h=f.data.list,m=h.find((function(e){return e.id===t}));var v=function(e){void 0===e&&(e=-1);var t=Nu(f.data.list,p);-1===e?f.data.list.push(t):f.data.list.splice(e+1,0,t),d(Hs.VE(f))};return(0,r.jsxs)("div",jf({className:vf},{children:[(0,r.jsxs)("div",jf({className:xf},{children:[(0,r.jsx)("div",{children:(0,r.jsx)(l.JO,{icon:Wi})}),(0,r.jsx)("input",{defaultValue:f.name,onBlur:function(e){var t=e.currentTarget.value;f.name=t,d(Hs.VE(f))}})]})),(0,r.jsxs)("div",jf({className:gf},{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{children:[c("nodes.reusableListNode.instruction")," "]}),(0,r.jsx)(l.J2,jf({className:yf,root:(0,r.jsx)(l.JO,{type:"query"})},{children:"You can describe something about programming. And it is text editor, howerver user should not be able to add script in it."}))]}),(0,r.jsx)(Zo,{isScript:!1,value:f.data.editor.instruction.data.html,placeholder:"请在此处输入节点说明...",handleHtml:function(e){var t=e.map((function(e){return e.data.html})).join("");f.data.editor.instruction.data.html=t,d(Hs.VE(f))}})]})),0===h.length&&(0,r.jsx)(Da,{content:c("nodes.reusableListNode.button.add"),handleAdd:function(){return v()}}),(0,r.jsx)(Ni.DndContext,jf({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=h.findIndex((function(e){return e.id===t.id})),o=h.findIndex((function(e){return e.id===n.id})),i=(0,Si.arrayMove)(h,r,o);f.data.list=i,d(Hs.VE(f))}},onDragStart:function(e){var t=e.active;t&&n(t.id)}},{children:(0,r.jsxs)(Si.SortableContext,jf({items:h,strategy:Si.verticalListSortingStrategy},{children:[h.map((function(e,t){return(0,r.jsx)(mf,{codes:[],optionItem:e,handleModifyCode:function(e){return function(e,t){h[t].data.code=e,d(Hs.VE(f))}(e,t)},handleModifyContent:function(e){return function(e,t){f.data.list[t].data.text[u].content.list.list=e,d(Hs.VE(f))}(e,t)},handleAddAnOption:function(){return v(t)},handleDeleteOption:function(){return function(e){f.data.list.splice(e,1),d(Hs.VE(f))}(t)}},e.id)})),(0,r.jsx)(Ni.DragOverlay,{children:m&&(0,r.jsx)(mf,{codes:[],optionItem:m,dragging:!0})})]}))}),h.length)]}))};const Sf=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=[{tagName:"Edit",iconName:"edit",children:(0,r.jsx)(Nf,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:t},e)})},_f="content_container";var Of=function(){return Of=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Of.apply(this,arguments)};const wf=function(){var e=(0,i.useSelector)((function(e){return e.editState.target})),t=e.type,n=e.id;return(0,r.jsxs)("div",Of({className:_f},{children:["intervieweeNodes"===t&&!!n&&(0,r.jsx)(lf,{}),"interviewerNodes"===t&&!!n&&(0,r.jsx)(lf,{}),"builtInScript"===t&&!!n&&(0,r.jsx)(gn,{}),"customScript"===t&&!!n&&(0,r.jsx)(fr,{}),"reusable"===t&&!!n&&(0,r.jsx)(Sf,{})]}))};var Cf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},If=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},kf=function(e){return e.structure.content.content.options.map((function(e){var t=[];return e.map((function(e){(0,ze.I5)(e)?t.push(e):t.push.apply(t,If([],Cf(e.list),!1))})),t.map((function(e){return{id:e.id,code:e.data.code}}))}))};const Af="multiDropDown2_container",Pf="multiDropDown2_dropDown",Tf="multiDropDown2_container__show",Mf="multiDropDown2_list",Ef="multiDropDown2_placeholder",Df="multiDropDown2_item",Bf="multiDropDown2_item__select";var Ff=function(){return Ff=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ff.apply(this,arguments)},Wf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Lf=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const qf=function(e){var t,n,i=e.mode,a=void 0===i?"single":i,s=e.isSingle,c=void 0!==s&&s,u=e.minWidth,p=void 0===u?"5rem":u,f=e.height,h=void 0===f?"2.6rem":f,m=e.placeholder,v=void 0===m?"":m,x=e.borderColor,g=void 0===x?"#bdbdbd":x,y=e.floatingMinWidth,j=void 0===y?"14.1rem":y,b=e.handleChangeOption,N=e.labels,S=e.value,_=Wf((0,o.useState)(!1),2),O=_[0],w=_[1],C=(0,B.$G)().t,I=Array.isArray(S)?S:[S],k=N.map((function(e){return e.id?e:{id:e,content:e}})),A=(n=[],I.map((function(e){var t=k.find((function(t){return t.id===e}));t&&n.push(t.content)})),n.join(","));return(0,r.jsx)(l.Sd,Ff({show:O,root:(0,r.jsxs)("div",Ff({onClick:function(){return w(!O)},className:d((t={},t[Af]=!0,t[Tf]=O,t)),style:{minWidth:p,height:h,borderColor:g}},{children:[A?(0,r.jsx)("span",{children:"No options here"===A?C("logic.noSelect"):A}):(0,r.jsx)("span",Ff({className:Ef},{children:v})),(0,r.jsx)("span",Ff({className:Pf},{children:(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(O?180:0,"deg)")}})}))]})),direction:"vertical",placement:"lb",handleGlobalClick:function(e){e.isBtn||e.isMenu||w(!1)}},{children:(0,r.jsx)("div",Ff({className:Mf},{children:(0,r.jsx)(l.lg,Ff({defaultScrollTop:0,height:"auto",width:"auto",style:{maxHeight:"20rem"}},{children:k.map((function(e){var t;return(0,r.jsxs)("div",Ff({className:d((t={},t[Df]=!0,t[Bf]=I.includes(e.id),t)),style:{minWidth:j},onClick:function(){return function(e){if("single"===a)return b(c?[e]:e),void w(!1);var t=Array.isArray(S)?Lf([],Wf(S),!1):[];t.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),b(Lf([],Wf(t),!1))}(e.id)}},{children:["single"===a&&e.content,"multiple"===a&&(0,r.jsx)(l.Jr,Ff({checked:I.includes(e.id)},{children:e.content}))]}),e.id)}))}))}))}))},zf="logicItem_container",Vf="logicItem_firstContainer",Jf="logicItem_text",Rf="logicItem_icon_down",Gf="logicItem_delete";var Hf=function(){return Hf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hf.apply(this,arguments)};const Qf=function(){var e=(0,B.$G)(),t=e.t;e.i18n;return(0,r.jsx)("div",Hf({className:zf},{children:(0,r.jsxs)("div",Hf({className:Vf},{children:[(0,r.jsx)("span",Hf({className:Rf},{children:(0,r.jsx)(l.JO,{type:"down",style:{transform:"rotate(0deg)"}})})),(0,r.jsx)("span",Hf({className:Jf},{children:t("logic.this")})),(0,r.jsx)("span",{children:"Exit Node"}),(0,r.jsx)("span",Hf({className:Jf},{children:t("logic.will")})),(0,r.jsx)(qf,{value:"",minWidth:"9rem",floatingMinWidth:"10rem",labels:[{id:"display",content:t("logic.display")},{id:"not display",content:t("logic.notDisplay")}],handleChangeOption:function(){}}),(0,r.jsx)("span",Hf({className:Jf},{children:t("logic.if")})),(0,r.jsx)(l.JO,{type:"error",className:Gf})]}))}))},Yf={logic_container:"logic_container",logic_addBtnContainer__top:"logic_addBtnContainer__top",logic_addBtnContainer__center:"logic_addBtnContainer__center",logic_addBtn:"logic_addBtn",logic_condition_list:"logic_condition_list"};var Uf=function(){return Uf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Uf.apply(this,arguments)},Zf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Xf=function(){!function(){var e=(0,i.useSelector)((function(e){return e.nodesState.interviewerNodes.orders.nodeOrder})),t=(0,i.useSelector)((function(e){return e.nodesState.interviewerNodes.nodes})),n=[];for(var r in e){var o=t[r];if((0,ze.hr)(o)){for(var a=e[r],s=a.id,c=a.kind,l=a.code,d=a.parent,u=kf(o),p=[],f=d;f&&"LoopNode"===e[f].kind;)p.push(f),f=e[f].parent;n.push({id:s,type:c,code:l,options:u,loopNodesId:p})}}}();var e=Xo(),t=Zf((0,o.useState)(""),2),n=(t[0],t[1],(0,B.$G)()),a=n.t;n.i18n;(0,o.useEffect)((function(){var t;0===[].length&&(t=e,(0,ze.hr)(t)&&function(e){e.structure.condition,e.structure.content.content.optionsDisplay}(t),(0,ze.u2)(t),(0,ze.jp)(t),(0,ze.bu)(t))}),[]);return(0,r.jsxs)("div",Uf({className:Yf.logic_container},{children:[(0,r.jsx)("div",Uf({className:Yf["logic_addBtnContainer__".concat("top")]},{children:(0,r.jsxs)("div",Uf({className:Yf.logic_addBtn},{children:[(0,r.jsx)(l.JO,{type:"plus"}),(0,r.jsx)("span",{children:a("logic.add")})]}))})),(0,r.jsx)("div",Uf({className:Yf.logic_condition_list},{children:(0,r.jsx)(Qf,{})}))]}))},Kf="main_container",$f="steps_container",eh="steps_content",th="steps_item",nh="steps_item__select",rh="steps_item__disable",oh="steps_dots",ih="steps_dot";var ah=function(){return ah=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ah.apply(this,arguments)};const sh=function(e){var t=e.step,n=e.items,i=e.handChangeStep,a=function(){return(0,r.jsxs)("div",ah({className:oh},{children:[(0,r.jsx)("div",{className:ih}),(0,r.jsx)("div",{className:ih}),(0,r.jsx)("div",{className:ih}),(0,r.jsx)("div",{className:ih}),(0,r.jsx)("div",{className:ih})]}))};return(0,r.jsx)("div",ah({className:$f},{children:(0,r.jsx)("div",ah({className:eh,style:{height:"6rem"}},{children:n.map((function(e,s){var c;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Cn,ah({show:!!e.disable,maxHeight:"5rem",minWidth:"2rem",maxWidth:206,offsetY:-15,placement:"lb",textAlign:"left",content:(0,r.jsx)(l.QP,ah({fonts:{CN:"cLabel1",EN:"label"}},{children:e.disableText})),showTriangle:!1},{children:(0,r.jsx)("div",ah({className:d((c={},c[th]=!0,c[nh]=s+1===t,c[rh]=!!e.disable,c)),style:{height:"6rem"},onClick:function(){e.disable||i(s+1)}},{children:(0,r.jsx)(l.QP,ah({fonts:{CN:"cH6",EN:"subtitle2"}},{children:e.title}))}))})),n.length>s+1&&(0,r.jsx)(a,{})]},s)}))}))}))};var ch=function(){return ch=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ch.apply(this,arguments)};const lh=function(){var e=(0,i.useSelector)((function(e){return e.editState.step})),t=(0,i.useSelector)((function(e){return e.editState.target})),n=t.type,o=t.id,a=Le(n),s=(0,i.useDispatch)(),c=(0,B.$G)("",{keyPrefix:"pages.editPage.step"}).t;return(0,r.jsxs)("div",ch({className:Kf},{children:[(0,r.jsx)(sh,{step:e,items:[{title:c("content")},{title:c("logic")},{title:c("appearance")}],handChangeStep:function(e){e===S.g.CONTENT&&s(jd(S.g.CONTENT)),e===S.g.LOGIC&&("intervieweeNodes"!==n&&"interviewerNodes"!==n||"QuestionNode"!==a[o].kind||s(jd(S.g.LOGIC))),e===S.g.APPEARANCE&&("intervieweeNodes"!==n&&"interviewerNodes"!==n||"QuestionNode"!==a[o].kind||s(jd(S.g.APPEARANCE)))}}),e===S.g.CONTENT&&(0,r.jsx)(wf,{}),e===S.g.LOGIC&&(0,r.jsx)(Xf,{}),e===S.g.APPEARANCE&&(0,r.jsx)(on,{})]}))},dh="toggleAutoSaving_container",uh="toggleAutoSaving_warning";var ph=n(851),fh=function(){return fh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fh.apply(this,arguments)};const hh=function(e){var t=e.status,n=e.setStatus,o=(0,i.useSelector)((function(e){return e.surveyInfoState.autoSaveTime})),a=(0,i.useDispatch)(),s=(0,B.$G)("",{keyPrefix:"components.alertWindow.setAutoSave"}),c=s.t,d=s.i18n;return(0,r.jsx)(es,fh({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",fh({className:dh},{children:[(0,r.jsxs)(es.ModalTitle,{children:[(0,r.jsx)(l.JO,{type:"warning",className:uh}),(0,r.jsx)("span",{children:c(o.status?"closeTitle":"openTitle")})]}),(0,r.jsx)(es.ModalDescription,fh({marginTop:"cn"===d.language?"1rem":"1.2rem",marginLeft:"3.2rem",color:"neutral_400",CN:"cBody3"},{children:c(o.status?"closeHint":"openHint")})),(0,r.jsx)(es.ModalButtons,{width:{cn:"6rem",en:"8.3rem"},confirmText:c("button.confirm"),cancelText:c("button.cancel"),handleCancel:function(){return n(!1)},handleConfirm:function(){o.status?a(ph.KR()):a(ph.Ay({})),n(!1)}})]}))}))},mh="footer_container",vh="footer_name",xh="footer_version",gh="footer_modify",yh="footer_saving",jh="footer_autoSaving",bh="footer_saving_selected",Nh="footer_lan";var Sh=function(){return Sh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sh.apply(this,arguments)},_h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Oh=function(){var e,t,n=_h((0,o.useState)(!1),2),a=n[0],s=n[1],c=_h((0,o.useState)(!1),2),u=c[0],p=c[1],f=(0,i.useSelector)((function(e){return e.surveyInfoState})),h=f.baseInfo,m=f.autoSaveTime,v=(0,B.$G)("",{keyPrefix:"footer"}),x=v.t,g=v.i18n;return(0,r.jsxs)("div",Sh({className:mh},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(Cn,Sh({maxHeight:"6.8rem",maxWidth:200,offsetY:-5,textAlign:"center",content:x("questionnaireName")},{children:(0,r.jsx)("div",Sh({className:vh},{children:h.survey_name}))})),(0,r.jsx)(Cn,Sh({maxHeight:"6.8rem",maxWidth:85,offsetY:-5,textAlign:"center",content:x("version")},{children:(0,r.jsx)("div",Sh({className:xh},{children:(0,r.jsx)("div",{children:"V2"})}))})),(0,r.jsx)(Cn,Sh({maxHeight:"6.8rem",maxWidth:131,offsetY:-5,textAlign:"center",content:x("savedTime")},{children:(0,r.jsx)("div",Sh({className:gh},{children:"Last Saved 2022-09-22 12:14:20"}))}))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(Cn,Sh({maxHeight:"6.8rem",maxWidth:170,offsetY:-5,textAlign:"center",content:x("autoSaveTime")},{children:(0,r.jsx)("div",Sh({className:d((e={},e[yh]=!0,e[bh]=a,e)),onClick:function(){return s(!0)}},{children:m.status?(0,r.jsxs)("div",Sh({className:jh},{children:[(0,r.jsx)(l.JO,{type:"time",fontSize:"1.5rem"}),(0,r.jsxs)("span",{children:[m.time," min"]})]})):(0,r.jsx)("span",{children:"Auto Saving Off"})}))})),(0,r.jsx)(Cn,Sh({show:!u,maxHeight:"6.8rem",maxWidth:120,offsetY:-5,textAlign:"center",content:x("switchLan")},{children:(0,r.jsx)("div",Sh({className:d((t={},t[Nh]=!0,t[bh]=u,t)),onClick:function(){return p(!u)},tabIndex:-1,onBlur:function(){return p(!1)}},{children:(0,r.jsx)("span",{children:"LANG"})}))}),g.language)]}),(0,r.jsx)(hh,{status:a,setStatus:s})]}))};var wh="";["zh-HK","zh-TW","zh-CN"].includes(navigator.language);const Ch=function(){(0,B.$G)().i18n;return(0,r.jsx)(l.vx,{handleSignOutClick:function(){var e;window.localStorage.removeItem(null!==(e={NODE_ENV:"production",BASENAME:"/"}.JWT)&&void 0!==e?e:"jwt"),window.location.replace(wh)}})},Ih="navigation_container",kh="navigation_leftContainer",Ah="navigation_headerItem",Ph="navigation_headerItem__select",Th="navigation_headerRight",Mh="navigation_headerFile",Eh="menuFile_container",Dh="menuFile_file_item",Bh="menuFile_content",Fh="autoSaveSettingModal_container",Wh="autoSaveSettingModal_title",Lh="autoSaveSettingModal_title_title",qh="autoSaveSettingModal_info",zh="autoSaveSettingModal_countContainer",Vh="autoSaveSettingModal_info_left",Jh="autoSaveSettingModal_info_min",Rh="autoSaveSettingModal_countInfo",Gh="autoSaveSettingModal_buttons";var Hh=function(){return Hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hh.apply(this,arguments)},Qh=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Yh=function(e){var t=e.status,n=e.setStatus,a=Qh((0,o.useState)(2),2),s=a[0],c=a[1],d=(0,i.useSelector)((function(e){return e.surveyInfoState.autoSaveTime})),u=(0,B.$G)("",{keyPrefix:"pages.editPage.header.file.saveConfiguration"}).t,p=(0,i.useDispatch)();(0,o.useEffect)((function(){t&&c(d.time)}),[t]);return(0,r.jsx)(es,Hh({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Hh({className:Fh},{children:[(0,r.jsxs)("div",Hh({className:Wh},{children:[(0,r.jsx)(l.QP,Hh({className:Lh,fonts:{CN:"cH4",EN:"h2"}},{children:u("autoSave")})),(0,r.jsx)(l.QP,Hh({className:qh,fonts:{CN:"cBody3",EN:"body2"}},{children:u("autoSaveSetting.title")}))]})),(0,r.jsxs)(l.QP,Hh({fonts:{CN:"cBody3",EN:"body2"},className:zh},{children:[(0,r.jsx)("span",Hh({className:Vh},{children:u("autoSaveSetting.autoSaveTime")})),(0,r.jsx)(l.Od,{min:2,max:30,width:"11.3rem",height:"4rem",defaultValue:s,handleValueOnChange:function(e){c(e)}},s),(0,r.jsx)("span",Hh({className:Jh},{children:u("autoSaveSetting.min")})),(0,r.jsxs)("span",Hh({className:Rh},{children:["( ",u("autoSaveSetting.hint")," )"]}))]})),(0,r.jsxs)("div",Hh({className:Gh},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:u("autoSaveSetting.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{height:"3.2rem",label:u("autoSaveSetting.save"),size:"normal",type:"primary",width:"9.5rem",onClick:function(){p(ph.Ay({time:s})),n(!1)}})]}))]}))}))},Uh=function(e){var t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Zh=n(136),Xh=n.n(Zh),Kh=n(137),$h=n.n(Kh),em=function(e,t){var n=(void 0===t?{}:t).tab,r=void 0===n?4:n;return Xh().format(e,{parser:"json5",plugins:[$h()],quoteProps:"preserve",trailingComma:"none",tabWidth:r,printWidth:1})},tm=function(){return tm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tm.apply(this,arguments)},nm=function(){var e=(0,i.useSelector)((function(e){return e.surveyInfoState.baseInfo})),t=(0,i.useSelector)((function(e){return e.nodesState.interviewerNodes})),n=t.nodes,r=t.orders,o=(0,i.useSelector)((function(e){return e.lanState})),a=o.lan,s=o.defaultLan,c=(0,i.useSelector)((function(e){return e.reusableState.reusable})).reusable,l=(0,i.useSelector)((function(e){return e.scriptState})),d=l.builtInScripts,u=l.customScripts,p=(0,i.useSelector)((function(e){return e.appearanceState.pluginList})),f=function(e){var t=r.nodeOrder;return e.map((function(e){var r=n[e],o=t[e].children;return(0,ze.DE)(r)&&(r.structure.content.content.list=[]),o&&o.length>0&&(0,ze.DE)(r)&&(r.structure.content.content.list=f(o)),r}))};return function(){var t=r.rootOrder,o=r.nodeOrder,i=t.map((function(e){var t=n[e],r=o[e].children;return(0,ze.DE)(t)&&(t.structure.content.content.list=[]),r&&r.length>0&&(0,ze.DE)(t)&&(t.structure.content.content.list=f(r)),t})),l={},h={};Object.keys(u.idMap).forEach((function(e){l[e]={data:u.data[u.idMap[e]],name:u.idMap[e]}})),Object.keys(d.idMap).forEach((function(e){h[e]={data:d.data[d.idMap[e]],name:d.idMap[e]}}));var m={lan:a,defaultLan:s,optionLists:c,scripts:l,builtin_scripts:h,pluginInfo:p};return tm(tm({},e),{list:i,metat:m})}};const rm="surveyConfigModal_container",om="surveyConfigModal_previewContainer",im="surveyConfigModal_buttonContainer";var am=function(){return am=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},am.apply(this,arguments)},sm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},cm=function(e){var t=e.status,n=e.setStatus,i=sm((0,o.useState)(""),2),a=i[0],s=i[1],c=nm(),d=(0,B.$G)().t;(0,o.useEffect)((function(){t&&s(em(JSON.stringify(c())))}),[t]);return(0,r.jsx)(es,am({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",am({className:rm},{children:[(0,r.jsx)("span",{children:d("components.alertWindow.exportFile.title")}),(0,r.jsx)("div",am({className:om},{children:(0,r.jsx)(l.lg,am({defaultScrollTop:0,height:"32.8rem",width:"55rem"},{children:(0,r.jsx)("div",am({style:{whiteSpace:"pre"}},{children:a}))}))})),(0,r.jsxs)("div",am({className:im},{children:[(0,r.jsx)(l.zx,{label:d("components.alertWindow.exportFile.button.cancel"),type:"secondary",size:"big",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{width:"14.5rem",height:"3.2rem",size:"small",type:"primary",label:d("components.alertWindow.exportFile.button.copy"),onClick:function(){Uh(a),l.yw.right({type:"success",content:"copy success"})}})]}))]}))}))};const lm="nodeConfigModal_container",dm="nodeConfigModal_previewContainer",um="nodeConfigModal_buttonContainer";var pm=function(){return pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pm.apply(this,arguments)},fm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hm=function(e){var t=e.status,n=e.setStatus,i=Xo(),a=fm((0,o.useState)(""),2),s=a[0],c=a[1],d=(0,B.$G)().t;(0,o.useEffect)((function(){t&&c(em(JSON.stringify(i)))}),[t]);return(0,r.jsx)(es,pm({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",pm({className:lm},{children:[(0,r.jsx)("span",{children:d("components.alertWindow.questionPreview.title")}),(0,r.jsx)("div",pm({className:dm},{children:(0,r.jsx)(l.lg,pm({defaultScrollTop:0,height:"32.8rem",width:"55rem"},{children:(0,r.jsx)("div",pm({style:{whiteSpace:"pre"}},{children:s}))}))})),(0,r.jsxs)("div",pm({className:um},{children:[(0,r.jsx)(l.zx,{label:d("components.alertWindow.exportFile.button.cancel"),type:"secondary",size:"big",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{width:"14.5rem",height:"3.2rem",size:"small",type:"primary",label:d("components.alertWindow.exportFile.button.copy"),onClick:function(){Uh(s),l.yw.right({type:"success",content:"copy success"})}})]}))]}))}))};const mm="publishCurrent_container",vm="publishCurrent_header",xm="publishCurrent_info",gm="publishCurrent_version",ym="publishCurrent_time",jm="publishCurrent_description",bm="publishCurrent_errorMsg",Nm="publishCurrent_btns";var Sm=function(){return Sm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sm.apply(this,arguments)},_m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Om=function(e){var t,n,a,s,c,d,u,p=e.status,f=e.setStatus,h=_m((0,o.useState)(""),2),m=h[0],v=h[1],x=_m((0,o.useState)(!1),2),g=x[0],y=x[1],j=((0,i.useDispatch)(),(0,B.$G)("",{keyPrefix:"components.alertWindow.publishQuestion"}).t);return(0,r.jsx)(es,Sm({status:p,changeStatus:function(){return f(!1)}},{children:(0,r.jsxs)("div",Sm({className:mm},{children:[(0,r.jsxs)("div",Sm({className:vm},{children:[(0,r.jsx)("h2",{children:j("title")}),(0,r.jsx)("span",{children:j("hint")})]})),(0,r.jsxs)("div",Sm({className:xm},{children:[(0,r.jsxs)("div",Sm({className:gm},{children:[(0,r.jsxs)("span",{children:[j("version"),": "]}),(0,r.jsx)("span",{children:"V1"})]})),(0,r.jsxs)("div",Sm({className:ym},{children:[(0,r.jsxs)("span",{children:[j("time"),":"]}),(0,r.jsx)("span",{children:(t=function(e){return e<=9?"0".concat(e):e},n=new Date,a=n.getFullYear(),s=t(n.getMonth()+1),c=t(n.getDate()),d=t(n.getHours()),u=t(n.getMinutes()),"".concat(a,"-").concat(s,"-").concat(c," ").concat(d,":").concat(u))})]}),"description_".concat(p.toString())),(0,r.jsxs)("div",Sm({className:jm},{children:[(0,r.jsxs)("div",{children:[j("description")," ",(0,r.jsx)("span",{children:"*"})," :"]}),(0,r.jsx)("div",Sm({onClick:function(){return e=!1,t=document.querySelector(".textArea_textarea"),void(e?(t.style.borderColor="#B00020",t.value="",l.Iv.error({title:"Action failed",description:"Format does not conform to specifications",duration:3e3,showIcon:!0})):(t.style.borderColor="#BDBDBD",y(!1)));var e,t}},{children:(0,r.jsx)(l.Kx,{border:!0,height:"12rem",placeholder:j("inputHint"),width:"100%",handleInputOnChange:function(e){return v(e)}})})),(0,r.jsx)("div",Sm({style:{display:g?"block":"none"},className:bm},{children:"Required item"}))]}))]})),(0,r.jsxs)("div",Sm({className:Nm},{children:[(0,r.jsx)(l.zx,{height:"2.8rem",label:j("button.cancel"),size:"big",type:"secondary",onClick:function(){f(!1),y(!1),v("")}}),(0,r.jsx)(l.zx,{height:"2.8rem",label:j("button.publish"),disabled:!m.trim(),size:"normal",type:"primary",width:"7.7rem",onClick:function(){}})]}))]}))}))},wm=function(){return wm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wm.apply(this,arguments)},Cm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Im=function(){var e=Cm((0,o.useState)(!1),2),t=e[0],n=e[1],a=Cm((0,o.useState)(!1),2),s=a[0],c=a[1],d=Cm((0,o.useState)(!1),2),u=d[0],p=d[1],f=Cm((0,o.useState)(!1),2),h=f[0],m=f[1],v=(0,i.useSelector)((function(e){return e.editState.target.type})),x=nm(),g=(0,B.$G)("",{keyPrefix:"pages.editPage.header.file"}).t,y=function(e,t){return(0,r.jsxs)("div",wm({className:Dh},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:e})}),(0,r.jsx)("span",{children:t})]}))};return(0,r.jsxs)("div",wm({className:Eh},{children:[(0,r.jsx)(aa,{list:{item:[{content:y("save",g("save")),children:{item:[{content:g("saveConfiguration.saveNow"),handleClick:function(){}},{content:g("saveConfiguration.autoSave"),handleClick:function(){n(!0)}}],width:"15rem",y:"-1rem"}},{content:y("check",g("checkSurveyConfiguration")),handleClick:function(){c(!0)}},{content:y("clipboardCheck",g("checkIndividualConfiguration")),handleClick:function(){"intervieweeNodes"===v||"interviewerNodes"===v?p(!0):l.Iv.warning({title:"Node unselected.",description:"Please select a node first before checking individual node configuration."})}},{content:y("send",g("publish")),handleClick:function(){m(!0)}},{content:y("exportIcon",g("export")),handleClick:function(){var e="config_".concat((new Date).getTime(),".json");!function(e,t){var n=new Blob([e],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.setAttribute("download",decodeURI(t)),o.click(),window.URL.revokeObjectURL(r)}(em(JSON.stringify(x())),e)}}],width:"30.08rem",customizeClass:Bh}}),(0,r.jsxs)("div",wm({onMouseDown:function(e){return e.stopPropagation()}},{children:[(0,r.jsx)(Yh,{status:t,setStatus:n}),(0,r.jsx)(cm,{status:s,setStatus:c}),(0,r.jsx)(hm,{status:u,setStatus:p}),(0,r.jsx)(Om,{status:h,setStatus:m})]}))]}))},km="menuEdit_content",Am="menuEdit_edit",Pm="menuEdit_editSecondItem",Tm="menuEdit_editSecondContainer_default",Mm="menuEdit_editSecondContainer_select",Em="menuEdit_editSecondItem__selected";var Dm=n(848),Bm=function(){return Bm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bm.apply(this,arguments)},Fm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Wm=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Lm=function(){var e=(0,i.useDispatch)(),t=(0,B.$G)(),n=t.t,o=t.i18n,a=(0,i.useSelector)((function(e){return e.lanState})),s=a.lan,u=a.editLan,p=a.defaultLan,f=(0,i.useSelector)((function(e){return e.nodesState})),h=f.intervieweeNodes,m=f.interviewerNodes,v=["EN-US","ZH-CN"],x=s.includes("ZH-CN")&&"en"===o.language?"23rem":"15rem",g=function(e){return{"EN-US":n("pages.editPage.header.edit.lan.en"),"ZH-CN":n("pages.editPage.header.edit.lan.cn")}[e]},y=function(e,t){var n=JSON.parse(JSON.stringify(e));return Object.keys(n).forEach((function(e){var r=n[e];(0,ze.hr)(r)&&(r.structure.text[t]=Na(t),r.structure.instruction[t]=Na(t),r.structure.content.content.options.forEach((function(e){e.forEach((function(e){(0,ze.I5)(e)&&(e.data.text[t]=Na(t)),(0,ze.QU)(e)&&e.list.forEach((function(e){e.data.text[t]=Na(t)}))}))}))),(0,ze.u2)(r)&&r.structure.content.content.options.list.forEach((function(e){e.data.text[t]=Na(t)})),(0,ze.ho)(r)&&(r.structure.text[t]=Na(t)),(0,ze.df)(r)&&(r.structure.text[t]=Na(t)),n[e]=r})),n};return(0,r.jsx)("div",{children:(0,r.jsx)(aa,{list:{item:[{content:(0,r.jsxs)("span",Bm({className:Am},{children:[(0,r.jsx)(l.JO,{type:"pen"}),(0,r.jsx)("span",{children:n("pages.editPage.header.edit.editingLanguage")})]})),children:{item:Wm([],Fm(function(){var t=[];s.map((function(o){var i;t.push({content:(0,r.jsxs)("div",Bm({className:d((i={},i[Pm]=!0,i[Em]=o===u,i)),onMouseDown:function(){return e(Dm.UA(o))}},{children:[(0,r.jsx)("span",{children:g(o)}),p===o?(0,r.jsx)("span",Bm({className:Mm},{children:n("pages.editPage.header.edit.default")})):(0,r.jsx)("span",Bm({className:Tm,onMouseDown:function(t){t.stopPropagation(),e(Dm.MW(o))}},{children:n("pages.editPage.header.edit.default")}))]}))})}));var o=v.filter((function(e){return!s.includes(e)})),i=[];return o.map((function(t){i.push({content:g(t),handleClick:function(){s.push("EN-US"),function(t){var n=y(m.nodes,t),r=y(h.nodes,t);e(c.pR(n)),e(c.fm(r))}("EN-US"),e(Dm.HB(s))}})})),0===i.length?t:Wm(Wm([],Fm(t),!1),[{content:n("pages.editPage.header.edit.newLanguage"),children:{item:i,y:"-1rem",width:"15rem"}}],!1)}()),!1),y:"-1rem",width:x}}],width:"19.6rem",customizeClass:km}})})};var qm=function(){return qm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qm.apply(this,arguments)},zm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Vm=function(){var e=(0,B.$G)().t,t=zm((0,o.useState)(""),2),n=t[0],i=t[1],a=zm((0,o.useState)(!1),2),s=a[0],c=a[1];return(0,r.jsxs)("div",qm({className:Ih},{children:[(0,r.jsx)("div",qm({className:kh,tabIndex:-1,onBlur:function(){return i("")}},{children:["file","edit","view","workflow","window","help"].map((function(t){var o;return(0,r.jsxs)("div",qm({className:d((o={},o[Ah]=t!==n,o[Ph]=t===n,o)),onMouseDown:function(){i(n&&n===t?"":t)}},{children:[e("pages.editPage.header.".concat(t,".label")),(0,r.jsxs)("div",qm({className:Mh,style:{display:n===t?"block":"none"}},{children:["file"===t&&(0,r.jsx)(Im,{}),"edit"===t&&(0,r.jsx)(Lm,{})]}))]}),t)}))})),(0,r.jsxs)("div",qm({className:Th},{children:[(0,r.jsx)("div",qm({tabIndex:-1},{children:(0,r.jsx)(Cn,qm({maxHeight:"6.8rem",maxWidth:200,offsetY:-5,textAlign:"center",content:"Task Reporting"},{children:(0,r.jsx)(l.JO,{type:"assign",onClick:function(){return c(!s)}})}))})),(0,r.jsx)("div",{children:(0,r.jsx)(Cn,qm({maxHeight:"6.8rem",maxWidth:200,offsetY:-5,textAlign:"center",content:"Share"},{children:(0,r.jsx)(l.JO,{icon:Li})}))})]}))]}))},Jm={status:!1,setStatus:function(){}},Rm=o.createContext(Jm);const Gm="collapse_panel",Hm="collapse_panel_select",Qm="collapse_content",Ym="collapse_hederContent",Um="collapse_header",Zm="collapse_arrow",Xm="collapse_titleIcon",Km="collapse_LabelAddition";var $m=function(){return $m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$m.apply(this,arguments)},ev=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const tv=function(e){var t,n=e.show,i=void 0===n||n,a=e.header,s=e.isAdd,c=e.children,u=ev((0,o.useState)(!1),2),p=u[0],f=u[1],h=ev((0,o.useState)(!1),2),m=h[0],v=h[1],x=(0,B.$G)().t;return(0,r.jsx)(r.Fragment,{children:i&&(0,r.jsxs)("div",$m({className:d((t={},t[Gm]=!0,t[Hm]=p,t))},{children:[(0,r.jsxs)("div",$m({className:Um,onClick:function(){return f(!p)}},{children:[(0,r.jsx)("span",$m({className:Zm,style:{transform:"rotate(".concat(p?90:0,"deg)")}},{children:(0,r.jsx)(l.JO,{type:"next"})})),(0,r.jsx)("span",$m({className:Xm},{children:(0,r.jsx)(l.JO,{type:{utilities:"qtree",tree:"qtree",interviewer:"Interviewer",interviewee:"Interviewee",inScript:"script1",script:"script1",reusable:"reusableList"}[a]})})),(0,r.jsx)(l.QP,$m({fonts:{CN:"cBody1",EN:"body2"},className:Ym},{children:x("pages.editPage.tagName.".concat(a))})),s&&(0,r.jsx)("span",$m({className:Km,onClick:function(e){e.stopPropagation(),v(!0)}},{children:(0,r.jsx)(l.JO,{type:"plus"})}))]})),(0,r.jsx)(Rm.Provider,$m({value:{status:m,setStatus:v}},{children:(0,r.jsx)("div",$m({className:Qm,onClick:function(e){return e.stopPropagation()}},{children:c}))}))]}))})},nv="builtInScriptTree_item",rv="builtInScriptTree_item__select",ov="builtInScriptTree_name";var iv=["checkAnsweredWithLoop","checkAnsweredWithoutLoop","checkOpenEndAnsweredWithLoop","checkOpenEndAnsweredWithoutLoop","findAnswerInQuestion","findAnswersContainsWithLoop","findAnswersContainsWithoutLoop","findAnswersDoesNotContainsWithLoop","findAnswersDoesNotContainsWithoutLoop","findAnswersIsNotWithLoop","findAnswersIsNotWithoutLoop","findAnswersIsWithLoop","findAnswersIsWithoutLoop"],av=function(){return av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},av.apply(this,arguments)};const sv=function(){var e=function(){var e=(0,i.useSelector)((function(e){return e.scriptState.builtInScripts.data})),t={};return Object.keys(e).filter((function(e){return!iv.includes(e)})).forEach((function(n){t[n]=e[n]})),t}(),t=(0,i.useSelector)((function(e){return e.editState.target})),n=t.type,o=t.id,a=(0,i.useDispatch)();return(0,r.jsx)("div",{children:Object.keys(e).map((function(e){var t;return(0,r.jsxs)("div",av({className:d((t={},t[nv]=!0,t[rv]="builtInScript"===n&&o===e,t)),onClick:function(){return a(yd({type:"builtInScript",id:e})),void a(jd(S.g.CONTENT))}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"script"})}),(0,r.jsx)("div",av({className:ov},{children:(0,r.jsx)("span",{children:e})}))]}),e)}))})};var cv=n(846);const lv="deleteNodeModal_container",dv="deleteNodeModal_content",uv="deleteNodeModal_btn";var pv=function(){return pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pv.apply(this,arguments)},fv=function(e){var t,n,o,a=e.status,s=e.nodesType,d=e.id,u=e.handleClose,p=(0,B.$G)("",{keyPrefix:"components.alertWindow.deleteNode"}).t,f=(0,i.useSelector)((function(e){return e.editState.target.type})),h=Le(f),m=ci(f),v=(0,i.useDispatch)();return(0,r.jsx)(es,pv({status:a,changeStatus:u},{children:(0,r.jsxs)("div",pv({className:lv},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"warning",color:"#FF3D4A"}),(0,r.jsx)("span",{children:p("title")})]}),(0,r.jsxs)("div",pv({className:dv},{children:[(0,r.jsx)("span",{children:p("hint")}),(0,r.jsxs)("span",{children:["“",null===(n=null===(t=h[d])||void 0===t?void 0:t.structure)||void 0===n?void 0:n.code,"(",null===(o=h[d])||void 0===o?void 0:o.kind,")” .“"]})]})),(0,r.jsxs)("div",pv({className:uv},{children:[(0,r.jsx)(l.zx,{type:"secondary",label:p("button.cancel"),width:"6.9rem",onClick:u}),(0,r.jsx)(l.zx,{type:"primary",label:p("button.confirm"),width:"6.9rem",onClick:function(){var e=m.nodeOrder[d].parent;if(e){v(yd({type:s,id:e}));var t=m.nodeOrder[e].children.filter((function(e){return e!==d}));m.nodeOrder[e].children=t}else{var n=m.rootOrder.length;if(n>1){var r=m.rootOrder.findIndex((function(e){return e===d}));v(yd(r===n-1?{type:s,id:m.rootOrder[0]}:{type:s,id:m.rootOrder[r+1]}))}else yd({type:"null",id:""});Reflect.deleteProperty(m.nodeOrder,d),m.rootOrder=m.rootOrder.filter((function(e){return e!==d}))}v("intervieweeNodes"===f?c.j5(pv({},m)):c.Kn(pv({},m))),u&&u()}})]}))]}))}))};const hv="nodeTreeItem_item",mv="nodeTreeItem_item_arrow",vv="nodeTreeItem_item_icon",xv="nodeTreeItem_item_content",gv="nodeTreeItem_item_more",yv="nodeTreeItem_item_more__select",jv="nodeTreeItem_item_ident",bv="nodeTreeItem_item__select",Nv="nodeTreeItem_Icon_tip",Sv="portal_mask",_v="portal_box";var Ov=function(){return Ov=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ov.apply(this,arguments)},wv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Cv=function(e){var t=e.children,n=e.handleClose,i=wv((0,o.useState)(0),2),a=i[0],s=i[1],c=wv((0,o.useState)(0),2),l=c[0],d=c[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Ov({ref:function(e){if(e){var t=e.getBoundingClientRect();s(t.top),d(t.left)}}},{children:(0,r.jsx)("div",{className:Sv,onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}})})),jn.createPortal((0,r.jsx)("div",Ov({style:{top:a,left:l},className:_v,onClick:function(e){return e.stopPropagation()}},{children:t})),document.body)]})},Iv="dropDownMenu_container",kv="dropDownMenu_box",Av="dropDownMenu_add",Pv="dropDownMenu_box_item";var Tv=function(){return Tv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tv.apply(this,arguments)};const Mv=function(e){var t=e.addNodeBefore,n=e.addNodeAfter,o=e.deleteNode,i=e.handleClose,a=(0,B.$G)("",{keyPrefix:"pages.editPage.nodeSelection.options"}).t;return(0,r.jsx)("div",Tv({className:Iv,onMouseDown:function(e){return e.stopPropagation()}},{children:(0,r.jsxs)("div",Tv({className:kv},{children:[(0,r.jsxs)("div",Tv({className:Pv},{children:[(0,r.jsx)("span",{children:a("add")}),(0,r.jsxs)("div",Tv({className:Av,onClick:i},{children:[(0,r.jsx)("div",Tv({className:Pv,onClick:t},{children:(0,r.jsx)("span",{children:a("before")})})),(0,r.jsx)("div",Tv({className:Pv,onClick:n},{children:(0,r.jsx)("span",{children:a("after")})}))]}))]})),(0,r.jsx)("div",Tv({className:Pv,onClick:o},{children:(0,r.jsx)("span",{children:a("delete")})}))]}))}))};var Ev=function(){return Ev=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ev.apply(this,arguments)},Dv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Bv=function(e){var t=e.nodesType,n=e.list,a=e.indent,s=void 0===a?1:a,u=e.handleAddNode,p=e.handleDeleNode,f=Dv((0,o.useState)(-1),2),h=f[0],m=f[1],v=ci(t),x=v.rootOrder,g=v.nodeOrder,y=(0,i.useSelector)((function(e){return e.editState.target.id})),j=(0,i.useDispatch)();return(0,r.jsx)("div",{children:n.map((function(e,n){var i,a;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",Ev({className:d((i={},i[hv]=!0,i[bv]=e===y,i)),onClick:function(){return function(e){j(jd(S.g.CONTENT)),j(yd({type:t,id:e}))}(e)}},{children:[new Array(s).fill(0).map((function(e,t){return(0,r.jsx)("div",{className:jv},t)})),(0,r.jsx)("span",Ev({className:mv},{children:g[e].children.length>0&&(0,r.jsx)(l.JO,{type:"next",style:{transform:"rotate(".concat(g[e].fold?90:0,"deg)")},onClick:function(n){return function(e,n){g[n].fold=!g[n].fold,j("intervieweeNodes"===t?c.j5({rootOrder:x,nodeOrder:g}):c.Kn({rootOrder:x,nodeOrder:g})),e.stopPropagation()}(n,e)}})})),(0,r.jsx)("span",Ev({className:vv},{children:(0,r.jsx)(l.J2,Ev({className:Nv,root:(0,r.jsx)(Qc,{type:g[e].kind})},{children:g[e].kind}))})),(0,r.jsxs)("span",Ev({className:xv,title:"".concat(g[e].code," - ").concat(g[e].kind)},{children:[g[e].code," - ",g[e].kind]})),(0,r.jsx)("span",Ev({className:d((a={},a[gv]=!0,a[yv]=h===n,a)),onClick:function(){return function(e){m(e)}(n)}},{children:(0,r.jsx)(l.JO,{type:"moreHorizontal",fontSize:"0.4rem"})})),h===n&&(0,r.jsx)(Cv,Ev({handleClose:function(){return m(-1)}},{children:(0,r.jsx)(Mv,{addNodeBefore:function(){return function(e){u&&u(e,"before")}(e)},addNodeAfter:function(){return function(e){u&&u(e,"after")}(e)},deleteNode:function(){return function(e){p&&p(e),m(-1)}(e)},handleClose:function(){return m(-1)}})}))]})),g[e].fold&&g[e].children.length>0&&(0,r.jsx)(Bv,{nodesType:t,list:g[e].children,indent:s+1})]},e)}))})},Fv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Wv=function(e){var t=e.nodesType,n=Fv((0,o.useState)(!1),2),a=n[0],s=n[1],c=Fv((0,o.useState)(""),2),l=c[0],d=c[1],u=Fv((0,o.useState)("before"),2),p=u[0],f=u[1],h=Fv((0,o.useState)(!1),2),m=h[0],v=h[1],x=function(e){var t=(0,i.useSelector)((function(t){return"intervieweeNodes"===e?t.nodesState.intervieweeNodes.orders:t.nodesState.interviewerNodes.orders})),n=t.rootOrder,r=t.nodeOrder;return n.filter((function(e){return!cv.bT.includes(r[e].code)}))}(t),g=function(e,t){s(!0),d(e),f(t)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(Bv,{nodesType:t,list:x,handleAddNode:g,handleDeleNode:function(e){v(!0),d(e)}}),0===x.length&&(0,r.jsx)(Da,{content:"Add node here",handleAdd:function(){return g("","before")}}),(0,r.jsx)(Hd,{status:a,nodesType:t,nodeId:l,position:p,handleCancel:function(){return s(!1)}}),(0,r.jsx)(fv,{status:m,nodesType:t,id:l,handleClose:function(){return v(!1)}})]})},Lv="reusableListTree_item",qv="reusableListTree_itemDelete",zv="reusableListTree_item__select",Vv="deleteReusableModal_container",Jv="deleteReusableModal_content",Rv="deleteReusableModal_btn";var Gv=function(){return Gv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gv.apply(this,arguments)},Hv=function(e){var t=e.status,n=e.setStatus,o=e.reusableId,a=e.content,s=(0,i.useSelector)((function(e){return e.reusableState.reusable})),c=(0,i.useDispatch)(),d=(0,B.$G)("",{keyPrefix:"components.alertWindow.deleteReusable"}).t;return(0,r.jsx)(es,Gv({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Gv({className:Vv},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"warning",color:"#FF3D4A"}),(0,r.jsx)("span",{children:d("title")})]}),(0,r.jsxs)("div",Gv({className:Jv},{children:[(0,r.jsx)("span",{children:d("description")}),(0,r.jsxs)("span",{children:["“",a,"” "]}),(0,r.jsx)("span",{children:"?"})]})),(0,r.jsxs)("div",Gv({className:Rv},{children:[(0,r.jsx)(l.zx,{type:"secondary",label:d("button.cancel"),width:"6.9rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{type:"primary",label:d("button.confirm"),width:"6.9rem",onClick:function(){delete s[o],c(Hs.Tu({reusable:s})),n(!1)}})]}))]}))}))};const Qv="addReusableModal_container",Yv="addReusableModal_title",Uv="addReusableModal_input",Zv="addReusableModal_buttons";var Xv=function(){return Xv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xv.apply(this,arguments)},Kv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$v=function(e){var t=e.status,n=e.setStatus,a=Kv((0,o.useState)(""),2),s=a[0],c=a[1],d=Kv((0,o.useState)(""),2),u=d[0],p=d[1],f=(0,i.useSelector)((function(e){return e.reusableState.reusable})),h=(0,i.useDispatch)(),m=(0,B.$G)("",{keyPrefix:"components.alertWindow.addReusable"}).t;(0,o.useEffect)((function(){p(""),c("")}),[t]);var v=function(){if(!u)return!1;var e=Rs(u);return e.status?Gs(f,u)?(c(""),!0):(c("This field should be unique"),!1):(c(e.msg),!1)};return(0,r.jsx)(es,Xv({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",Xv({className:Qv},{children:[(0,r.jsx)("div",Xv({className:Yv},{children:m("title")})),(0,r.jsxs)("div",Xv({className:Uv},{children:[(0,r.jsx)("span",{children:m("input")}),(0,r.jsx)(Ls,{width:"100%",value:u,onChange:function(e){p(e.currentTarget.value)},status:!s?"":"error",placeholder:m("placeholder"),onBlur:v}),(0,r.jsx)("div",{children:s})]})),(0,r.jsxs)("div",Xv({className:Zv},{children:[(0,r.jsx)(l.zx,{label:m("button.cancel"),size:"big",type:"secondary",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{disabled:!u.length,width:"7.8rem",height:"3.2rem",label:m("button.create"),onClick:function(){if(v()){var e=function(e){void 0===e&&(e="");var t=(0,To.Z)(),n={name:e,link:null},r={comment:"",task:"",instruction:ha()};return new Po.X7(t,"OptionList",n,r,[])}();e.meta&&(e.meta.name=u),f[e.id]={name:u,data:e},h(Hs.Tu({reusable:f})),n(!1)}}})]}))]}))}))},ex=function(){return ex=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ex.apply(this,arguments)},tx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const nx=function(){var e=tx((0,o.useState)(!1),2),t=e[0],n=e[1],a=tx((0,o.useState)(""),2),s=a[0],c=a[1],u=tx((0,o.useState)(""),2),p=u[0],f=u[1],h=(0,o.useContext)(Rm),m=(0,i.useSelector)((function(e){return e.reusableState.reusable})),v=(0,i.useSelector)((function(e){return e.editState.target})),x=v.id,g=v.type,y=(0,i.useDispatch)();return(0,r.jsxs)(o.Fragment,{children:[Object.keys(m).map((function(e){var t;return(0,r.jsxs)("div",ex({className:d((t={},t[Lv]=!0,t[zv]="reusable"===g&&x===e,t)),onClick:function(){return t=e,y(jd(S.g.CONTENT)),void y(yd({type:"reusable",id:t}));var t}},{children:[(0,r.jsx)(l.JO,{type:"reusable"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:m[e].name}),(0,r.jsx)(l.JO,{type:"dustbin",className:qv,onClick:function(){c(m[e].data.id),f(m[e].name),n(!0)}})]})]}),e)})),0===Object.keys(m).length&&(0,r.jsx)(Da,{content:"Add reusable here",handleAdd:function(){return h.setStatus(!0)}}),(0,r.jsx)(Hv,{status:t,reusableId:s,content:p,setStatus:n}),(0,r.jsx)($v,{status:h.status,setStatus:h.setStatus})]})},rx="scriptTree_item",ox="scriptTree_icon",ix="scriptTree_itemDelete",ax="scriptTree_label_draft",sx="scriptTree_label_verified",cx="scriptTree_item__select",lx="scriptTree_name",dx="deleteScript_container",ux="deleteScript_content",px="deleteScript_btn";var fx=function(){return fx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fx.apply(this,arguments)},hx=function(e){var t=e.status,n=e.setStatus,o=e.scriptName,a=(0,i.useSelector)((function(e){return e.scriptState.customScripts})),s=a.data,c=a.idMap,d=(0,i.useDispatch)(),u=(0,B.$G)("",{keyPrefix:"components.alertWindow.deleteScript"}).t;return(0,r.jsx)(es,fx({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",fx({className:dx},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"warning",color:"#FF3D4A"}),(0,r.jsx)("span",{children:u("title")})]}),(0,r.jsxs)("div",fx({className:ux},{children:[(0,r.jsx)("span",{children:u("description")}),(0,r.jsxs)("span",{children:["“",o,"” "]}),(0,r.jsx)("span",{children:"?"})]})),(0,r.jsxs)("div",fx({className:px},{children:[(0,r.jsx)(l.zx,{type:"secondary",label:u("button.cancel"),width:"6.9rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{type:"primary",label:u("button.confirm"),width:"6.9rem",onClick:function(){var e=s[o].id;delete s[o],delete c[e],d(zu.v2({data:s,idMap:c})),n(!1)}})]}))]}))}))};const mx="addCustomScriptModal_container",vx="addCustomScriptModal_title",xx="addCustomScriptModal_desc",gx="addCustomScriptModal_scriptName",yx="addCustomScriptModal_btn",jx="addCustomScriptModal_errorMsg";var bx=function(){return bx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bx.apply(this,arguments)},Nx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Sx=function(e){var t=e.status,n=e.setStatus,a=(e.isJump,Nx((0,o.useState)(""),2)),s=a[0],c=a[1],d=Nx((0,o.useState)(""),2),u=d[0],p=d[1],f=(0,i.useSelector)((function(e){return e.scriptState.customScripts})),h=f.data,m=f.idMap,v=(0,i.useDispatch)(),x=(0,B.$G)("",{keyPrefix:"components.alertWindow.addScript"}).t,g=function(){var e,t=""===(e=s)?{status:!1,msg:"Please provide a name"}:(0,qs.X)(e.trim(),Js).status?{status:!0,msg:""}:{status:!1,msg:"This field only allows letters and numbers"};return t.status?Bu(h,s)?(p(""),!0):(p("This field should be unique"),!1):(p(t.msg),!1)};return(0,r.jsx)(es,bx({status:t,changeStatus:function(){return n(!1)}},{children:(0,r.jsxs)("div",bx({className:mx},{children:[(0,r.jsx)("div",bx({className:vx},{children:x("title")})),(0,r.jsx)("div",bx({className:xx},{children:x("hint")})),(0,r.jsxs)("div",bx({className:gx},{children:[(0,r.jsx)("div",{children:x("form.scriptName")}),(0,r.jsx)(Ls,{width:"55.2rem",height:"4rem",status:!u?"":"error",handleInputOnChange:c,onBlur:g}),u&&(0,r.jsx)("span",bx({className:jx},{children:"Script name existed"}))]})),(0,r.jsxs)("div",bx({className:yx},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:x("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:function(){return n(!1)}}),(0,r.jsx)(l.zx,{height:"3.2rem",label:x("button.create"),size:"small",disabled:!s.trim(),type:"primary",width:"9.5rem",onClick:function(){if(g()){var e=Fu(s);h[s]=e,m[e.id]=s,v(zu.v2({data:h,idMap:m})),n(!1)}}})]}))]}))}))},_x=function(){return _x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_x.apply(this,arguments)},Ox=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const wx=function(){var e=Ox((0,o.useState)(!1),2),t=e[0],n=e[1],a=(0,o.useContext)(Rm),s=Ox((0,o.useState)(""),2),c=s[0],u=s[1],p=(0,i.useSelector)((function(e){return e.editState.target})),f=p.type,h=p.id,m=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),v=(0,i.useDispatch)();return(0,r.jsxs)(o.Fragment,{children:[Object.keys(m).map((function(e){var t;return(0,r.jsxs)("div",_x({className:d((t={},t[rx]=!0,t[cx]="customScript"===f&&h===e,t)),onClick:function(){return t=e,v(jd(S.g.CONTENT)),void v(yd({type:"customScript",id:t}));var t}},{children:[(0,r.jsx)("span",_x({className:ox},{children:(0,r.jsx)(l.JO,{type:"script"})})),(0,r.jsxs)("div",_x({className:lx},{children:[(0,r.jsx)("span",{children:e}),"draft"===m[e].data.status?(0,r.jsx)("div",_x({className:ax},{children:(0,r.jsx)("span",{children:"draft"})})):(0,r.jsx)("div",_x({className:sx},{children:(0,r.jsx)("span",{children:"verified"})}))]})),(0,r.jsx)(l.JO,{type:"dustbin",className:ix,onClick:function(){n(!0),u(e)}})]}),e)})),0===Object.keys(m).length&&(0,r.jsx)(Da,{content:"Add script here",handleAdd:function(){return a.setStatus(!0)}}),(0,r.jsx)(hx,{status:t,setStatus:n,scriptName:c}),(0,r.jsx)(Sx,{status:a.status,setStatus:a.setStatus})]})},Cx="sidebar_container";var Ix=function(){return Ix=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ix.apply(this,arguments)};const kx=function(){var e=(0,i.useSelector)((function(e){return e.surveyInfoState.surveyType}));return(0,r.jsxs)(y,Ix({position:"left",saveName:"left",className:Cx},{children:[(0,r.jsx)(tv,{header:"utilities"}),(0,r.jsx)(tv,Ix({show:"interview"===e,header:"interviewee"},{children:(0,r.jsx)(Wv,{nodesType:"intervieweeNodes"})})),(0,r.jsx)(tv,Ix({header:"general"===e?"tree":"interviewer"},{children:(0,r.jsx)(Wv,{nodesType:"interviewerNodes"})})),(0,r.jsx)(tv,Ix({header:"inScript"},{children:(0,r.jsx)(sv,{})})),(0,r.jsx)(tv,Ix({header:"script",isAdd:!0},{children:(0,r.jsx)(wx,{})})),(0,r.jsx)(tv,Ix({header:"reusable",isAdd:!0},{children:(0,r.jsx)(nx,{})}))]}))};var Ax=function(){return Ax=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ax.apply(this,arguments)};const Px=function(){var e=(0,i.useDispatch)();return(0,o.useEffect)((function(){e(c.OF())}),[]),(0,r.jsxs)(s,{children:[(0,r.jsx)(Ch,{}),(0,r.jsx)(Vm,{}),(0,r.jsxs)(s,Ax({direction:"row"},{children:[(0,r.jsx)(kx,{}),(0,r.jsx)(lh,{}),(0,r.jsx)(N,{})]})),(0,r.jsx)(Oh,{})]})}}}]);