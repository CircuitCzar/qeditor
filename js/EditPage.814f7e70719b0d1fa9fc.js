/*! For license information please see EditPage.814f7e70719b0d1fa9fc.js.LICENSE.txt */
"use strict";(self.webpackChunkdr_pe_questionnaire_editor=self.webpackChunkdr_pe_questionnaire_editor||[]).push([[0],{633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Fp});var r=n(0),o=n(1),i=n(3),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(e){var t=e.direction,n=void 0===t?"column":t,o=e.children;return(0,r.jsx)("div",a({style:{display:"flex",flexDirection:n,boxSizing:"border-box",overflow:"hidden"}},{children:o}))};var c=n(810),l=n(2);const u=function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t.join(" ")},d="sash_container",p="sash_line",f="sash_line_hover",h="sash_line_left",m="sash_line_right",v="sash_line_drag";var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x.apply(this,arguments)},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const j=function(e){var t,n=e.position,i=e.className,a=e.minWidth,s=void 0===a?"20.8rem":a,c=e.maxWidth,j=void 0===c?"64rem":c,y=e.children,N=g((0,o.useState)(!1),2),_=N[0],b=N[1],S=g((0,o.useState)(!1),2),O=S[0],C=S[1],w=(0,o.useRef)(null),I=g((0,o.useState)(0),2),k=I[0],A=I[1],T=function(e){A("left"===n?e.clientX:window.innerWidth-e.clientX)},E=function(){document.onmousemove=null,document.onmouseup=null,b(!1)},P=[d];return i&&P.push(i),(0,r.jsxs)("div",x({className:P.join(" "),style:{width:k,minWidth:s,maxWidth:j}},{children:[(0,r.jsx)(l.lg,x({defaultScrollTop:0,height:"100%",width:"100%"},{children:y})),(0,r.jsx)("div",{className:u((t={},t[p]=!0,t[f]=O,t[v]=_,t[h]="left"===n,t[m]="right"===n,t)),onMouseEnter:function(){w.current&&window.clearTimeout(w.current),w.current=window.setTimeout((function(){C(!0)}),300)},onMouseLeave:function(){w.current&&window.clearTimeout(w.current),C(!1)},onMouseDown:function(e){e.preventDefault();var t=document.createElement("style");t.innerText="*{cursor: col-resize !important}",document.head.appendChild(t),document.onmousemove=T,document.onmouseup=E,b(!0);var n=function(){t.remove(),document.removeEventListener("mouseup",n)};document.addEventListener("mouseup",n)}})]}))},y="comment_container";var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N.apply(this,arguments)};const _=function(){return(0,r.jsx)(j,N({position:"right",className:y},{children:"aa"}))};var b=n(805);const S="root",O="navTag_container",C="navTag_tags",w="navTag_shadow",I="navTag_contentContainer_scroll",k="navTag_contentShadow",A="navTag_contentContainer",T="navTag_tag",E="navTag_tag_selected";var P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)},M=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},D=function(e){var t,n=e.tags,i=M((0,o.useState)(!1),2),a=i[0],s=i[1],c=M((0,o.useState)("0px"),2),d=c[0],p=c[1],f=M((0,o.useState)(0),2),h=f[0],m=f[1];return(0,r.jsx)("div",P({className:S},{children:(0,r.jsxs)("div",P({className:u((t={},t[O]=!0,t[w]=a,t))},{children:[(0,r.jsx)("div",P({className:C},{children:n.map((function(e,t){var n;return(0,r.jsxs)("div",P({className:u((n={},n[T]=!0,n[E]=h===t,n)),style:{zIndex:10-t},onClick:function(){m(t)}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:e.iconName})}),e.tagName]}),"".concat(t,"tagSet"))}))})),(0,r.jsxs)("div",P({className:I,onScroll:function(e){var t=e.currentTarget.scrollTop;a!==(0!==t)&&s(0!==t)}},{children:[(0,r.jsx)("div",{className:k,style:{height:d}}),(0,r.jsx)("div",P({className:A,ref:function(e){e&&p("".concat(e.clientHeight,"px"))}},{children:n[h]&&n[h].children}))]}))]}))}))},L=n(802);const q="appearanceIntroduction_container",F="appearanceIntroduction_title",B="appearanceIntroduction_instruction",V="appearanceIntroduction_foldButton",J="appearanceIntroduction_plugin",z="appearanceIntroduction_scroll";var G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},G.apply(this,arguments)},W=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const R=function(){var e=W((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,L.$G)("",{keyPrefix:"appearance.introduction"}).t;return(0,r.jsx)("div",G({className:q},{children:(0,r.jsxs)(l.lg,G({className:z,defaultScrollTop:0,height:"100%",width:"100%"},{children:[(0,r.jsx)("div",G({className:F},{children:i("title")})),(0,r.jsxs)("div",G({className:B},{children:[function(){var e=i("".concat(t?"fullContent":"abbContent")),n=(e=e.replace(/[\n\t]/g,"")).match(/(<\/br>)|(<[b|u]>[a-zA-Z\u4e00-\u9fa5""“”。，：、 /\n]*<\/[b|u]>)|([a-zA-Z\u4e00-\u9fa5 \n,。，：、:. ]*)/g),r=[];n&&(r=n.filter((function(e){return" "!==e&&""!==e})));var o=[];return r.forEach((function(e){if(e.includes("<b>")){var t=e.replace(/<b>/,"").replace(/<\/b>/,"");o.push({type:"b",content:t})}else if(e.includes("<u>")){t=e.replace(/<u>/,"").replace(/<\/u>/,"");o.push({type:"u",content:t})}else e.includes("</br>")?o.push({type:"br",content:""}):o.push({type:"_",content:e})})),o}().map((function(e,t){return(0,r.jsxs)("span",{children:["b"===e.type&&(0,r.jsx)("b",{children:e.content}),"u"===e.type&&(0,r.jsx)("u",{children:e.content}),"br"===e.type&&(0,r.jsx)("br",{}),"_"===e.type&&e.content]},t)})),(0,r.jsxs)("div",G({className:V,onClick:function(){return n(!t)}},{children:[(0,r.jsx)("span",{children:i("".concat(t?"fold":"unfold"))}),(0,r.jsx)(l.JO,{type:"down",style:{transform:"rotate(".concat(t?"180":"0","deg)")}})]}))]})),(0,r.jsxs)("div",G({className:J},{children:[(0,r.jsx)("h4",{children:i("pluginUse")}),[].map((function(e,t){return(0,r.jsxs)("li",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("pluginName")}),(0,r.jsx)("span",{children:e.pluginName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("pluginVersion")}),(0,r.jsxs)("span",{children:["V ",e.pluginVersion]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:i("appliedPaper")}),(0,r.jsx)("span",{children:e.appliedPaper})]})]},t)}))]}))]}))}))},H="dropDownV3_container",Q="dropDownV3_floatingContainer";var U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},U.apply(this,arguments)},Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Z=function(e){var t=e.className,n=e.floatingClassName,o=Y(e,["className","floatingClassName"]),i=[H],a=[Q];return t&&i.push(t),n&&a.push(n),(0,r.jsx)(l.Hq,U({className:i.join(" "),floatingClassName:a.join(" ")},o))},X="searchSelector_container",K="searchSelector_header",$="searchSelector_drop",ee="searchSelector_dropList",te="searchSelector_dropItem__select",ne="searchSelector_input",re="searchSelector_searchButton";var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)},ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ae=function(e){var t,n,i=e.labels,a=e.placeholder,s=void 0===a?"Search...":a,c=e.handleSearch,d=ie((0,o.useState)(i[0].id),2),p=d[0],f=d[1],h=ie((0,o.useState)(!1),2),m=h[0],v=h[1],x=ie((0,o.useState)(""),2),g=x[0],j=x[1];return(0,r.jsxs)("div",oe({className:X},{children:[(0,r.jsxs)("div",oe({className:$,tabIndex:-1,onBlur:function(){return v(!1)}},{children:[(0,r.jsxs)("div",oe({className:K,onClick:function(){return v(!m)}},{children:[(0,r.jsx)("span",{children:(t=p,n=i.find((function(e){return e.id===t})),n?n.content:"")}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(m?180:0,"deg)")}})]})),m&&(0,r.jsx)("div",oe({className:ee},{children:i.map((function(e,t){var n;return(0,r.jsx)("div",oe({className:u((n={},n[te]=p===e.id,n)),onClick:function(){f(e.id),v(!1)}},{children:e.content}),t)}))}))]})),(0,r.jsx)("input",{className:ne,type:"text",placeholder:s,onChange:function(e){return j(e.currentTarget.value)}}),(0,r.jsx)("div",oe({className:re,onClick:function(){c&&c(p,g)}},{children:(0,r.jsx)(l.JO,{type:"search"})}))]}))},se={value:""},ce=(0,o.createContext)(se);const le="tabs_navBar",ue="tabs_tab",de="tabs_tab__active",pe="tabs_ink";var fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fe.apply(this,arguments)},he=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const me=function(e){var t=e.defaultActiveKey,n=e.handleChangeTab,i=e.className,a=e.children,s=he((0,o.useState)(t),2),c=s[0],l=s[1],u=function(e){var t=[];return o.Children.forEach(e,(function(e){null!=e&&t.push(e)})),t}(a),d={},p=function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t.join(" ")};return(0,r.jsx)(ce.Provider,fe({value:{value:c}},{children:(0,r.jsxs)("div",fe({className:i},{children:[(0,r.jsxs)("div",fe({className:le},{children:[u.map((function(e){var t;return(0,r.jsx)("div",fe({className:p((t={},t[ue]=!0,t[de]=e.props.tabId===c,t)),onClick:function(){var t=e.props.tabId;l(t),n&&n(t)},ref:function(t){e.props.tabId===c&&(d.width=null==t?void 0:t.clientWidth,d.left=null==t?void 0:t.offsetLeft)}},{children:e.props.tab}),e.props.tabId)})),(0,r.jsx)("div",{ref:function(e){var t;e&&d.width&&(e.style.width="".concat(d.width,"px"),e.style.left="".concat(null!==(t=d.left)&&void 0!==t?t:0,"px"))},className:pe})]})),a]}))}))};var ve=function(e){var t=e.tabId,n=e.children;ve.displayName="TabPane";var i=(0,o.useContext)(ce);return(0,r.jsx)(r.Fragment,{children:t===i.value&&n})};const xe=ve,ge="pluginItem_pluginItem",je="pluginItem_pluginInfo_enter",ye="pluginItem_pluginInfo_price",Ne="pluginItem_pluginInfo",_e="pluginItem_pluginInfo_title",be="pluginItem_pluginInfo_keyword",Se="pluginItem_pluginInfo_description",Oe="pluginItem_star",Ce="pluginItem_star__starred",we="pluginItem_star__unCollection",Ie=n.p+"assets/8e10f30bd65931447058.png";var ke=function(){return ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ke.apply(this,arguments)};const Ae=function(){var e;return(0,r.jsxs)("div",ke({className:ge},{children:[(0,r.jsx)("img",{src:Ie,alt:"plugin"}),(0,r.jsxs)("div",ke({className:Ne},{children:[(0,r.jsxs)("div",ke({className:_e},{children:[(0,r.jsx)("span",{children:"AAA"}),(0,r.jsx)("span",ke({className:je},{children:(0,r.jsx)(l.JO,{type:"exit"})})),(0,r.jsx)("div",ke({className:ye},{children:"$100"}))]})),(0,r.jsxs)("div",ke({className:be},{children:[(0,r.jsx)("span",{children:"AA"}),(0,r.jsx)("span",{children:"BB"}),(0,r.jsx)("span",{children:"CCC"})]})),(0,r.jsx)("div",ke({className:Se},{children:"这是一个plugin"}))]})),(0,r.jsx)("div",ke({className:u((e={},e[Oe]=!0,e[Ce]=!1,e))},{children:(0,r.jsx)(l.JO,{type:"star",className:we})}))]}))},Te="appearancePlugins_container",Ee="appearancePlugins_searchPlugin",Pe="appearancePlugins_list";var Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Me.apply(this,arguments)};const De=function(){var e=(0,L.$G)("",{keyPrefix:"appearance"}).t;return(0,r.jsxs)("div",Me({className:Te},{children:[(0,r.jsxs)(me,Me({defaultActiveKey:"1"},{children:[(0,r.jsx)(xe,{tabId:"1",tab:e("market")}),(0,r.jsx)(xe,{tabId:"2",tab:e("organization")})]})),(0,r.jsxs)("div",Me({className:Ee},{children:[(0,r.jsx)(Z,{defaultValue:1,labels:[{content:"allType",id:0},{content:"starred",id:1}],handleValueChange:function(e){}}),(0,r.jsx)(ae,{labels:[{id:"Name",content:e("name")},{id:"Keywords",content:e("keywords")}]})]})),(0,r.jsx)("div",Me({className:Pe},{children:(0,r.jsxs)(l.lg,Me({defaultScrollTop:0,height:"45rem",width:"100%"},{children:[(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{}),(0,r.jsx)(Ae,{})]}))})),(0,r.jsx)(l.ML,{defaultCurrentPage:1,rows:5,total:1e3,handleChange:function(e){}})]}))},Le="optionItemHtml_container";const qe=function(e){var t,n=e.list,o=e.className,i=[Le];return o&&i.push(o),(0,r.jsx)("div",{className:i.join(" "),dangerouslySetInnerHTML:{__html:(t="",n.forEach((function(e){"HtmlItem"===e.kind&&(t+=e.data.html)})),t)}})};var Fe=function(){return(0,i.useSelector)((function(e){return e.lanState.editLan}))},Be=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]},Ve=n(808),Je=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ze=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ge=function(){var e,t,n=Be(),r=[],o=[],i=n.structure.content.content.options,a=n.structure.content.content.type,s=n.structure.code;return null===(e=i[0])||void 0===e||e.map((function(e){(0,Ve.I5)(e)?r.push(e):r.push.apply(r,ze([],Je(e.list),!1))})),null===(t=i[1])||void 0===t||t.map((function(e){(0,Ve.I5)(e)?o.push(e):o.push.apply(o,ze([],Je(e.list),!1))})),{row:r,column:o,type:a,code:s}};const We="multi_radio",Re="multi_radio__checked";var He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},He.apply(this,arguments)},Qe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ue=function(e){var t=e.options,n=e.handleSelectOption,i=Qe((0,o.useState)([]),2),a=i[0],s=i[1],c=Fe();return(0,r.jsx)(l.rE,He({onChange:function(e){s(e),n&&n(e)}},{children:t.map((function(e){var t;return(0,r.jsx)(l.Jr,He({value:e.data.code,className:u((t={},t[We]=!0,t[Re]=a.includes(e.data.code),t))},{children:(0,r.jsx)(qe,{list:e.data.text[c].content.list.list})}),e.id)}))}))};var Ye=function(e){var t=e.list,n="";t.map((function(e){(0,Ve.vT)(e)&&(n+=e.data.html)}));var r=document.createElement("div");return r.innerHTML=n,r.innerText};const Ze="multiMatrix_table",Xe="multiMatrix_head",Ke="multiMatrix_title",$e="multiMatrix_option";var et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},et.apply(this,arguments)};const tt=function(e){var t=e.row,n=e.column,o=e.handleSelectOption,i=Fe();return(0,r.jsxs)("table",et({className:Ze},{children:[(0,r.jsx)("thead",et({className:Xe},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",et({className:Ke},{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})})),(0,r.jsx)(l.rE,et({onChange:function(t){o&&o(t,e)}},{children:n.map((function(e,t){return(0,r.jsx)("td",{children:(0,r.jsx)("div",et({className:$e},{children:(0,r.jsx)(l.Jr,{value:e.data.code},t+1)}))},"multi_".concat(t))}))}))]},"".concat(t,"rowOption"))}))})]}))},nt="numberInput_container";const rt=function(e){var t=e.placeholder,n=e.handleChange,i=(0,o.useRef)(!1);return(0,r.jsx)("input",{className:nt,placeholder:t,onChange:function(e){if(!i.current){var t=e.currentTarget.value;t=t.replace(/[^\d]/g,""),e.currentTarget.value=t,n&&n(t)}},onCompositionStart:function(){i.current=!0},onCompositionEnd:function(e){i.current=!1;var t=e.currentTarget.value;t=t.replace(/[^\d]/g,""),e.currentTarget.value=t,n&&n(t)},onKeyDown:function(e){e.ctrlKey&&"v"===e.key||/^[0-9]*$/.test(e.key)||"Backspace"===e.key||"F12"===e.key||e.preventDefault()}})};const ot=function(e){var t=e.options,n=e.handleChangeValue,o=Fe();return(0,r.jsx)("div",{children:t.map((function(e,t){return(0,r.jsx)(rt,{placeholder:Ye(e.data.text[o].content.list),handleChange:function(e){n&&n(e,t)}},t)}))})},it="numericMatrix_table",at="numericMatrix_head",st="numericMatrix_title",ct="numericMatrix_option";var lt=function(){return lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lt.apply(this,arguments)};const ut=function(e){var t=e.row,n=e.column,o=e.handleChangeValue,i=Fe();return(0,r.jsxs)("table",lt({className:it},{children:[(0,r.jsx)("thead",lt({className:at},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",lt({className:st},{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})})),(0,r.jsx)(l.Ee,lt({onChange:function(e){}},{children:n.map((function(t,n){return(0,r.jsx)("td",{children:(0,r.jsx)("div",lt({className:ct},{children:(0,r.jsx)(rt,{handleChange:function(n){o&&o(n,t.data.code,e)}})}))},"".concat(n,"_radio"))}))}))]},"".concat(t,"rowOption"))}))})]}))},dt="open_item";const pt=function(e){var t=e.options,n=e.handleChangeValue,o=Fe();return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsx)("input",{className:dt,placeholder:Ye(e.data.text[o].content.list),onChange:function(e){n&&n(e.currentTarget.value,t)}},t)}))})},ft="openMatrix_table",ht="openMatrix_head",mt="openMatrix_title",vt="openMatrix_option",xt="openMatrix_input";var gt=function(){return gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gt.apply(this,arguments)};const jt=function(e){var t=e.row,n=e.column,o=e.handleChangeValue,i=Fe();return(0,r.jsxs)("table",gt({className:ft},{children:[(0,r.jsx)("thead",gt({className:ht},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",gt({className:mt},{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})})),n.map((function(t,n){return(0,r.jsx)("td",{children:(0,r.jsx)("div",gt({className:vt},{children:(0,r.jsx)("input",{className:xt,onChange:function(n){o&&o(n.currentTarget.value,t.data.code,e)}},n)}))},"".concat(n,"_radio"))}))]},"".concat(t,"rowOption"))}))})]}))},yt="single_radio",Nt="single_radio__checked";var _t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_t.apply(this,arguments)},bt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const St=function(e){var t=e.options,n=e.handleSelectOption,i=bt((0,o.useState)(""),2),a=i[0],s=i[1],c=Fe();return(0,r.jsx)("div",{children:(0,r.jsx)(l.Ee,_t({value:a,onChange:function(e){s(e),n&&n(e)}},{children:t.map((function(e){var t;return(0,r.jsx)(l.Y8,_t({value:e.data.code,className:u((t={},t[yt]=!0,t[Nt]=a===e.data.code,t))},{children:(0,r.jsx)(qe,{list:e.data.text[c].content.list.list})}),e.id)}))}))})},Ot="singleMatrix_table",Ct="singleMatrix_head",wt="singleMatrix_title",It="singleMatrix_option";var kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kt.apply(this,arguments)};const At=function(e){var t=e.row,n=e.column,o=e.handleSelectOption,i=Fe();return(0,r.jsxs)("table",kt({className:Ot},{children:[(0,r.jsx)("thead",kt({className:Ct},{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),n.map((function(e,t){return(0,r.jsx)("th",{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})},"column_".concat(t))}))]})})),(0,r.jsx)("tbody",{children:t.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",kt({className:wt},{children:(0,r.jsx)("span",{children:Ye(e.data.text[i].content.list)})})),(0,r.jsx)(l.Ee,kt({onChange:function(e){o&&o(e,t)}},{children:n.map((function(e,t){return(0,r.jsx)("td",{children:(0,r.jsx)("div",kt({className:It},{children:(0,r.jsx)(l.Y8,{value:e.data.code},t+1)}))},"".concat(t,"_radio"))}))}))]},"row_".concat(t))}))})]}))},Tt="pluginSelect_select",Et="pluginSelect_plugin",Pt="pluginSelect_pluginName",Mt="pluginSelect_floating",Dt="pluginSelect_floatingItem";var Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lt.apply(this,arguments)};const qt=function(e){var t,n=e.selectPaper,o=e.handleSelectPaper,i=Be().structure.appearance.plugin,a=Object.keys(i);return(0,r.jsx)(l.Hq,{className:Tt,floatingClassName:Mt,floatingStyle:{width:"27.5rem"},defaultValue:n,handleValueChange:function(e){return o(e)},labels:(t=[],0===a.length&&a.push("default"),i&&a.map((function(e){var n,o;t.push({id:e,content:(0,r.jsxs)("div",Lt({className:Dt},{children:[(0,r.jsx)("span",{children:e}),(null===(n=i[e])||void 0===n?void 0:n.name)?(0,r.jsxs)("div",Lt({className:Et},{children:[(0,r.jsx)("span",{children:"  -  "}),(0,r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtuSURBVHgBXVdZjFtnFf7u6utre+zZt8ySTDKZ7GRpQ0JDlweKVAp94YFFtOUhEUWAQEgVRTxUQlCK4BEpUagQoEaq1KotqJRF3ZIIhTTTpiFNZtJJM5nJeFaPPbbvfu/P999JIcIexzde/nPOd77vO8cK/u/2m5HB/QqU+1Sh3CuQ9KkQUFUDbV98BINf/RryXV1QFBXgHxL+JSGuvH8ci4unoOaBvryHrJ/AnbahByq6Qg2dDXNSXVMmzSQ+3nniSvnOeMonF7/Y2lEoieJRIcRXNJGAz4yRQCu2YvCJ76LrniMwcnnI2OmNwUXsILrxChYWTmIxH6JdAzZpOvIwkUyWoMzz+DDkgx82Y2iZAEpWOQV4JzqfnKj/NwEZvKgUjyMWo5o8mVUrAjB6+zDy5I/RvmsPUdDSqtWEuPDu1CbRWHgOwjnDQxT05DQUFRuaaIVQLJ5hQixnEdeyEDrPjANEqyE/30Cix5OzVf/YPc+eresygZLSdlQRyWga+A5oip/+DIpj29LgqqxcURg6RHnhNcwt/BbdzQr66i1oDYow2jLEn4EVHYqTWUdIWIgbBryVEGFkQOQ6gYFeiL4to619W4/i2U/9Sjm+bahXgfEnNpPVycBJmoAmcTAMWDv3YOOjj6O0ey80NYI/exKN6h9hVjPocVqQsWyIpBVJVECcZd0tboogIhWhm0Ej3I4FeyeSUiey7SUYWQuLKzHGL9Tx4fjKMV0XxlEZUpU1q+J2EvLBa/YvfO88Prr6IXq/+Ti6d7vIzLyMLpSgNfJQi6wUBUSiyGumbKhQDQfJmomm2wdn5CE4xY14/sQ03n9nBaa9ikxWQW0lQOCxkYl2H1ugbJVMlzdVokCsFfnMl2yLEOZN6N0F5CZeRosTIZu0QS1koHbKr5IPMa8ZW0QZaIqP+FYey2Ubr308hmtndVy/NoHVhRAxC3O9iJHEbfnwSglkAmJ0vevsv6r+Txbst3HXAWz+1jGIyhzyr/4SBdVC0mrC09lzXYMWyrPYd5PXfgjvpg6nsA3ninfhhXMuyV8lY6gUtYpYXUMMFwmTTODdTiTq1VUGIlvSwJ9cS7YrTLJ+5gyuNx20W3X0b9EQ6jZqYR8KBQHDpKRiSXYyW+N7FQ1T2IwztYN4+ZUyGooDX19EqCxCqB4D84GAYaP0cCEffEUn+9fhV5Q0K8HniBm0GRmYfC+6OI6aQfj6B1CxBlAw+a4SYG1FQb4QkyeA73ZgesMR/OSZMsruOEKtRj4oPIUEZZsijbzgB2MmJbQofU0Qj4T16mpKt4QWQKmS9SPf/x6WjL9g4y3qeqrODyxDZFXM1myUOiJoXoj3xH4M4zxyjgq/9SCCfY+gTbOR3fQ8gombhJswq0RI1RHrHgKVnqMlSBmurXuMwkJVoq3LXCIZXPYgCjH1wu/QcniZ/e1AcZj6byOpqoSgkUNI6F+MH8NweAEZt4HmjseA0SM81KDtAA8/vB0Xb1wk5DQdSRAGiw0+slraJilxw4pg2xHMXIxsNqRd8+VAEam1SwvGjQUIunXrF5hRwUDcQoNXc7DzAn/XHkLgr8FybqKBTlgb9rNKJkeKa5oCN3LhtxBqU/KIyPKtyKShU65KMUFb1ETB9vlwUTJC5Jik7t52P9lvyUFDKGjNsXv9PKSUQZJJsFpXUS4Ooz25BTPPdjjbMGDM4M+vJ/jHm+NwjUvQbQcTURlOtw7dcRD3JugZJkquhjj2UhPbVqzhSKGCsVwTNklohCr0iGRoEesTRvamm8F3fd2E2srMDQ8fJmNo+Das0MOm5DJW7X7m5ePnr38e05UVrKgX4Oq3WGmD1QepOoINEca2VLG/o4IpJ4vA1fHt3lnc315HS0hk5nNIynkESxZ0tgg1Vt5mq7hrj4negyq8ec6rFQ6cHgOXZofQcGzsbfkY/+p7EB3Xz+L92Xsxs9pFqX0ATytzuJDlBhWTp8I7BOwNAXa1VdGp+ZihTzw1Mo1DRMhYtBFf5ZTU6bBljrC1CHqZZY9t0vC5e1kl2x1VbPhzTfgcLqfPbsDc9DSSvIZ3H9iFejCC8ruXMF7dTEWvoqFdZWCXRIvhFXlobwit20VX0aWMQ3RT/2MZgR3sudEgD+iQCkeyCBRYmwP4lzXoe0Zs3P+ATs748GZyCAIPxhYb4/4IXCfApvl3IMwWXCv+EPjb87jqfSmdiGvKvxEYSwweICSrwyEPVneAAoPvyNawL7eWTpSKHyMvJ1skPY7GQ5QiyjeuazB3cnYc2mNQRezLGidbvgDhWrh2XpplDZsOhWh2bsHkN06idnkaS5VB1DwOGkzDMScRkSOJESEZDlHoCFDKu+g2fQybLjZkCW8cYYjJ6XJmkIwq0UjYc9UmAQfooG0OydtCjVLnNFf4EbU61I2Ou2P0llycd3fh1pcfgXXzGqbfs1Fu7mXtVTTUSYQG3U5SuJBQjg4Gcg0E1JRcCbozMfSEgSnubuP2eLfWrVch8wWTSChHneuVLjzKJLA5+jjVuiwo7F2emn5jZheuVO/G0ItPoBoXMW/9OvVxh44fGjQKLUgPtPp9bM7XMZytY4m2to2ojFgubJpQJbYwmPWpLhIu5ryQ1iuXJY5adh8x3VFv3tKRBAkyg3I1qmFVlPDczHcw6+3DztM/wLxfR6V4GFEUMyAnHiUXGlyr0p1NQanTQz93gKIdYph8oF+ii/aboc5b6YgdupwXOnyP5wcGmglngG7Cv2VwXSQC4SKNLFZhbKTbGnm8UnkUN6LPYuz0U2i9+Sbe1NpRDe9LB4gDBleq9Hk/TaDQ46Mz32C1Iep0wxFaaz+RKTGo5F2eciuyWoebH4c7PC6ngklHPqVeMRAxIV3NGVynLZBbODc3irl4O/pvvITB6y/hAz3Ljg8xaD9ltwBXuY5Ea66vXBxlPYM19Fg+fFpokXDaXNFtNWaoBNVAo9uRcBwyEY0oDGM6NrflUNCYuCi7RoqInmR50ZfgYtyFC5UHKb0Y+975KebZwynRC1/bnY5pV2H1+gInXbA+vguEvL1JyVVpRjKfBE3Kq7WD/s73a4S3yAQ8vmlEnDcOUcjI5VhF5GW4LVOZdbYn6DDnppIWXHZ3YLVwEINvPY0wXsMlbvcNjHDh5JfFMkdqmaO1wanmp+2wBgKYHK8uyTWY9TBq0e9ZdULCxRyzMed7RgKVcGT7JByTSBcofjdmcqQUn+NJ9SOj8+0ptxer+m603TiNjtV3cZWQrrD6hAtnorahrk4g5F4QcxFJuAYlVoyxjSvIymR4nyWUjbTiCAUpZd59ul1WlT9MGFj6P1+Xy1aUMEn+WkpWY/n/SXU1yrw1ox7AsjOC3jd+hmkRY4Z7r6fsZaWtDGwz80VKhtsMA8iZXhxysN1uomTKLUegIfvscYpS86JuoLZspXunwSEXezpEKFtA1rMdPt8POXyEQ59cjY+rjz1z8kK15cCp0XNPY9UvY5JrVBXb+f08D+9BQ5fQ19INR2jELRNidGSZMgvRJmVGzXdTBYLM5lbOdVvnOYScOghlv2X/G+sbtOx//Tp9p0EkavGpA3+9UE7ncMvvf3SiMf/PySvgjwbsYMVbWW0Xl8qQywoT0NzUdBJiNjRWwxZWL4WQp+7biYLFlcqkDA0m4bDyKj3fkmt3IJFJGZouuv4ak2LwcDGYjGLnREpm+c+zE6/Wr6qZY0ti4FSEfgYfRKTn4WjTfG7y+1HK8kzRx+GtS9jEhaKH41Wj88lGxg5lSO3n5H7Jz/HnA6QDy17L7TpqaikSYVOVnz8lNPvYPWfv+HF6523/tj/0Ci1/tKFf3epqU6OhWZc/JnlijMP3z+PQhiVkuN2YfK2pK7JRCGgqwxwwA4mOZW6/E4R6J8dzqWkhw9+GcSUzF+rJ26JuvrX/mfELd8b7D518n/NmY4xWAAAAAElFTkSuQmCC"}),(0,r.jsx)("span",Lt({className:Pt},{children:null===(o=i[e])||void 0===o?void 0:o.name}))]})):(0,r.jsxs)("div",Lt({className:Et},{children:[(0,r.jsx)("span",{children:"  -  "}),(0,r.jsx)("span",{children:"No plugin bound yet"})]}))]}))})})),t),placeholder:"Default - No plugin bound yet",size:"extraLarge"})},Ft="appearancePreview_container",Bt="appearancePreview_header",Vt="appearancePreview_header_title",Jt="appearancePreview_question",zt="appearancePreview_question_title";var Gt=function(){return Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gt.apply(this,arguments)};const Wt=function(){var e=Ge(),t=e.row,n=e.column,o=e.type,i=(e.code,Be()),a=Fe(),s=t.length>0&&0===n.length,c=t.length>0&&n.length>0;return(0,r.jsxs)("div",Gt({className:Ft},{children:[(0,r.jsxs)("div",Gt({className:Bt},{children:[(0,r.jsx)(qt,{selectPaper:"",handleSelectPaper:function(e){}}),(0,r.jsx)("div",Gt({className:Vt},{children:"Market Research - Product Testing"}))]})),(0,r.jsxs)("div",Gt({className:Jt},{children:[(0,r.jsx)(qe,{className:zt,list:i.structure.text[a].content.list.list}),s&&"Single"===o&&(0,r.jsx)(St,{options:t}),s&&"Multi"===o&&(0,r.jsx)(Ue,{options:t}),s&&"OpenEnd"===o&&(0,r.jsx)(pt,{options:t}),s&&"Numeric"===o&&(0,r.jsx)(ot,{options:t}),c&&"Single"===o&&(0,r.jsx)(At,{row:t,column:n}),c&&"Multi"===o&&(0,r.jsx)(tt,{row:t,column:n}),c&&"OpenEnd"===o&&(0,r.jsx)(jt,{row:t,column:n}),c&&"Numeric"===o&&(0,r.jsx)(ut,{row:t,column:n})]}))]}))},Rt="appearanceTesting_container",Ht="appearanceTesting_title",Qt="appearanceTesting_title_name",Ut="appearanceTesting_title_addButton",Yt="appearanceTesting_paperList",Zt="appearanceTesting_paperItem",Xt="appearanceTesting_paperName",Kt="appearanceTesting_paperApplied";var $t=function(){return $t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$t.apply(this,arguments)};const en=function(){var e=(0,L.$G)("",{keyPrefix:"appearance"}).t;return(0,r.jsxs)("div",$t({className:Rt},{children:[(0,r.jsxs)("div",$t({className:Ht},{children:[(0,r.jsx)("span",$t({className:Qt},{children:e("testing")})),(0,r.jsxs)("div",$t({className:Ut},{children:[(0,r.jsx)(l.JO,{type:"addition01"}),(0,r.jsx)("span",{children:e("button.add")})]}))]})),(0,r.jsx)("div",$t({className:Yt},{children:(0,r.jsxs)("div",$t({className:Zt},{children:[(0,r.jsxs)("div",$t({className:Xt},{children:[(0,r.jsx)("span",{children:e("paper.name")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Default"}),(0,r.jsx)("div",$t({tabIndex:-1},{children:(0,r.jsx)(l.JO,{type:"moreVertical"})}))]})]})),(0,r.jsxs)("div",$t({className:Kt},{children:[(0,r.jsx)("span",{children:e("paper.plugin")}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:"AAA"})})]}))]}))}))]}))},tn="appearance_container";var nn=function(){return nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nn.apply(this,arguments)};const rn=function(){var e=[{tagName:"Introduction",iconName:"documentation",children:(0,r.jsx)(R,{})},{tagName:"Preview",iconName:"eyeOpen",children:(0,r.jsx)(Wt,{})},{tagName:"Plugins",iconName:"plugin",children:(0,r.jsx)(De,{})},{tagName:"A/B Testing",iconName:"ABtesting",children:(0,r.jsx)(en,{})}];return(0,r.jsx)("div",nn({className:tn},{children:(0,r.jsx)(D,{tags:e})}))},on="builtInScriptInstruction_Container",an="builtInScriptInstruction_title",sn="builtInScriptInstruction_scriptIcon",cn="builtInScriptInstruction_scriptName",ln="builtInScriptInstruction_label",un="builtInScriptInstruction_updateButton",dn="builtInScriptInstruction_dot",pn="builtInScriptInstruction_tag",fn="builtInScriptInstruction_content",hn="builtInScriptInstruction_return";var mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mn.apply(this,arguments)};const vn=function(){var e,t=(0,i.useSelector)((function(e){return e.editState.target.id})),n=(0,i.useSelector)((function(e){return e.scriptState.builtInScripts.data})),o=(0,L.$G)().t,a=null!==(e=n[t].data.arguments)&&void 0!==e?e:[],s=n[t].data.return;return(0,r.jsxs)("div",mn({className:on},{children:[(0,r.jsxs)("div",mn({className:an},{children:[(0,r.jsx)("div",mn({className:sn},{children:(0,r.jsx)(l.JO,{type:"script",color:"#22A6B3",fontSize:"1.6rem"})})),(0,r.jsxs)("div",mn({className:cn},{children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)("div",mn({className:ln},{children:(0,r.jsxs)("span",{children:["0 ",o("nodes.buildInScriptNode.references")]})})),(0,r.jsxs)("div",mn({className:un},{children:[(0,r.jsx)("span",{children:o("nodes.buildInScriptNode.update")}),(0,r.jsx)("div",{className:dn})]}))]}))]})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",mn({className:pn},{children:o("nodes.scriptNode.implementation")})),(0,r.jsx)("div",mn({className:fn},{children:n[t].data.information})),(0,r.jsx)("div",mn({className:pn},{children:(0,r.jsx)("span",{children:o("nodes.scriptNode.arguments")})})),(0,r.jsx)("div",mn({className:fn},{children:a.map((function(e){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:e.type}),(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{children:e.instruction})]},e.name)}))})),(0,r.jsx)("div",mn({className:pn},{children:(0,r.jsx)("span",{children:o("nodes.scriptNode.returns")})})),s&&(0,r.jsxs)("div",mn({className:hn},{children:[(0,r.jsx)("span",{children:s.type}),(0,r.jsx)("span",{children:s.instruction})]}))]})]}))};const xn=function(){var e=[{tagName:"Instruction",iconName:"text",children:(0,r.jsx)(vn,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:e})})};var gn=n(640);const jn="toolTip_tip",yn="toolTip_scroll",Nn="toolTip_scrollBody";var _n=function(){return _n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_n.apply(this,arguments)};const bn=function(e){var t=e.show,n=void 0===t||t,o=e.content,i=e.children,a=e.minWidth,s=void 0===a?"2rem":a,c=e.maxWidth,u=e.maxHeight,d=e.height,p=e.textAlign,f=void 0===p?"left":p,h=e.offsetX,m=void 0===h?0:h,v=e.offsetY,x=void 0===v?0:v,g=e.placement,j=void 0===g?"ct":g,y=e.showTriangle,N=void 0===y||y,_=!!n&&(!!o&&void 0),b=Object.assign({},!N&&{triangle:{width:"0",height:"0"}});return(0,r.jsx)(l.J2,_n({placement:j,className:jn,show:_,root:i,offset:{x:m,y:x}},b,{children:(0,r.jsx)(l.lg,_n({defaultScrollTop:0,height:"auto",width:"auto",style:{minWidth:s,maxWidth:c,maxHeight:u,textAlign:f,height:d},className:yn,bodyClassName:Nn},{children:o}))}))},Sn="autoInput_input",On="autoInput_span";var Cn=function(){return Cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cn.apply(this,arguments)},wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},In=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const kn=function(e){var t=e.defaultValue,n=wn(e,["defaultValue"]),i=In((0,o.useState)(t),2),a=i[0],s=i[1],c=In((0,o.useState)(0),2),l=c[0],u=c[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",Cn({},n,{className:Sn,style:{width:l},value:a,onChange:function(e){var t=e.currentTarget.value;t.length<=70&&s(t)},onBlur:function(e){e.currentTarget.value.trim()?n.onBlur&&n.onBlur(e):s(t)}})),(0,r.jsx)("span",Cn({className:On,ref:function(e){(null==e?void 0:e.offsetWidth)?u(e.offsetWidth+10):u(0)}},{children:a}))]})},An="customScriptHead_title",Tn="customScriptHead_scriptIcon",En="customScriptHead_scriptName",Pn="customScriptHead_label_draft",Mn="customScriptHead_label_verified";var Dn=function(){return Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dn.apply(this,arguments)};const Ln=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),n=(0,L.$G)().t;return(0,r.jsxs)("div",Dn({className:An},{children:[(0,r.jsx)(bn,Dn({content:"Execution Script Item",minWidth:"12rem",maxWidth:"12rem",maxHeight:"2rem"},{children:(0,r.jsx)("div",Dn({className:Tn},{children:(0,r.jsx)(l.JO,{type:"script",color:"#22A6B3",fontSize:"1.6rem"})}))})),(0,r.jsxs)("div",Dn({className:En},{children:[(0,r.jsx)(kn,{defaultValue:e,onBlur:function(){}}),(0,r.jsx)(bn,Dn({content:"The script is a draft. You can’t use it yet.",minWidth:"12rem",maxWidth:"12rem",maxHeight:"4rem"},{children:"draft"===t[e].data.status?(0,r.jsx)("div",Dn({className:Pn},{children:(0,r.jsx)("span",{children:n("nodes.scriptNode.codeTest.draft")})})):(0,r.jsx)("div",Dn({className:Mn},{children:(0,r.jsx)("span",{children:n("nodes.scriptNode.codeTest.verified")})}))}))]}))]}))},qn="customScriptEdit_container";var Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fn.apply(this,arguments)};const Bn=function(){return(0,r.jsxs)("div",Fn({className:qn},{children:[(0,r.jsx)(Ln,{}),(0,r.jsx)(gn.Yp,{width:"100%",height:"50rem"})]}))},Vn="dropDownV3_container",Jn="dropDownV3_floatingContainer";var zn=function(){return zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zn.apply(this,arguments)},Gn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Wn=function(e){var t=e.className,n=e.floatingClassName,o=Gn(e,["className","floatingClassName"]),i=[Vn],a=[Jn];return t&&i.push(t),n&&a.push(n),(0,r.jsx)(l.Hq,zn({className:i.join(" "),floatingClassName:a.join(" ")},o))},Rn="customScriptInstruction_container",Hn="executionScript_tag",Qn="executionScript_list",Un="executionScript_content",Yn="executionScript_information",Zn="executionScript_chooseType",Xn="executionScript_returnSwitch",Kn="executionScript_return",$n="executionScript_switchContent",er="executionScript_instruction",tr="executionScript_instructionTip",nr="executionScript_instruction__placeholder";var rr=function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rr.apply(this,arguments)},or=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const ir=function(){var e,t=or((0,o.useState)(!1),2),n=t[0],a=(t[1],(0,i.useSelector)((function(e){return e.editState.target.id}))),s=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),c=(0,L.$G)().t,u=s[a].data.information,d=null!==(e=s[a].data.arguments)&&void 0!==e?e:[],p=s[a].data.return,f=[{id:"string",content:"String"},{id:"number",content:"Number"},{id:"boolean",content:"Boolean"},{id:"bigInt",content:"BigInt"},{id:"object",content:"Object"}];return(0,r.jsxs)("div",rr({className:Rn},{children:[(0,r.jsx)(Ln,{}),(0,r.jsx)("div",rr({className:Hn},{children:c("nodes.scriptNode.implementation")})),(0,r.jsx)("div",rr({className:Un},{children:(0,r.jsx)("textarea",{className:Yn,defaultValue:u||"",placeholder:"Please input text here..."})})),(0,r.jsx)("div",rr({className:Hn},{children:(0,r.jsx)("span",{children:c("nodes.scriptNode.arguments")})})),(0,r.jsx)("div",rr({className:Qn},{children:d.map((function(e,t){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{children:(0,r.jsx)(Wn,{defaultValue:e.type,labels:f,placeholder:c("appearance.introduction.hint.chooseType"),floatingClassName:Zn,handleValueChange:function(e){}})}),(0,r.jsxs)("div",rr({className:er},{children:[e.instruction?(0,r.jsx)("span",{children:e.instruction}):(0,r.jsx)("span",rr({className:nr},{children:c("appearance.introduction.hint.introduction")})),e.instruction&&(0,r.jsx)("div",rr({className:tr,onClick:function(e){e.stopPropagation()}},{children:(0,r.jsx)(l.lg,rr({defaultScrollTop:0,height:"10.6rem",width:"30rem"},{children:e.instruction}))}))]})),(0,r.jsx)("span",rr({onClick:function(){}},{children:(0,r.jsx)(l.JO,{type:"pen"})}))]},t)}))})),(0,r.jsxs)("div",rr({className:Hn},{children:[(0,r.jsx)("span",{children:c("nodes.scriptNode.returns")}),(0,r.jsxs)("div",rr({className:Xn},{children:[(0,r.jsx)("span",{children:c("nodes.scriptNode.hint")}),(0,r.jsx)(l.rs,rr({width:"3.8rem",defaultValue:!!p},{children:(0,r.jsx)("div",rr({className:$n},{children:n?"Y":"N"}))}))]}))]})),!!p&&(0,r.jsxs)("div",rr({className:Kn},{children:[(0,r.jsx)("span",{children:p.type}),(0,r.jsx)("span",{children:p.instruction})]}))]}))},ar="customScriptTest_container";var sr=function(){return sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sr.apply(this,arguments)};const cr=function(){return(0,r.jsx)("div",sr({className:ar},{children:(0,r.jsx)(Ln,{})}))};const lr=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=[{tagName:"Edit",iconName:"edit",children:(0,r.jsx)(Bn,{})},{tagName:"Instruction",iconName:"text",children:(0,r.jsx)(ir,{})},{tagName:"Code Test",iconName:"check",children:(0,r.jsx)(cr,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:t},e)})},ur={},dr="questionNode_switchContainer",pr="questionNode_switchInput",fr="questionNode_switchLabel";var hr=function(){return hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hr.apply(this,arguments)},mr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const vr=function(){var e=mr((0,o.useState)(!1),2),t=e[0],n=e[1];return(0,r.jsxs)("div",hr({className:dr},{children:[(0,r.jsx)("input",{className:pr,type:"checkbox",id:"switch"}),(0,r.jsx)("label",{className:fr,htmlFor:"switch",onClick:function(){return n(!t)}})]}))};var xr=n(127),gr=n(818),jr=n(9);const yr="command_container",Nr="command_title",_r="command_list",br="command_itemContainer",Sr="command_item",Or="command_item_script",Cr="command_item_icon",wr="command_item_detail",Ir="command_detail_title",kr="command_detail_description",Ar="command_item_arrow",Tr="command_item_content";var Er=function(){return Er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Er.apply(this,arguments)},Pr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Mr=function(e){var t=e.show,n=e.handleChangeShow,i=e.handleCreateScript,a=e.handleSelectScript,s=(0,o.useRef)(null),c=(0,gr.ui)(),u=(0,gr.UE)(),d=Pr((0,o.useState)({top:-1,left:-2}),2),p=d[0],f=d[1];return(0,o.useEffect)((function(){var e=window.getSelection();if(t&&e&&"Caret"===e.type){var n=e.getRangeAt(0).getBoundingClientRect(),r=n.top+window.pageYOffset,o=n.left+window.pageXOffset;f({top:r,left:o})}}),[c.selection,u]),jr.createPortal((0,r.jsxs)("div",Er({className:yr,ref:s,style:t?p:Er(Er({},p),{opacity:0,pointerEvents:"none",visibility:"hidden"}),onMouseDown:function(e){e.preventDefault()}},{children:[(0,r.jsx)("div",Er({className:Nr},{children:"Command"})),(0,r.jsxs)("div",Er({className:_r},{children:[(0,r.jsx)("div",Er({className:br},{children:(0,r.jsxs)("div",Er({className:Sr},{children:[(0,r.jsx)("span",Er({className:Cr},{children:(0,r.jsx)(l.JO,{type:"script"})})),(0,r.jsxs)("div",Er({className:wr},{children:[(0,r.jsx)("span",Er({className:Ir},{children:"Script"})),(0,r.jsx)("span",Er({className:kr},{children:"Add a script file and start"}))]})),(0,r.jsx)("div",Er({className:Ar},{children:(0,r.jsx)(l.JO,{type:"open"})})),(0,r.jsx)("div",Er({className:Or},{children:(0,r.jsxs)("div",Er({className:Tr},{children:[(0,r.jsx)("div",Er({onClick:function(){n(!1),i()}},{children:"Create new script"})),(0,r.jsx)("div",Er({onClick:function(){n(!1),a()}},{children:"Select existing script"}))]}))}))]}))})),(0,r.jsx)("div",Er({className:br},{children:(0,r.jsxs)("div",Er({className:Sr},{children:[(0,r.jsx)("span",Er({className:Cr},{children:(0,r.jsx)(l.JO,{type:"weblink"})})),(0,r.jsxs)("div",Er({className:wr},{children:[(0,r.jsx)("span",Er({className:Ir},{children:"Link"})),(0,r.jsx)("span",Er({className:kr},{children:"Link to other files"}))]}))]}))}))]}))]})),document.body)};var Dr=function(){return Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dr.apply(this,arguments)};const Lr=function(e){var t=e.leaf,n=e.children,o=e.attributes,i=n;t.bold&&(i=(0,r.jsx)("b",{children:i})),t.italic&&(i=(0,r.jsx)("em",{children:i})),t.underline&&(i=(0,r.jsx)("u",{children:i})),t.lineThrough&&(i=(0,r.jsx)("del",{children:i}));var a={};return t.fontSize&&(a.fontSize=t.fontSize),t.color&&(a.color=t.color),t.background&&(a.background=t.background),(0,r.jsx)("span",Dr({},o,{style:Dr(Dr({},a),{wordBreak:"break-word"})},{children:i}))},qr="scriptElement_container",Fr="scriptElement_script",Br="scriptElement_line",Vr="scriptElement_name",Jr="scriptElement_desc",zr="scriptElement_tip";var Gr=function(){return Gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gr.apply(this,arguments)},Wr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Rr=function(e){var t=e.attributes,n=e.children,i=(e.element,(0,gr._7)(),Wr((0,o.useState)(!1),2)),a=(i[0],i[1]),s=Wr((0,o.useState)(!1),2),c=(s[0],s[1]);return(0,r.jsxs)("div",Gr({className:qr},t,{contentEditable:!1},{children:[(0,r.jsx)("span",{children:n}),(0,r.jsxs)("div",Gr({className:Fr},{children:[(0,r.jsx)(l.J2,Gr({className:zr,root:(0,r.jsx)(l.JO,{type:"edit",onClick:function(){return c(!0)}})},{children:"Set Argument"})),(0,r.jsx)("div",{className:Br}),(0,r.jsx)("div",Gr({className:Vr,onClick:function(){return a(!0)}},{children:"AA"}))]})),(0,r.jsx)("div",Gr({className:Jr},{children:"BB"}))]}))};var Hr=function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hr.apply(this,arguments)};const Qr=function(e){var t=e.attributes,n=e.children,o=e.element;switch(o.type){case"centerAlign":return(0,r.jsx)("div",Hr({},t,{style:{textAlign:"center"}},{children:n}));case"leftAlign":return(0,r.jsx)("div",Hr({},t,{style:{textAlign:"left"}},{children:n}));case"rightAlign":return(0,r.jsx)("div",Hr({},t,{style:{textAlign:"right"}},{children:n}));case"script":return(0,r.jsx)(Rr,Hr({attributes:t,element:o},{children:n}));default:return(0,r.jsx)("div",Hr({},t,{children:n}))}};const Ur="toolButton_toolItem",Yr="toolButton_toolItem__active",Zr="toolBar_tip";var Xr=n(6),Kr=function(){return Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kr.apply(this,arguments)};const $r=function(e){var t,n=e.iconName,o=e.tipContent,i=e.isActive,a=e.onClick;return(0,r.jsx)(l.J2,Kr({className:Zr,root:(0,r.jsx)("span",Kr({className:(0,Xr.Z)((t={},t[Ur]=!0,t[Yr]=!!i,t)),onClick:a},{children:(0,r.jsx)(l.JO,{type:n})}))},{children:o}))},eo="fontBackgroundButton_list",to="fontBackgroundButton_item";var no=function(){return no=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},no.apply(this,arguments)},ro=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const oo=function(){var e=ro((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,gr.ui)();return(0,r.jsx)(l.Sd,no({root:(0,r.jsx)("span",{children:(0,r.jsx)($r,{iconName:"chooseColor",tipContent:"Filled",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",no({className:eo},{children:[{name:"Default",color:"#22A6B3"},{name:"Gray",color:"#BDBDBD"},{name:"Red",color:"#FF525D"},{name:"Orange",color:"#FF7745"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#30B876"},{name:"Blue",color:"#0099FF"},{name:"Purple",color:"#AA70E0"},{name:"Customize",color:"#757575"}].map((function(e){return(0,r.jsxs)("div",no({className:to,onClick:function(){xr.Editor.addMark(i,"background",e.color)}},{children:[(0,r.jsx)(l.JO,{type:"chooseColor",color:e.color}),(0,r.jsx)("span",no({style:{color:e.color}},{children:e.name}))]}),e.name)}))}))}))},io="fontColorButton_list",ao="fontColorButton_item";var so=function(){return so=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},so.apply(this,arguments)},co=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const lo=function(){var e=co((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,gr.ui)();return(0,r.jsx)(l.Sd,so({root:(0,r.jsx)("span",{children:(0,r.jsx)($r,{iconName:"fontColor",tipContent:"Font Color",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",so({className:io},{children:[{name:"Default",color:"#22A6B3"},{name:"Gray",color:"#BDBDBD"},{name:"Red",color:"#FF525D"},{name:"Orange",color:"#FF7745"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#30B876"},{name:"Blue",color:"#0099FF"},{name:"Purple",color:"#AA70E0"},{name:"Customize",color:"#757575"}].map((function(e){return(0,r.jsxs)("div",so({className:ao,onClick:function(){xr.Editor.addMark(i,"color",e.color)}},{children:[(0,r.jsx)(l.JO,{type:"fontColor",color:e.color}),(0,r.jsx)("span",so({style:{color:e.color}},{children:e.name}))]}),e.name)}))}))}))},uo="fontSizeButton_list",po="fontSizeButton_item";var fo=function(){return fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fo.apply(this,arguments)},ho=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const mo=function(){var e=ho((0,o.useState)(!1),2),t=e[0],n=e[1],i=(0,gr.ui)();return(0,r.jsx)(l.Sd,fo({root:(0,r.jsx)("span",{children:(0,r.jsx)($r,{iconName:"fontSize",tipContent:"Font Color",onClick:function(){return n(!t)}})}),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsx)("div",fo({className:uo},{children:[{icon:"Xsmall",content:"Xsmall",fontSize:"12px"},{icon:"Small",content:"Small",fontSize:"13px"},{icon:"Regular",content:"Medium",fontSize:"16px"},{icon:"Large",content:"Large",fontSize:"18px"},{icon:"Xlarge",content:"Xlarge",fontSize:"24px"}].map((function(e){return(0,r.jsxs)("div",fo({className:po,onClick:function(){xr.Editor.addMark(i,"fontSize",e.fontSize)}},{children:[(0,r.jsx)(l.JO,{type:e.icon}),(0,r.jsx)("span",{children:e.content})]}),e.content)}))}))}))},vo="turnIntoButton_container",xo="turnIntoButton_list",go="turnIntoButton_item";var jo=function(){return jo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jo.apply(this,arguments)},yo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const No=function(){var e=yo((0,o.useState)(!1),2),t=e[0],n=e[1];return(0,r.jsx)(l.Sd,jo({root:(0,r.jsxs)("div",jo({className:vo,onClick:function(){return n(!t)}},{children:[(0,r.jsx)("span",{children:"Turn into"}),(0,r.jsx)(l.JO,{type:"aUpAndDownUp"})]})),show:t,placement:"lb",direction:"vertical",handleGlobalClick:function(){return n(!1)}},{children:(0,r.jsxs)("div",jo({className:xo},{children:[(0,r.jsx)("div",jo({className:go},{children:"Script"})),(0,r.jsx)("div",jo({className:go},{children:"Link"}))]}))}))},_o="toolBar_container",bo="toolBar_comment",So="toolBar_font",Oo="toolBar_clear",Co="toolBar_color",wo="toolBar_alignment",Io="toolBar_copy",ko="toolBar_turnInto";var Ao=function(){return Ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ao.apply(this,arguments)},To=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Eo=function(){var e=(0,o.useRef)(null),t=(0,gr.ui)(),n=(0,gr.UE)(),i=To((0,o.useState)(!1),2),a=i[0],s=i[1],c=To((0,o.useState)(!1),2),u=c[0],d=c[1],p=To((0,o.useState)({top:-1,left:-2}),2),f=p[0],h=p[1],m=(0,o.useRef)(0),v=(0,o.useRef)((function(e){e?d(!0):(d(!1),s(!1))}));(0,o.useEffect)((function(){var e=function(){v.current(!0)},t=function(){v.current(!1)};return document.addEventListener("mouseup",e),document.addEventListener("mousedown",t),function(){document.removeEventListener("mouseup",e),document.removeEventListener("mousedown",t)}}),[]),(0,o.useEffect)((function(){window.clearTimeout(m.current),m.current=window.setTimeout((function(){var r=e.current,o=t.selection;if(r)if(o&&n&&!xr.Range.isCollapsed(o)&&""!==xr.Editor.string(t,o)){var i=window.getSelection();if(i&&"Range"===i.type){var c=i.getRangeAt(0).getBoundingClientRect(),l=c.top+window.pageYOffset,u=c.left+window.pageXOffset,d=r.clientWidth,p=document.body.clientWidth-(d+u);p<0&&(u=u+p-2),h({top:l,left:u}),a||s(!0)}else a&&s(!1)}else a&&s(!1)}),50)}),[t.selection,n]);var x=function(e,t){return!!To(xr.Editor.nodes(e,{match:function(e){return!0===e[t]},mode:"all"}),1)[0]},g=function(e,t){var n,r=x(e,t);xr.Transforms.setNodes(e,((n={})[t]=!r||null,n),{match:xr.Text.isText,split:!0})},j=function(e,t){var n=e.selection;return!!n&&!!To(Array.from(xr.Editor.nodes(e,{at:xr.Editor.unhangRange(e,n),match:function(e){return!xr.Editor.isEditor(e)&&xr.Element.isElement(e)&&e.type===t}})),1)[0]},y=function(e,t){var n=j(e,t);xr.Transforms.setNodes(e,{type:n?null:t},{match:function(t){return xr.Editor.isBlock(e,t)}})};return jr.createPortal((0,r.jsxs)("div",Ao({className:_o,ref:e,style:u&&a?f:Ao(Ao({},f),{opacity:0,pointerEvents:"none",visibility:"hidden"}),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()}},{children:[(0,r.jsxs)("div",Ao({className:bo},{children:[(0,r.jsx)(l.JO,{type:"comment"}),(0,r.jsx)("span",{children:"comment"})]})),(0,r.jsxs)("div",Ao({className:So},{children:[(0,r.jsx)(mo,{}),(0,r.jsx)($r,{iconName:"bold",tipContent:"bold",isActive:x(t,"bold"),onClick:function(){return g(t,"bold")}}),(0,r.jsx)($r,{iconName:"incline",tipContent:"Italic",isActive:x(t,"italic"),onClick:function(){return g(t,"italic")}}),(0,r.jsx)($r,{iconName:"underline",tipContent:"Underline",isActive:x(t,"underline"),onClick:function(){return g(t,"underline")}}),(0,r.jsx)($r,{iconName:"lineThrough",tipContent:"Crossline",isActive:x(t,"lineThrough"),onClick:function(){return g(t,"lineThrough")}})]})),(0,r.jsx)("div",Ao({className:Oo},{children:(0,r.jsx)($r,{iconName:"clearFormat",tipContent:"Remove",onClick:function(){var e,n,r,o;xr.Transforms.setNodes(t,((e={}).bold=!1,e),{match:xr.Text.isText,split:!0}),xr.Transforms.setNodes(t,((n={}).italic=!1,n),{match:xr.Text.isText,split:!0}),xr.Transforms.setNodes(t,((r={}).underline=!1,r),{match:xr.Text.isText,split:!0}),xr.Transforms.setNodes(t,((o={}).lineThrough=!1,o),{match:xr.Text.isText,split:!0}),xr.Editor.removeMark(t,"fontSize"),xr.Editor.removeMark(t,"color"),xr.Editor.removeMark(t,"background")}})})),(0,r.jsxs)("div",Ao({className:Co},{children:[(0,r.jsx)(lo,{}),(0,r.jsx)(oo,{})]})),(0,r.jsxs)("div",Ao({className:wo},{children:[(0,r.jsx)($r,{iconName:"textLeft",tipContent:"Left Align",isActive:j(t,"leftAlign"),onClick:function(){return y(t,"leftAlign")}}),(0,r.jsx)($r,{iconName:"textCenter",tipContent:"Center Align",isActive:j(t,"centerAlign"),onClick:function(){return y(t,"centerAlign")}}),(0,r.jsx)($r,{iconName:"textRight",tipContent:"Right Align",isActive:j(t,"rightAlign"),onClick:function(){return y(t,"rightAlign")}})]})),(0,r.jsx)("div",Ao({className:Io},{children:(0,r.jsx)($r,{iconName:"copy",tipContent:"copy",onClick:function(){var e,n=t.selection;n&&!xr.Range.isCollapsed(n)&&new Promise((function(t,n){var r=document.getSelection();if(e){var o=null==r?void 0:r.toString();if(navigator.clipboard)navigator.clipboard.writeText(e).then((function(){t(e)}));else if(document.execCommand){var i=o===e?function(){document.execCommand("copy")}:function(){var t=document.createElement("input");document.body.appendChild(t),t.style.position="absolute",t.style.zIndex="-99",t.style.opacity="0",t.value=e,t.select(),document.execCommand("copy")};Promise.resolve(i()).then((function(){t(e)}))}else n({type:"error",message:"没有相应的复制API"})}else if(r&&"Range"===r.type){var a=r.toString();navigator.clipboard?navigator.clipboard.writeText(a).then((function(){t(a)})):document.execCommand?(i=function(){document.execCommand("copy")},Promise.resolve(i()).then((function(){t(a)}))):n({type:"error",message:"没有相应的复制API"})}else n({type:"error",message:"没有要复制的文本"})})).then((function(e){"string"==typeof e&&l.yw.auto({type:"success",content:"Copy `".concat(e,"` success!")})}))}})})),(0,r.jsx)("div",Ao({className:ko},{children:(0,r.jsx)(No,{})}))]})),document.body)};const Po=function(e){var t=e.isVoid,n=e.isInline,r=e.apply;return e.isVoid=function(e){return"script"===e.type||t(e)},e.isInline=function(e){return"script"===e.type||n(e)},e.apply=function(e){r(e)},e};var Mo=n(20),Do=n(824),Lo=function(e){void 0===e&&(e="");var t=(0,Do.Z)(),n={html:e};return new Mo.h5(t,"HtmlItem",null,{comment:"",task:""},n)},qo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fo=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Bo=function(e){if(e.text){var t=document.createElement("span"),n=e.text;t.innerText=n;var r=null,o=null,i=null,a=null,s=null;return e.background&&(t.style.backgroundColor=e.background),e.color&&(t.style.color=e.color),e.fontSize&&(t.style.fontSize=e.fontSize),e.bold&&((r=document.createElement("b")).appendChild(t),s=r),e.italic&&(o=document.createElement("em"),s?o.appendChild(s):o.appendChild(t),s=o),e.lineThrough&&(i=document.createElement("del"),s?i.appendChild(s):i.appendChild(t),s=i),e.underline&&(a=document.createElement("u"),s?a.appendChild(s):a.appendChild(t),s=a),null!=s?s:t}return null},Vo=function(e){for(var t=[],n=0;n<e.length;n++)if(xr.Text.isText(e[n])){var r=e[n],o=Bo(r);if(o){var i=document.createElement("div");i.appendChild(o),t.push(Lo(i.innerHTML))}}return t},Jo=function(e,t){var n=[];return t&&n.push(Lo('<div style="display: inline-block">')),e.forEach((function(e){n.push.apply(n,Fo([],qo(function(e){var t=[];switch(e.type){case"leftAlign":return t.push(Lo('<div style="text-align: left;">')),e.children&&t.push.apply(t,Fo([],qo(Vo(e.children)),!1)),t.push(Lo("</div>")),t;case"rightAlign":return t.push(Lo('<div style="text-align: right;">')),e.children&&t.push.apply(t,Fo([],qo(Vo(e.children)),!1)),t.push(Lo("</div>")),t;case"centerAlign":return t.push(Lo('<div style="text-align: center;">')),e.children&&t.push.apply(t,Fo([],qo(Vo(e.children)),!1)),t.push(Lo("</div>")),t;default:return t.push(Lo("<div>")),e.children&&t.push.apply(t,Fo([],qo(Vo(e.children)),!1)),t.push(Lo("</div>")),t}}(e)),!1))})),t&&n.push(Lo("</div>")),n},zo=function(){return zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zo.apply(this,arguments)},Go=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ro=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ho=["B","EM","DEL","U"],Qo={B:"bold",EM:"italic",DEL:"lineThrough",U:"underline"},Uo=function(e){var t={},n=e.style.textAlign,r=e.style.backgroundColor,o=e.style.color,i=e.style.fontSize;return n&&(t.align="".concat(n,"Align")),r&&(t.background=r),o&&(t.color=o),i&&(t.fontSize=i),t},Yo=function(e){var t,n,r=[];try{for(var o=Go(e),i=o.next();!i.done;i=o.next()){var a=i.value;if("SPAN"===a.tagName){var s=zo({text:a.innerText},Uo(a));r.push(s)}if(Ho.includes(a.tagName)){var c={};Qo[a.tagName]&&(c[Qo[a.tagName]]=!0);for(var l=a;l.children.length>0;)Qo[l.children[0].tagName]&&(c[Qo[l.children[0].tagName]]=!0),"SPAN"===l.children[0].tagName&&(c=zo(zo({text:l.children[0].innerText},c),Uo(l.children[0]))),l=l.children[0];r.push(c)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},Zo=function(e,t,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=[],o="",i=[],a=JSON.parse(JSON.stringify(e));return n||(a.shift(),a.pop()),a.forEach((function(e,n){if("HtmlItem"===e.kind){var s=e.data.html;if(o+=s,s.includes("</div")){o+=s;var c=document.createElement("div");c.innerHTML=o;var l=c.children[0];if(l){var u=function(e){var t=Uo(e);return{type:t.align?t.align:"paragraph",children:Yo(e.children)}}(l);i.map((function(e){if(a[e]){var t=JSON.parse(JSON.stringify(u.children));u.children=Ro([],Wo(t),!1)}})),0===u.children.length&&(u.children=[{text:""}]),r.push(u)}o="",i=[]}}"ScriptContent"===e.kind&&(t||i.push(n))})),0===r.length?[{type:"paragraph",children:[{text:""}]}]:r},Xo=function(){return Xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xo.apply(this,arguments)},Ko=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const $o=function(e){var t=e.handleHtml,n=e.placeholder,i=e.isScript,a=void 0===i||i,s=e.padding,c=void 0===s?"0 2.5rem":s,l=e.value,u=e.readOnly,d=void 0!==u&&u,p=e.handleOnblur,f=e.minHeight,h=void 0===f?"4rem":f,m=e.isFocus,v=void 0!==m&&m,x=(0,o.useMemo)((function(){return Po((0,gr.BU)((0,xr.createEditor)()))}),[]),g=(0,o.useRef)(),j=Ko((0,o.useState)((function(){return l?Array.isArray(l)?Zo(l):function(e,t){var n,r,o=document.createElement("div");o.innerHTML=e;var i=[],a=o.children;try{for(var s=Go(a),c=s.next();!c.done;c=s.next()){var l=c.value,u=document.createElement("div");u.appendChild(l.cloneNode(!0)),i.push(Lo(u.innerHTML))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return Zo(i,t,!0)}(l):[{type:"paragraph",children:[{text:""}]}]})),1),y=j[0],N=Ko((0,o.useState)(!1),2),_=N[0],b=N[1],S=Ko((0,o.useState)(!1),2),O=(S[0],S[1]),C=Ko((0,o.useState)(!1),2),w=(C[0],C[1]),I=(0,o.useCallback)((function(e){return(0,r.jsx)(Qr,Xo({},e))}),[]),k=(0,o.useCallback)((function(e){return(0,r.jsx)(Lr,Xo({},e))}),[]);return(0,o.useEffect)((function(){v&&setTimeout((function(){gr.F3.focus(x)}))}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(gr.mH,Xo({editor:x,value:y,onChange:function(e){g.current&&window.clearTimeout(g.current),g.current=window.setTimeout((function(){var n=Jo(e,Array.isArray(l));t&&t(n)}),50)}},{children:[(0,r.jsx)(Eo,{}),(0,r.jsx)(Mr,{show:_,handleChangeShow:b,handleCreateScript:function(){O(!0)},handleSelectScript:function(){w(!0)}}),(0,r.jsx)(gr.CX,{style:{width:"100%",height:"100%",lineHeight:"4rem",fontSize:"1.6rem",padding:c,minHeight:h,boxSizing:"border-box"},readOnly:d,renderElement:I,renderLeaf:k,placeholder:n,onKeyDown:function(e){b(!1),"/"===e.key&&a&&(e.currentTarget.blur(),e.preventDefault(),b(!0)),e.key},onFocus:function(){b(!1)},onBlur:function(){_&&b(!1),p&&p()}})]}))})};var ei=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const ti="nodeInstruction_textContainer",ni="nodeInstruction_hintContainer",ri="nodeInstruction_edit",oi="nodeInstruction_hint";var ii=function(){return ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ii.apply(this,arguments)};const ai=function(){var e=ei(),t=(0,i.useDispatch)(),n=(0,L.$G)().t;return(0,r.jsxs)("div",ii({className:ti},{children:[(0,r.jsxs)("div",ii({className:ni},{children:[(0,r.jsx)("span",{children:n("nodes.markNode.hint.title")}),(0,r.jsx)(l.J2,ii({className:oi,root:(0,r.jsx)(l.JO,{type:"query"})},{children:n("nodes.markNode.hint.instructions")}))]})),(0,r.jsx)("div",ii({className:ri},{children:(0,r.jsx)($o,{isScript:!1,minHeight:"9.6rem",value:e.editor.instruction.data.html,placeholder:n("nodes.markNode.placeholder.instruction"),handleHtml:function(n){var r=n.map((function(e){return e.data.html})).join("");e.editor.instruction.data.html=r,t(c.tV(e))}})}))]}))},si="nodeTitle_container",ci="nodeTitle_box",li="nodeTitle_input",ui="nodeTitle_icon";var di=function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},di.apply(this,arguments)};const pi=function(e){var t=e.icon,n=e.code,o=void 0===n?"":n,a=e.edit,s=void 0===a||a,l=(0,i.useSelector)((function(e){return e.editState.target.id})),u=(0,i.useSelector)((function(e){return e.nodesState.orders})),d=u.rootOrder,p=u.nodeOrder,f=(0,i.useSelector)((function(e){return e.nodesState.nodes})),h=(0,i.useDispatch)();return(0,r.jsxs)("div",di({className:si},{children:[(0,r.jsx)("div",di({className:ui},{children:t})),(0,r.jsx)("div",di({className:ci},{children:s?(0,r.jsx)("input",{className:li,defaultValue:o,onBlur:function(e){var t=e.currentTarget.value.trim();if(t&&t!==o)if(-1===Object.keys(p).findIndex((function(e){return p[e].code===t}))){p[l].code=t,h(c.Cs({rootOrder:d,nodeOrder:p}));var n=f[l];n.structure.code=t,h(c.tV(n))}else e.currentTarget.value=o;else e.currentTarget.value=o}}):(0,r.jsx)("span",{children:o})}))]}))},fi="QuestionNode_optionDimContainer",hi="QuestionNode_optionDimPty",mi="QuestionNode_checked",vi="QuestionNode_check",xi="QuestionNode_tip",gi="QuestionNode_optionButtons",ji="QuestionNode_optionDimLabel",yi="QuestionNode_contentConfig",Ni="QuestionNode_import",_i="QuestionNode_import_tip",bi="QuestionNode_save";var Si=n(11),Oi=n(8);const Ci="questionOptionItem_container",wi="questionOptionItem_container_drag",Ii="questionOptionItem_container_hover",ki="questionOptionItem_questionList_item",Ai="questionOptionItem_buttonIcon",Ti="questionOptionItem_drag_icon",Ei="questionOptionItem_buttonContainer",Pi="questionOptionItem_contentContainer",Mi="questionOptionItem_optionFixPosition";var Di=n(10),Li={iconName:"plus",icon:[448,512,[],"f011","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},qi={iconName:"edit",icon:[1024,1024,[],"f055","M674.6112 600.4224c-7.3216 0-14.336 1.3312-19.456-3.84L428.2368 371.2a26.2144 26.2144 0 0 1 0-37.7856l237.9264-237.4144a110.592 110.592 0 0 1 78.0288-31.488c28.0064 0 53.76 10.4448 72.448 29.184l113.9712 114.0736c19.2512 19.2 30.72 47.104 31.3856 76.544 0.768 30.208-9.9328 58.5728-29.2864 77.9264l-238.592 234.3936c-5.2224 5.12-12.1856 3.7888-19.456 3.7888zM486.5536 353.9456l188.1088 188.5696 219.136-219.136c8.8064-8.7552 13.6192-22.528 13.2096-37.6832-0.3584-15.2064-6.0416-29.7984-15.2576-38.9632L777.728 132.7104a46.7968 46.7968 0 0 0-33.536-12.9536c-14.9504 0-29.184 5.7344-39.1168 15.6672L486.5536 353.9456zM585.7792 957.952a27.5456 27.5456 0 0 1-19.456-8.0896c-27.648-27.648-66.56-66.816-111.616-112.3328-115.712-116.5824-274.0736-276.2752-384.4608-383.744a27.392 27.392 0 0 1-0.256-39.168 378.88 378.88 0 0 1 403.712-85.6064 27.4944 27.4944 0 0 1-19.7632 51.3024A323.84 323.84 0 0 0 129.4336 434.688c109.1072 106.8544 255.5392 254.464 364.288 364.0832 34.9184 35.2256 66.1504 66.7136 91.2896 91.9552a321.536 321.536 0 0 0 59.2896-311.7056 27.4944 27.4944 0 1 1 52.1216-17.5104c46.08 137.216 11.1616 286.0032-91.1872 388.352-5.12 5.12-12.1344 8.0384-19.456 8.0384zM83.2 957.6448a27.4432 27.4432 0 0 1-19.3024-47.104l236.2368-232.9088a27.4944 27.4944 0 1 1 38.6048 39.168l-236.2368 232.9088a27.392 27.392 0 0 1-19.3024 7.936z"]},Fi={iconName:"minus",icon:[448,512,[],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Bi={iconName:"grip-vertical",icon:[320,512,[],"f58e","M88 352C110.1 352 128 369.9 128 392V440C128 462.1 110.1 480 88 480H40C17.91 480 0 462.1 0 440V392C0 369.9 17.91 352 40 352H88zM280 352C302.1 352 320 369.9 320 392V440C320 462.1 302.1 480 280 480H232C209.9 480 192 462.1 192 440V392C192 369.9 209.9 352 232 352H280zM40 320C17.91 320 0 302.1 0 280V232C0 209.9 17.91 192 40 192H88C110.1 192 128 209.9 128 232V280C128 302.1 110.1 320 88 320H40zM280 192C302.1 192 320 209.9 320 232V280C320 302.1 302.1 320 280 320H232C209.9 320 192 302.1 192 280V232C192 209.9 209.9 192 232 192H280zM40 160C17.91 160 0 142.1 0 120V72C0 49.91 17.91 32 40 32H88C110.1 32 128 49.91 128 72V120C128 142.1 110.1 160 88 160H40zM280 32C302.1 32 320 49.91 320 72V120C320 142.1 302.1 160 280 160H232C209.9 160 192 142.1 192 120V72C192 49.91 209.9 32 232 32H280z"]},Vi={iconName:"clipboard-list",icon:[384,512,[],"f46d","M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM96 392c-13.25 0-24-10.75-24-24S82.75 344 96 344s24 10.75 24 24S109.3 392 96 392zM96 296c-13.25 0-24-10.75-24-24S82.75 248 96 248S120 258.8 120 272S109.3 296 96 296zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM304 384h-128C167.2 384 160 376.8 160 368C160 359.2 167.2 352 176 352h128c8.801 0 16 7.199 16 16C320 376.8 312.8 384 304 384zM304 288h-128C167.2 288 160 280.8 160 272C160 263.2 167.2 256 176 256h128C312.8 256 320 263.2 320 272C320 280.8 312.8 288 304 288z"]},Ji={iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 368C269.3 368 280 357.3 280 344V280H344C357.3 280 368 269.3 368 256C368 242.7 357.3 232 344 232H280V168C280 154.7 269.3 144 256 144C242.7 144 232 154.7 232 168V232H168C154.7 232 144 242.7 144 256C144 269.3 154.7 280 168 280H232V344C232 357.3 242.7 368 256 368z"]};const zi="codeInput_container";var Gi=function(){return Gi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gi.apply(this,arguments)};const Wi=function(e){var t=e.defaultCode,n=e.handleChangeCode;return(0,r.jsx)("div",Gi({className:zi},{children:(0,r.jsx)("input",{type:"text",tabIndex:-1,defaultValue:t,onBlur:function(e){var r=e.currentTarget.value.trim();r&&r!==t?n&&n(e):e.currentTarget.value=t}})}))},Ri="textEdit_container";var Hi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Qi=function(e){var t,n=e.handleHtml,i=e.height,a=e.placeholder,s=(e.isScript,e.value),c=e.readOnly,l=void 0!==c&&c,u=e.isText,d=void 0!==u&&u,p=e.padding,f=void 0===p?"0 2.5rem":p,h=Hi((0,o.useState)(!1),2),m=h[0],v=h[1];return(0,r.jsx)(r.Fragment,{children:m&&!d?(0,r.jsx)($o,{height:i,padding:f,placeholder:a,isScript:!1,value:s,isFocus:!0,readOnly:l,handleHtml:function(e){n&&n(e)},handleOnblur:function(){v(!1)}}):(0,r.jsx)("div",{style:{padding:f},contentEditable:!0,className:Ri,dangerouslySetInnerHTML:{__html:(t="",s.forEach((function(e){"HtmlItem"===e.kind&&(t+=e.data.html)})),t)},onMouseDown:function(){v(!0)},onFocus:function(){return v(!0)}})})};var Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ui.apply(this,arguments)};const Yi=function(e){var t,n=e.item,a=e.options,s=void 0===a?[]:a,c=e.hover,d=void 0!==c&&c,p=e.dimIndex,f=e.handleChangeValue,h=e.handleAddOption,m=e.handleDeleteOption,v=e.handleCode,x=(e.handleOptionProperty,(0,o.useRef)(null)),g=(0,i.useSelector)((function(e){return e.lanState.editLan})),j=Be(),y=(0,Oi.useSortable)({id:n.id}),N=y.attributes,_=y.listeners,b=y.setNodeRef,S=y.transform,O=y.transition,C=y.isDragging,w=y.activeIndex,I=y.setActivatorNodeRef,k={transform:Di.CSS.Transform.toString(S),transition:O},A="ENG"===g?"default":g,T=n.data.code;return(0,r.jsx)("div",Ui({className:u((t={},t[Ci]=!0,t[wi]=C,t[Ii]=d,t)),ref:b,style:k},{children:(0,r.jsxs)("div",Ui({className:ki,ref:x},{children:[(0,r.jsxs)("div",Ui({className:Ei},{children:[(0,r.jsx)("span",Ui({className:Ai,onClick:h},{children:(0,r.jsx)(l.JO,{icon:Li})})),(0,r.jsx)("span",Ui({ref:I},N,_,{tabIndex:-1,className:Ti},{children:(0,r.jsx)(l.JO,{icon:Bi})})),(0,r.jsx)("span",Ui({className:Ai,onClick:m},{children:(0,r.jsx)(l.JO,{icon:Fi})}))]})),(0,r.jsx)(Wi,{defaultCode:T,handleChangeCode:function(e){var t=e.currentTarget.value.trim(),n=[];s.forEach((function(e){if("OptionList"===e.kind)e.list.forEach((function(e){var t=e.data.code;n.push(t)}));else{var t=e.data.code;n.push(t)}})),n.includes(t)?e.currentTarget.value=T:v&&v(t)}}),(0,r.jsxs)("div",Ui({className:Pi},{children:[(0,r.jsx)(Qi,{height:"4rem",isText:w>=0,isScript:!1,padding:"0 1.5rem",value:n.data.text[A].content.list.list,handleHtml:function(e){f&&f(e)}},A),void 0!==p&&j.structure.content.meta.randomized[p].fixedPositionFor[n.data.code]&&(0,r.jsx)("div",Ui({className:Mi},{children:(0,r.jsx)(l.JO,{icon:qi})}))]}))]}))}))};var Zi=n(123),Xi=n(825);const Ki={reusableList_container:"reusableList_container",reusableList_container_draging:"reusableList_container_draging",reusableList_head:"reusableList_head",reusableList_drag_icon:"reusableList_drag_icon",reusableList_container_hover:"reusableList_container_hover",reusableList_operator:"reusableList_operator",reusableList_more:"reusableList_more",reusableList_unfold:"reusableList_unfold",reusableList_item:"reusableList_item",reusableList_item_buttons:"reusableList_item_buttons",reusableList_item_code:"reusableList_item_code",reusableList_item_content:"reusableList_item_content"};var $i=function(){return $i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$i.apply(this,arguments)},ea=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const ta=function(e){var t,n,i,a,s=e.reusableList,c=(e.handleEdit,e.handleTransition,e.handleDelete,e.dimIndex),d=void 0===c?0:c,p=e.more,f=void 0===p||p,h=e.isEdit,m=void 0===h||h,v=e.hover,x=void 0!==v&&v,g=(0,Oi.useSortable)({id:s.id}),j=g.attributes,y=g.listeners,N=g.setNodeRef,_=g.transform,b=g.transition,S=g.isDragging,O=g.setActivatorNodeRef,C={transform:Di.CSS.Transform.toString(_),transition:b},w=ea((0,o.useState)(!1),2),I=w[0],k=w[1],A=ea((0,o.useState)(!1),2),T=A[0],E=A[1],P=Be(),M=null===(n=s.meta)||void 0===n?void 0:n.name,D=null===(a=null===(i=P.structure.content.meta.grouped[d].members[s.id])||void 0===i?void 0:i.title)||void 0===a?void 0:a.text;return(0,r.jsxs)("div",$i({style:C,ref:N,className:u((t={},t[Ki.reusableList_container]=!0,t[Ki.reusableList_container_draging]=S,t[Ki.reusableList_container_hover]=x,t))},{children:[(0,r.jsxs)("div",$i({className:Ki.reusableList_head},{children:[(0,r.jsxs)("div",{children:[m&&(0,r.jsx)("span",$i({ref:O},j,y,{className:Ki.reusableList_drag_icon},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsxs)("span",{children:["Reusable List: ",m?M:D]})]}),(0,r.jsxs)("div",$i({className:Ki.reusableList_operator},{children:[(0,r.jsx)("div",$i({className:Ki.reusableList_more,onMouseDown:function(e){return e.stopPropagation()}},{children:m&&(0,r.jsx)(l.JO,{type:"moreHorizontal",onClick:function(){return f&&k(!I)}})})),(0,r.jsx)(l.JO,{type:"down",style:{transform:"rotate(".concat(T?"180":"0","deg)")},className:Ki.reusableList_unfold,onMouseDown:function(e){return e.stopPropagation()},onClick:function(){return E(!T)}})]}))]})),!S&&T&&(0,r.jsx)("div",$i({className:Ki.reusableList_list,onMouseDown:function(e){return e.stopPropagation()}},{children:s.list.map((function(e){return(0,r.jsxs)("div",$i({className:Ki.reusableList_item},{children:[(0,r.jsxs)("div",$i({className:Ki.reusableList_item_buttons},{children:[(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p}),(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q}),(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4})]})),(0,r.jsx)("div",$i({className:Ki.reusableList_item_code},{children:e.data.code}))]}),"".concat(s.id).concat(e.id))}))}))]}))};var na=function(e){void 0===e&&(e="");var t=(0,Do.Z)(),n={html:e};return new Mo.h5(t,"HtmlItem",null,{comment:"",task:""},n)},ra=function(){var e=(0,Do.Z)(),t={comment:"",task:"",instruction:na()};return new Mo.X7(e,"OptionList",{name:"",link:null},t,[])},oa=function(e){var t=(0,Do.Z)(),n={type:e,options:[[],[]],optionsDisplay:{}};return new Mo.ks(t,"QuestionContent",{randomized:[{active:!1,type:"auto",order:{recordedFormat:"",script:"",predefined:[]},fixedPositionFor:{},options:{}},{active:!1,type:"auto",order:{recordedFormat:"",script:"",predefined:[]},fixedPositionFor:{},options:{}}],grouped:[{active:!1,randomized:{active:!1,type:"auto",fixedPositionFor:{},options:{},order:{recordedFormat:"",script:"",predefined:[]}},members:{}},{active:!1,randomized:{active:!1,type:"auto",fixedPositionFor:{},options:{},order:{recordedFormat:"",script:"",predefined:[]}},members:{}}],extraData:{oe:{}}},null,n)},ia=function(){var e=(0,Do.Z)();return new Mo.sU(e,"BlockContent",null,null,{type:"Block",list:[]})},aa=function(){var e=(0,Do.Z)();return new Mo.Vr(e,"ExecutionContent",null,null,{type:"Execution",executions:[]})},sa=function(){var e=(0,Do.Z)(),t={type:"Loop",options:ra(),logics:[],list:[],loopItemDisplay:{}};return new Mo.af(e,"LoopContent",null,null,t)},ca=function(){var e=(0,Do.Z)();return new Mo.tj(e,"LoopContent",null,null,{type:"Mark",markers:[],logics:[]})},la=function(){var e=(0,Do.Z)();return new Mo.Kj(e,"QuotaContent",null,null,{type:"Quota",markers:[],logics:[],quotas:{}})},ua=function(e,t){void 0===e&&(e="en"),void 0===t&&(t="");var n=(0,Do.Z)(),r=[];"string"==typeof t?r.push(na(t)):t.map((function(e){r.push(na(e))}));var o={type:"String",lan:e,list:new Mo.Gn("".concat((0,Do.Z)()),"TextList",null,{comment:"",task:""},r)};return new Mo.D7(n,"TextContent",null,{comment:""},o)},da=function(e,t,n){void 0===t&&(t=["ENG"]),void 0===n&&(n="");var r=(0,Do.Z)(),o={comment:"",task:"",instruction:na()},i={default:ua("en",n)};(t=t.filter((function(e){return"ENG"!==e}))).map((function(e){i[e]=ua(e.toLocaleLowerCase(),n)}));var a={code:e,text:i};return new Mo.BA(r,"OptionItem",null,o,a)},pa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},fa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},ha=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ma=function(e){var t="";e.list.forEach((function(e){(0,Ve.vT)(e)&&(t+=e.data.html)}));var n=document.createElement("div");return n.innerHTML=t,n.innerText},va=function(e){var t=[];for(var n in e){var r=e[n].title.text;if(r.includes("Group ")){var o=Number(r.replace("Group ",""));!isNaN(o)&&t.push(o)}}for(var i=1;t.includes(i);)i++;var a=(Array(3).join("0")+String(i)).slice(-3);return"Group ".concat(a)},xa=function(e,t){void 0===t&&(t=(0,Do.Z)());return{id:t,code:t,options:{},title:{text:va(e),script:null},groupColor:function(){var e,t,n="#",r=window.crypto.getRandomValues(new Uint8Array(3));try{for(var o=ha(r),i=o.next();!i.done;i=o.next()){var a=i.value;n+=(Array(2).join("0")+a.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n}(),order:{recordedFormat:"",script:"",predefined:[]}}};const ga="addButton_add",ja="addButton_add__disabled";var ya=function(){return ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ya.apply(this,arguments)};const Na=function(e){var t,n=e.content,o=e.disable,i=void 0!==o&&o,a=e.handleAdd;return(0,r.jsxs)("div",ya({className:u((t={},t[ga]=!0,t[ja]=i,t)),onClick:function(){!i&&a&&a()}},{children:[(0,r.jsx)(l.JO,{type:"plus"}),(0,r.jsx)("span",{children:n})]}))};var _a=function(){return _a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_a.apply(this,arguments)},ba=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Sa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Oa=function(e){var t,n=e.dimIndex,a=(0,L.$G)().t,s=Be(),d=ba((0,o.useState)(null),2),p=d[0],f=d[1],h=(0,i.useSelector)((function(e){return e.lanState.editLan})),m=(0,i.useSelector)((function(e){return e.lanState.lan})),v=(0,i.useDispatch)(),x=s.structure.content.content.options[n],g=s.structure.content.content.options[0].length,j=x.find((function(e){return e.id===p}));var y=function(e){void 0===e&&(e=0);var t=function(e,t,n){void 0===n&&(n=[]);var r=0,o=e.structure.content.content.options[t],i=o.filter((function(e){return(0,Ve.QU)(e)})),a=o.filter((function(e){return(0,Ve.I5)(e)}));if(i.forEach((function(e){a.push.apply(a,fa([],pa(e.list),!1))})),0===a.length)return da("".concat(r),n);for(var s=a.map((function(e){return e.data.code}));s.includes(String(r));)r++;return da("".concat(r),n)}(s,n,m);s.structure.content.content.options[n].splice(e+1,0,t),v(c.tV(s))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",_a({className:fi},{children:[(0,r.jsx)("div",_a({className:ji},{children:a("nodes.questionNode.".concat(0===n?"row":"col"))})),(0,r.jsxs)("div",_a({className:hi},{children:[(0,r.jsxs)("div",_a({className:vi},{children:[(0,r.jsx)(l.J2,_a({className:xi,show:!1,root:(0,r.jsx)(l.Jr,{})},{children:"若您想要启用组，请先在选项设置中取消勾选随机功能。"})),(0,r.jsx)("span",_a({className:u((t={},t[mi]=!1,t))},{children:a("nodes.questionNode.activeGroup")}))]})),(0,r.jsxs)("div",_a({className:gi},{children:[(0,r.jsx)("div",_a({className:yi,onClick:function(){}},{children:(0,r.jsx)(l.JO,{type:"setting"})})),(0,r.jsx)("div",_a({className:Ni,onClick:function(){}},{children:(0,r.jsx)(l.J2,_a({className:_i,root:(0,r.jsx)(l.JO,{type:"importIcon"})},{children:"Import Reusable List"}))})),(0,r.jsx)("div",_a({className:bi,onClick:function(){}},{children:(0,r.jsx)(l.J2,_a({className:_i,root:(0,r.jsx)(l.JO,{type:"save"})},{children:"Export Reusable List"}))}))]}))]}))]})),0===x.length&&(0,r.jsx)(Na,{content:a("nodes.questionNode.button.add"),disable:!g&&1===n,handleAdd:y}),(0,r.jsx)(Si.DndContext,_a({onDragEnd:function(e){var t=e.active,r=e.over;if((null==t?void 0:t.id)!==(null==r?void 0:r.id)){var o=x.findIndex((function(e){return e.id===t.id})),i=x.findIndex((function(e){return e.id===r.id})),a=(0,Oi.arrayMove)(x,o,i);s.structure.content.content.options[n]=a,v(c.tV(s))}},onDragStart:function(e){var t=e.active;t&&f(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,_a({items:x,strategy:Oi.verticalListSortingStrategy},{children:[x.map((function(e,t){return(0,r.jsx)("div",{children:(0,Ve.I5)(e)?(0,r.jsx)(Yi,{item:e,options:x,handleAddOption:function(){return y(t)},handleDeleteOption:function(){return t=e.id,r=x.filter((function(e){return e.id!==t})),s.structure.content.content.options[n]=Sa([],ba(r),!1),void v(c.tV(s));var t,r},handleCode:function(t){return function(e,t){e.data.code=t,v(c.tV(s))}(e,t)},handleChangeValue:function(t){return function(e,t){e.data.text[h].content.list.list=t,v(c.tV(s))}(e,t)}}):(0,r.jsx)(ta,{reusableList:e,handleEdit:function(){},handleTransition:function(){},handleDelete:function(){}})},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:j&&(0,r.jsx)(r.Fragment,{children:(0,Ve.I5)(j)?(0,r.jsx)(Yi,{item:j,options:x,hover:!0}):(0,r.jsx)(ta,{reusableList:j,hover:!0})})})]}))}),x.length)]})},Ca="questionNodeEdit_questionTextContainer",wa="questionNodeEdit_questionTextEdit",Ia="questionNodeEdit_nodesTag",ka="questionNodeEdit_optionInstruction",Aa="questionNodeEdit_optionInstructionEdit",Ta="switchType_container",Ea="switchType_KindSelectionList",Pa="switchType_select";const Ma=function(e){var t=e.node,n=e.type,o={Single:"singleChoiceUnselected",Multi:"multipleLinear",OpenEnd:"openEnd2",Numeric:"Numeric",BlockNode:"blockNodeLinear",LoopNode:"loopNode",ExecutionNode:"executionNode2",MarkNode:"markMode",QuotaNode:"quota",DisplayNode:"eyeOpen",ExitNode:"exitNode"};return(0,r.jsx)(l.JO,{type:n?o[n]:t?(0,Ve.hr)(t)?o[t.structure.content.content.type]:o[t.kind]:void 0})};var Da=function(){return Da=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Da.apply(this,arguments)},La=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const qa=function(){var e=La((0,o.useState)(!1),2),t=e[0],n=e[1],a=Be(),s=(0,i.useSelector)((function(e){return e.nodesState.orders})),u=s.rootOrder,d=s.nodeOrder,p=(0,i.useDispatch)(),f=(0,L.$G)().t,h=[{type:"Single",content:f("components.alertWindow.addUnderBlock.single")},{type:"Multi",content:f("components.alertWindow.addUnderBlock.multi")},{type:"OpenEnd",content:f("components.alertWindow.addUnderBlock.openEnd")},{type:"Numeric",content:f("components.alertWindow.addUnderBlock.numeric")}],m=a.structure.content.content.type;return(0,r.jsxs)("div",Da({tabIndex:-1,onBlur:function(){return n(!1)},onClick:function(){return n(!t)},className:Ta},{children:[(0,r.jsx)(Ma,{type:m}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(t?180:0,"deg)")}}),(0,r.jsx)(l.uT,Da({show:t},{children:(0,r.jsx)("div",Da({className:Ea},{children:h.map((function(e,t){return(0,r.jsxs)("div",Da({className:m===e.type?Pa:"",onClick:function(){return function(e){a.structure.content.content.type=e,d[a.id].kind=e,p(c.Cs({rootOrder:u,nodeOrder:d})),p(c.tV(a))}(e.type)}},{children:[(0,r.jsx)("div",{children:(0,r.jsx)(Ma,{type:e.type})}),e.content]}),t)}))}))}))]}))};var Fa=function(){return Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fa.apply(this,arguments)};const Ba=function(){var e=(0,L.$G)().t,t=(0,i.useSelector)((function(e){return e.lanState.editLan})),n=Be(),o=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(qa,{}),code:n.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsxs)("div",Fa({className:Ca},{children:[(0,r.jsx)("div",{children:e("nodes.questionNode.hint.text")}),(0,r.jsx)("div",Fa({className:wa},{children:(0,r.jsx)($o,{height:"30rem",placeholder:e("nodes.questionNode.placeholder.questionText"),value:n.structure.text[t].content.list.list,handleHtml:function(e){n.structure.text[t].content.list.list=e,o(c.tV(n))}})}))]})),(0,r.jsxs)("div",Fa({className:Ia},{children:[(0,r.jsx)(vr,{}),(0,r.jsxs)("div",Fa({className:ka},{children:[(0,r.jsx)("div",{children:e("nodes.questionNode.hint.optionInstruction")}),(0,r.jsx)("div",Fa({className:Aa},{children:(0,r.jsx)($o,{height:"4rem",padding:"0 1rem",value:n.structure.instruction[t].content.list.list,handleHtml:function(e){n.structure.instruction[t].content.list.list=e,o(c.tV(n))}})}))]}))]})),(0,r.jsx)(Oa,{dimIndex:0}),(0,r.jsx)(Oa,{dimIndex:1})]})},Va="questionIcon_icon",Ja="questionIcon_content",za="questionIcon_content_white";var Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ga.apply(this,arguments)};const Wa=function(e){var t,n=e.iconSize,o=void 0===n?"1.4rem":n,i=e.color,a=void 0===i?"black":i,s=e.left,c=void 0===s?5:s,d=e.width,p=void 0===d?"10rem":d,f=e.height,h=void 0===f?"4rem":f,m=e.content;return(0,r.jsx)(l.J2,Ga({root:(0,r.jsx)(l.JO,{type:"query",fontSize:o,className:Va}),direction:"horizontal",placement:"rc",offset:{x:c},className:u((t={},t[Ja]=!0,t[za]="white"===a,t))},{children:(0,r.jsx)("div",Ga({style:{width:p,height:h,wordBreak:"break-all"}},{children:m}))}))},Ra={questionNodeForm_title_title:"questionNodeForm_title_title",questionNodeForm_title_content:"questionNodeForm_title_content",optionItemHtml_container:"optionItemHtml_container",questionNodeForm_question:"questionNodeForm_question",questionNodeForm_question_title:"questionNodeForm_question_title",questionNodeForm_question_content:"questionNodeForm_question_content",questionNodeForm_output:"questionNodeForm_output",questionNodeForm_output_title:"questionNodeForm_output_title",questionNodeForm_output_content:"questionNodeForm_output_content",questionNodeForm_output_tip:"questionNodeForm_output_tip"};var Ha=function(){return Ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ha.apply(this,arguments)},Qa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ua=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Ya=function(){var e=Be(),t=Ge(),n=t.row,i=t.column,a=t.type,s=t.code,c=Qa((0,o.useState)([]),2),l=c[0],u=c[1],d=(0,L.$G)().t,p=Fe();(0,o.useEffect)((function(){var e=[],t=n.length>0&&0===i.length,r=n.length>0&&i.length>0,o="Multi"===a;if(t&&("Single"===a&&e.push({code:s,result:"null"}),["Multi","OpenEnd","Numeric"].includes(a)&&n.forEach((function(t){e.push({code:"".concat(s,"#").concat(t.data.code),result:o?"0":"null"})}))),r&&("Single"===a&&n.forEach((function(t){e.push({code:"".concat(s,"#").concat(t.data.code),result:"null"})})),["Multi","OpenEnd","Numeric"].includes(a))){var c=i;n.forEach((function(t){for(var n=0;n<c.length;n++)e.push({code:"".concat(s,"#").concat(t.data.code,"_").concat(c[n].data.code),result:o?"0":"null"})}))}u(e)}),[]);var f=n.length>0&&0===i.length,h=n.length>0&&i.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code,edit:!1}),(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_title},{children:[(0,r.jsx)("div",Ha({className:Ra.questionNodeForm_title_title},{children:d("nodes.questionNode.hint.text")})),(0,r.jsx)("div",Ha({className:Ra.questionNodeForm_title_content},{children:(0,r.jsx)(qe,{list:e.structure.text[p].content.list.list})}))]})),(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_question},{children:[(0,r.jsx)("div",Ha({className:Ra.questionNodeForm_question_title},{children:d("nodes.questionNode.respondentInput")})),(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_question_content},{children:[f&&"Single"===a&&(0,r.jsx)(St,{options:n,handleSelectOption:function(e){l[0].result=e,u(Ua([],Qa(l),!1))}}),f&&"Multi"===a&&(0,r.jsx)(Ue,{options:n,handleSelectOption:function(e){l.map((function(t){var n=t.code.replace("".concat(s,"#"),"");e.includes(n)?t.result="1":t.result="0"})),u(Ua([],Qa(l),!1))}}),f&&"OpenEnd"===a&&(0,r.jsx)(pt,{options:n,handleChangeValue:function(e,t){l[t].result=e,u(Ua([],Qa(l),!1))}}),f&&"Numeric"===a&&(0,r.jsx)(ot,{options:n,handleChangeValue:function(e,t){l[t].result=e,u(Ua([],Qa(l),!1))}}),h&&"Single"===a&&(0,r.jsx)(At,{row:n,column:i,handleSelectOption:function(e,t){l[t].result=String(e),u(Ua([],Qa(l),!1))}}),h&&"Multi"===a&&(0,r.jsx)(tt,{row:n,column:i,handleSelectOption:function(e,t){l.map((function(n){var r=n.code.replace("".concat(s,"#").concat(t.data.code,"_"),"");r.includes("#")||(e.includes(r)?n.result="1":n.result="0")})),u(Ua([],Qa(l),!1))}}),h&&"OpenEnd"===a&&(0,r.jsx)(jt,{row:n,column:i,handleChangeValue:function(e,t,n){l.map((function(r){r.code.includes("".concat(s,"#").concat(n.data.code,"_").concat(t))&&(r.result=e)})),u(Ua([],Qa(l),!1))}}),h&&"Numeric"===a&&(0,r.jsx)(ut,{row:n,column:i,handleChangeValue:function(e,t,n){l.map((function(r){r.code.includes("".concat(s,"#").concat(n.data.code,"_").concat(t))&&(r.result=e)})),u(Ua([],Qa(l),!1))}})]}))]})),(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_output},{children:[(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_output_title},{children:[(0,r.jsx)("span",{children:d("nodes.questionNode.output")}),(0,r.jsx)(Wa,{iconSize:"1.6rem",width:"25rem",height:"6rem",content:(0,r.jsxs)("div",Ha({className:Ra.questionNodeForm_output_tip},{children:[d("nodes.questionNode.hint.tip"),":",(0,r.jsx)("br",{}),"QuestionCode_LoopCode#OptionCode_DimensionCode@OpenendCode"]}))})]})),(0,r.jsx)("div",Ha({className:Ra.questionNodeForm_output_content},{children:(0,r.jsx)("div",Ha({className:Ra.FormCard_outputContentContainer},{children:l.map((function(e,t){return(0,r.jsx)("div",{children:(0,r.jsx)("div",Ha({style:{display:"inline-block"}},{children:(0,r.jsx)("div",Ha({className:Ra.FormCard_outputCode},{children:"".concat(e.code,": ").concat(e.result)}))}))},"".concat(t,"resultDemo"))}))}))}))]}))]})},Za="groupSettingsModal_container",Xa="groupSettingsModal_title",Ka="groupSettingsModal_optionsTitle",$a="groupSettingsModal_optionsTable",es="groupSettingsModal_head",ts="groupSettingsModal_head_options",ns="groupSettingsModal_head_groups",rs="groupSettingsModal_body",os="groupSettingsModal_hover",is="groupSettingsModal_options",as="groupSettingsModal_options_item",ss="groupSettingsModal_groups",cs="groupSettingsModal_scroll",ls="groupSettingsModal_defaultContainer",us="groupSettingsModal_defaultLine",ds="groupSettingsModal_defaultContent",ps="groupSettingsModal_defaultCodeWrap",fs="roupSettings_defaultTitle",hs="groupSettingsModal_addButton",ms="groupSettingsModal_btn",vs="groupSettingsModal_optionsScroll",xs={groupItem_container:"groupItem_container",groupItem_line:"groupItem_line",groupItem_title:"groupItem_title",groupItem_move:"groupItem_move",groupItem_setting:"groupItem_setting",groupItem_setting__select:"groupItem_setting__select",groupItem_setting__disable:"groupItem_setting__disable",groupItem_unfold:"groupItem_unfold",groupItem_icon_random:"groupItem_icon_random",groupItem_setting_groupName:"groupItem_setting_groupName",groupItem_item:"groupItem_item",groupItem_delete:"groupItem_delete",groupItem_item__disable:"groupItem_item__disable",groupItem_content:"groupItem_content",groupItem_dragArea:"groupItem_dragArea",moveGroupItem:"moveGroupItem"};var gs=function(e){var t=e.replace("#",""),n=[0,0,0];if(6===t.length)for(var r=0;r<3;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);else if(3===t.length){var o=t.split("");for(r=0;r<3;r++)n[r]=parseInt("".concat(o[r]).concat(o[r]),16)}return n.join(",")},js=function(){return js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},js.apply(this,arguments)},ys=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ns=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const _s=function(e){var t,n=e.member,a=e.reusableIds,s=e.dimIndex,c=e.handleMoveStart,d=e.handleMoveMove,p=ys((0,o.useState)(!1),2),f=p[0],h=p[1],m=ys((0,o.useState)(!1),2),v=(m[0],m[1],ys((0,o.useState)(!0),2)),x=v[0],g=v[1],j=Be(),y=(0,o.useRef)(null),N=((0,i.useDispatch)(),n.title.text),_=n.groupColor,b=n.order.predefined,S=x?b:[],O=j.structure.content.meta.grouped[s].members,C=(j.structure.content.meta.grouped[s].randomized.order.predefined,a.includes(n.id));j.structure.content.content.options[s];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",js({className:xs.groupItem_container,onMouseEnter:d},{children:[(0,r.jsx)("div",{className:xs.groupItem_line,style:{background:_}}),(0,r.jsxs)("div",js({className:xs.groupItem_title,style:{background:"rgba(".concat(gs(_),",0.1)")}},{children:[(0,r.jsx)(l.JO,{type:"move",className:xs.groupItem_move,onMouseDown:c}),(0,r.jsx)("div",js({className:u((t={},t[xs.groupItem_setting]=!0,t[xs.groupItem_setting__select]=f,t))},{children:(0,r.jsx)(l.JO,{type:"setting",onClick:function(){return h(!0)}})})),(0,r.jsx)("input",{type:"text",ref:y,className:xs.groupItem_setting_groupName,defaultValue:N,onBlur:function(e){var t=e.currentTarget.value;n.title.text=t,O[n.id]=n,j.structure.content.meta.grouped[s].members=js({},O)}}),(0,r.jsxs)("div",js({className:xs.groupItem_unfold},{children:[!!n.order.script&&(0,r.jsx)(l.JO,{type:"union",className:xs.groupItem_icon_random}),(0,r.jsx)(l.JO,{type:"dropdown",style:{transform:"rotate(".concat(x?180:0,"deg)")},onClick:function(){return g(!x)}})]}))]})),(0,r.jsx)("div",js({className:xs.groupItem_items},{children:S.map((function(e){var t;return(0,r.jsxs)("div",js({className:u((t={},t[xs.groupItem_item]=!0,t[xs.groupItem_item__disable]=C,t))},{children:[(0,r.jsx)(l.JO,{type:"move",className:xs.groupItem_move}),(0,r.jsx)("div",js({className:xs.groupItem_content},{children:(0,r.jsxs)("span",js({style:{color:_}},{children:[e," - "]}))})),(0,r.jsx)("div",js({className:xs.groupItem_delete},{children:(0,r.jsx)("span",js({onClick:function(){return function(e){Reflect.deleteProperty(n.options,e);var t=b.filter((function(t){return t!==e}));n.order.predefined=Ns([],ys(t),!1),O[n.id]=n,j.structure.content.meta.grouped[s].members=js({},O)}(e)}},{children:(0,r.jsx)(l.JO,{type:"union1"})}))}))]}),e)}))}))]}))})};var bs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ss=function(){var e=bs((0,o.useState)(window.innerWidth),2),t=e[0],n=e[1],r=(0,o.useRef)(0);return(0,o.useLayoutEffect)((function(){var e=function(){var e=r.current<1024&&window.innerWidth>=1024,t=r.current>=1024&&window.innerWidth<1024;(0===r.current||e||t)&&(n(window.innerWidth),r.current=window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t};var Os=function(){return Os=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Os.apply(this,arguments)},Cs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ws=function(e){var t=e.cache,n=void 0!==t&&t,i=e.animationType,a=void 0===i?"fade":i,s=e.custom,c=void 0===s||s,u=e.width,d=void 0===u?"auto":u,p=e.height,f=void 0===p?"auto":p,h=Cs(e,["cache","animationType","custom","width","height"]),m=Ss();return(0,o.useEffect)((function(){m<1024&&h.changeStatus&&h.changeStatus()}),[m]),h.status?(0,r.jsx)(l.bZ,Os({cache:n,animationType:a,custom:c,width:d,height:f},h)):null},Is=function(){return Is=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Is.apply(this,arguments)},ks=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},As=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ts=function(e){var t=e.status,n=e.dimIndex,a=e.handleCancel,s=Be(),c=ks((0,o.useState)(null),2),u=(c[0],c[1]),d=Fe();(0,i.useDispatch)();(0,o.useEffect)((function(){var e=JSON.parse(JSON.stringify(s));u(e)}),[]);var p=s.structure.content.content.options[n],f=p.filter((function(e){return"OptionItem"===e.kind})),h=p.filter((function(e){return"OptionList"===e.kind})),m=s.structure.content.meta.grouped[n],v=m.members,x=m.randomized.order.predefined,g=function(e,t){var n=[],r=[];for(var o in e)for(var i in e[o].options)r.push(e[o].options[i].code);return t.map((function(e){r.includes(e.data.code)||n.push(e)})),n}(v,f),j=function(e,t,n){var r=[],o={};for(var i in e)for(var a in e[i].options){var s=e[i].options[a].code;o[s]=e[i].groupColor}return t.map((function(e){var t=e.data.code,i=ma(e.data.text[n].content.list);t in o?r.push({code:t,content:i,color:o[t]}):r.push({code:t,content:i,color:"#757575"})})),r}(v,f,d),y=h.map((function(e){return e.id})),N=(0,L.$G)("",{keyPrefix:"components.alertWindow.groupSettings"}).t;return(0,r.jsx)(ws,Is({status:t,changeStatus:a},{children:(0,r.jsxs)("div",Is({className:Za},{children:[(0,r.jsxs)("div",Is({className:Xa},{children:[(0,r.jsx)(l.JO,{type:"setting"}),(0,r.jsx)("span",{children:N("title")})]})),(0,r.jsx)("div",Is({className:Ka},{children:(0,r.jsx)("span",{children:N("description")})})),(0,r.jsxs)("div",Is({className:$a},{children:[(0,r.jsxs)("div",Is({className:es},{children:[(0,r.jsx)("span",Is({className:ts},{children:N("options.optionsList")})),(0,r.jsx)("span",Is({className:ns},{children:N("options.newGroups")}))]})),(0,r.jsxs)("div",Is({className:rs},{children:[(0,r.jsx)("div",Is({className:is},{children:(0,r.jsx)(l.lg,Is({className:vs,defaultScrollTop:0,height:"28rem",width:"14rem"},{children:j.map((function(e,t){return(0,r.jsx)("div",Is({className:as,style:{color:e.color}},{children:(0,r.jsxs)("span",Is({className:os},{children:[e.code," - ",e.content]}))}),t)}))}))})),(0,r.jsxs)("div",Is({className:ss},{children:[(0,r.jsxs)(l.lg,Is({className:cs,defaultScrollTop:0,height:"24rem",width:"53.5rem"},{children:[(0,r.jsxs)("div",Is({className:ls},{children:[(0,r.jsx)("div",Is({className:fs},{children:N("defaultGroup")})),(0,r.jsx)("div",{className:us}),(0,r.jsx)("div",Is({className:ds},{children:g.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsx)("div",Is({className:ps},{children:(0,r.jsxs)("span",{children:[e.data.code," - ","",ma(e.data.text[d].content.list)]})}))},e.id)}))}))]})),x.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsx)(_s,{reusableIds:y,dimIndex:n,member:v[e]})},e)}))]})),(0,r.jsxs)("div",Is({className:hs,onClick:function(){var e=xa(v);v[e.id]=e,x.push(e.id),s.structure.content.meta.grouped[n].members=Is({},v),s.structure.content.meta.grouped[n].randomized.order.predefined=As([],ks(x),!1)}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),(0,r.jsx)("span",{children:N("button.add")})]}))]}))]}))]})),(0,r.jsxs)("div",Is({className:ms},{children:[(0,r.jsx)(l.zx,{height:"3.2rem",label:N("button.cancel"),size:"big",type:"primary",width:"9.5rem",onClick:a}),(0,r.jsx)(l.zx,{height:"3.2rem",label:N("button.update"),size:"small",type:"primary",width:"9.5rem",onClick:a})]}))]}))}))},Es=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ps=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ms=function(e){var t=Be(),n=t.structure.content.content.options[e],r=t.structure.content.meta.grouped[e],o=[],i=r.members,a=r.randomized.order.predefined,s=n.filter((function(e){return"OptionItem"===e.kind})),c=[];a.forEach((function(e){var t=n.find((function(t){return t.id===e})),r=i[e].groupColor,a=i[e].title.text;if(t)o.push({options:t,color:r,groupName:a});else{var l=[],u=i[e].order.predefined;u.forEach((function(e){var t=s.find((function(t){return t.data.code===e}));t&&l.push(t)})),l.length&&(o.push({options:l,color:r,groupName:a}),c.push.apply(c,Ps([],Es(u),!1)))}}));var l=s.filter((function(e){return!c.includes(e.data.code)}));return l.length&&(o=Ps([{options:l,color:"#000000",groupName:"Default Group"}],Es(o),!1)),o};const Ds={groupOption_container_drag:"groupOption_container_drag",groupOption_buttonIcon:"groupOption_buttonIcon",groupOption_drag_icon:"groupOption_drag_icon",groupOption_questionList_item:"groupOption_questionList_item",groupOption_buttonContainer:"groupOption_buttonContainer",groupOption_code:"groupOption_code",groupOption_contentContainer:"groupOption_contentContainer",scroll_scrollBody:"scroll_scrollBody",groupOption_optionSetting:"groupOption_optionSetting",groupOption_optionFixPosition:"groupOption_optionFixPosition",blockNode_list_nodesAdd:"blockNode_list_nodesAdd",groupOption_before:"groupOption_before"};var Ls=function(){return Ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ls.apply(this,arguments)};const qs=function(e){var t=e.item,n=(e.hover,e.handleChangeValue),a=e.handleAddOption,s=e.handleDeleteOption,c=(0,o.useRef)(null),u=(0,i.useSelector)((function(e){return e.lanState.editLan})),d="ENG"===u?"default":u;return(0,r.jsx)("div",Ls({className:Ds.groupOption_container},{children:(0,r.jsxs)("div",Ls({className:Ds.groupOption_questionList_item,ref:c},{children:[(0,r.jsxs)("div",Ls({className:Ds.groupOption_buttonContainer},{children:[(0,r.jsx)("span",Ls({className:Ds.groupOption_buttonIcon,onClick:a},{children:(0,r.jsx)(l.JO,{icon:Li})})),(0,r.jsx)("span",Ls({className:Ds.groupOption_drag_icon},{children:(0,r.jsx)(l.JO,{icon:Bi})})),(0,r.jsx)("span",Ls({className:Ds.groupOption_buttonIcon,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Fi})}))]})),(0,r.jsx)(Wi,{defaultCode:t.data.code}),(0,r.jsx)("div",Ls({className:Ds.groupOption_contentContainer},{children:(0,r.jsx)(Qi,{height:"4rem",isText:!0,isScript:!1,padding:"0 1.5rem",value:t.data.text[d].content.list.list,handleHtml:function(e){n&&n(e)}},d)}))]}))}))},Fs={groups_container:"groups_container",groups_row_title:"groups_row_title",groups_row_name:"groups_row_name",groups_row_setting:"groups_row_setting",groups_row_settingContent:"groups_row_settingContent",groups_groupItem:"groups_groupItem",questionOptionItem_optionSetting:"questionOptionItem_optionSetting",groups_groupItem_line:"groups_groupItem_line",groups_groupItem_name:"groups_groupItem_name"};var Bs=function(){return Bs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bs.apply(this,arguments)};const Vs=function(e){var t=e.title,n=e.groups,o=e.handleGroupSetting,i=(0,L.$G)("",{keyPrefix:"nodes.questionNode.group"}).t;return(0,r.jsxs)("div",Bs({className:Fs.groups_row},{children:[(0,r.jsxs)("div",Bs({className:Fs.groups_row_title},{children:[(0,r.jsxs)("div",Bs({className:Fs.groups_row_name},{children:[t,":"]})),(0,r.jsxs)("div",Bs({className:Fs.groups_row_setting,onClick:o},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"setting"})}),(0,r.jsx)("span",Bs({className:Fs.groups_row_settingContent},{children:i("groupSettings")}))]}))]})),n.map((function(e,t){var n=e.color,o=e.groupName,i=e.options;return Array.isArray(i)?(0,r.jsxs)("div",Bs({className:Fs.groups_groupItem,style:{background:"rgba(".concat(gs(n),",0.1)")}},{children:[(0,r.jsx)("div",{className:Fs.groups_groupItem_line,style:{borderColor:n}}),(0,r.jsx)("div",Bs({className:Fs.groups_groupItem_name,style:{color:n}},{children:o})),i.map((function(e){return(0,r.jsx)(qs,{item:e},"".concat(e.id,"_row_").concat(t))}))]}),"".concat(t,"_").concat(e.groupName)):(0,r.jsx)("div",{children:"555"},t)}))]}))},Js={};var zs=function(){return zs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zs.apply(this,arguments)},Gs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ws=function(){var e=Ms(0),t=Ms(1),n=Gs((0,o.useState)(!1),2),i=n[0],a=n[1],s=Gs((0,o.useState)(0),2),c=s[0],l=s[1],u=(0,L.$G)("",{keyPrefix:"nodes.questionNode.group"}).t,d=function(e){l(e),a(!0)};return(0,r.jsxs)("div",zs({className:Js.questionNodeGroups_container},{children:[(0,r.jsx)(Vs,{groups:e,title:u("row"),handleGroupSetting:function(){return d(0)}}),(0,r.jsx)(Vs,{groups:t,title:u("column"),handleGroupSetting:function(){return d(1)}}),(0,r.jsx)(Ts,{status:i,dimIndex:c,handleCancel:function(){return a(!1)}})]}))};const Rs=function(){var e=Be();return(0,r.jsx)("div",{children:(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code,edit:!1})})},Hs="relationCard_container",Qs="relationCard_content",Us="relationCard_content_drag",Ys="relation_left",Zs="relation_node",Xs="relation_left__center",Ks="relation_line",$s="relation_right";var ec=function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ec.apply(this,arguments)},tc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const nc=function(){var e,t,n=Be(),i=tc((0,o.useState)(1),2),a=i[0],s=i[1],c=tc((0,o.useState)({x:0,y:0}),2),d=c[0],p=c[1],f=tc((0,o.useState)(!1),2),h=f[0],m=f[1],v=(0,o.useRef)({x:0,y:0}),x=(0,o.useRef)({x:0,y:0}),g=["1","2","3"];return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:n}),code:n.structure.code,edit:!1}),(0,r.jsx)("div",ec({className:Hs},{children:(0,r.jsxs)("div",ec({className:u((e={},e[Qs]=!0,e[Us]=h,e)),style:{transform:"translate(".concat(d.x,"px, ").concat(d.y,"px) scale(").concat(a,")")},onWheel:function(e){return function(e){e.preventDefault(),e.deltaY<0?s(a+.2>=2?2:a+.2):s(a-.2<=1?1:a-.2)}(e)},onMouseMove:function(e){return function(e){if(h){var t=e.pageX-v.current.x,n=e.pageY-v.current.y;p({x:t+x.current.x,y:n+x.current.y})}}(e)},onMouseDown:function(e){v.current={x:e.pageX,y:e.pageY},x.current={x:d.x,y:d.y},m(!0)},onMouseUp:function(){return m(!1)}},{children:[(0,r.jsx)("div",ec({className:u((t={},t[Ys]=!0,t[Xs]=1===g.length,t))},{children:g.map((function(e,t){return(0,r.jsx)("div",ec({className:Zs},{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"singleChoiceUnselected"}),(0,r.jsx)("span",{children:"N1111"})]})}),t)}))})),(0,r.jsx)("div",{className:Ks}),(0,r.jsx)("div",ec({className:$s},{children:(0,r.jsx)("div",ec({className:Zs},{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"singleChoiceUnselected"}),(0,r.jsx)("span",{children:"N1111"})]})}))}))]}))}))]})};var rc=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const oc="blockOptionItem_itemContainer",ic="blockOptionItem_dragging",ac="blockOptionItem_isDragging",sc="blockOptionItem_buttonContainer",cc="blockOptionItem_button",lc="blockOptionItem_contentContainer",uc="blockOptionItem_jumpButton";var dc=function(e){return{type:b.K.UPDATE_TARGET,payload:e}},pc=function(e){return{type:b.K.UPDATE_STEP,payload:e}},fc=function(){return fc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fc.apply(this,arguments)};const hc=function(e){var t,n=e.nodeItem,o=e.dragging,a=void 0!==o&&o,s=e.handleAddUnderBlock,c=(0,L.$G)().t,d=(0,i.useDispatch)(),p=(0,Oi.useSortable)({id:n.id}),f=p.attributes,h=p.listeners,m=p.setNodeRef,v=p.transform,x=p.transition,g=p.isDragging,j=p.setActivatorNodeRef,y={transform:Di.CSS.Transform.toString(v),transition:x};return(0,r.jsxs)("div",fc({className:u((t={},t[oc]=!0,t[ic]=a,t[ac]=g,t)),ref:m,style:y},{children:[(0,r.jsxs)("div",fc({className:sc},{children:[(0,r.jsx)("div",fc({className:cc,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Li})})),(0,r.jsx)("div",fc({className:cc},f,h,{ref:j},{children:(0,r.jsx)(l.JO,{icon:Bi})}))]})),(0,r.jsxs)("div",fc({className:lc},{children:[(0,r.jsxs)("span",{children:[n.structure.code," - ".concat(n.kind)]}),(0,r.jsx)("div",fc({className:uc,onClick:function(){d(dc({type:"node",id:n.id}))}},{children:c("nodes.blockNode.button")}))]}))]}))},mc="blockNodes_nodesTag",vc="blockNodes_initAdd";var xc=function(){return xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xc.apply(this,arguments)},gc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const jc=function(){var e=gc((0,o.useState)(!1),2),t=(e[0],e[1]),n=rc(),a=(0,L.$G)().t,s=(0,i.useDispatch)(),u=gc((0,o.useState)(null),2),d=u[0],p=u[1],f=n.structure.content.content.list,h=0===f.length,m=f.find((function(e){return e.id===d}));return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",xc({className:mc},{children:"Nodes"})),h&&(0,r.jsxs)("div",xc({className:vc,onClick:function(){return t(!0)}},{children:[(0,r.jsx)(l.JO,{type:"plus"}),(0,r.jsxs)("span",{children:[" ",a("nodes.blockNode.add")]})]})),(0,r.jsx)(Si.DndContext,xc({onDragEnd:function(e){var t=e.active,r=e.over;if(t.id!==r.id){var o=f.findIndex((function(e){return e.id===t.id})),i=f.findIndex((function(e){return e.id===r.id})),a=(0,Oi.arrayMove)(f,o,i);n.structure.content.content.list=a,s(c.tV(n))}},onDragStart:function(e){var t=e.active;t&&p(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,xc({items:f,strategy:Oi.verticalListSortingStrategy},{children:[f.map((function(e){return(0,r.jsx)(hc,{nodeItem:e,handleAddUnderBlock:function(){return t(!0)}},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:m&&(0,r.jsx)(hc,{nodeItem:m,dragging:!0},m.id)})]}))}),f.length)]})};const yc=function(){var e=rc();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)(jc,{})]})};var Nc=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const _c="loopNodeItem_nodesContainer",bc="loopNodeItem_buttonContainer",Sc="loopNodeItem_dragging",Oc="loopNodeItem_isDragging",Cc="loopNodeItem_contentContainer",wc="loopNodeItem_jumpButton",Ic="loopNodeItem_button";var kc=function(){return kc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kc.apply(this,arguments)};const Ac=function(e){var t,n=e.nodeItem,o=e.dragging,a=void 0!==o&&o,s=e.handleAddNode,c=(0,i.useDispatch)(),d=(0,L.$G)().t,p=(0,Oi.useSortable)({id:n.id}),f=p.attributes,h=p.listeners,m=p.setNodeRef,v=p.transform,x=p.transition,g=p.isDragging,j=p.setActivatorNodeRef,y={transform:Di.CSS.Transform.toString(v),transition:x};return(0,r.jsxs)("div",kc({className:u((t={},t[_c]=!0,t[Sc]=a,t[Oc]=g,t)),ref:m,style:y},{children:[(0,r.jsxs)("div",kc({className:bc},{children:[(0,r.jsx)("div",kc({className:Ic,onClick:s},{children:(0,r.jsx)(l.JO,{icon:Li})})),(0,r.jsx)("div",kc({className:Ic},f,h,{ref:j,tabIndex:-1},{children:(0,r.jsx)(l.JO,{icon:Bi})}))]})),(0,r.jsxs)("div",kc({className:Cc},{children:["".concat(n.structure.code," - ").concat(n.kind),(0,r.jsx)("div",kc({className:wc,onClick:function(){c(dc({type:"node",id:n.id}))}},{children:d("nodes.loopNode.button")}))]}))]}))},Tc="loopNodes_nodesTag",Ec="loopNodes_nodesAdd";var Pc=function(){return Pc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pc.apply(this,arguments)},Mc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Dc=function(){var e=Mc((0,o.useState)(!1),2),t=(e[0],e[1]),n=Nc(),a=(0,L.$G)().t,s=Mc((0,o.useState)(null),2),u=s[0],d=s[1],p=(0,i.useDispatch)(),f=n.structure.content.content.list,h=f.find((function(e){return e.id===u}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Pc({className:Tc},{children:"Nodes"})),0===f.length&&(0,r.jsxs)("div",Pc({className:Ec,onClick:function(){return t(!0)}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),a("nodes.loopNode.addNode")]})),(0,r.jsx)(Si.DndContext,Pc({onDragEnd:function(e){var t=e.active,r=e.over;if(t.id!==r.id){var o=f.findIndex((function(e){return e.id===t.id})),i=f.findIndex((function(e){return e.id===r.id})),a=(0,Oi.arrayMove)(f,o,i);n.structure.content.content.list=a,p(c.tV(n))}},onDragStart:function(e){var t=e.active;t&&d(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,Pc({items:f,strategy:Oi.verticalListSortingStrategy},{children:[f.map((function(e){return(0,r.jsx)(Ac,{nodeItem:e,handleAddNode:function(){return t(!0)}},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:h&&(0,r.jsx)(Ac,{nodeItem:h,dragging:!0},h.id)})]}))}),f.length)]})})},Lc="loopOptionItem_nodesContainerLoop",qc="loopOptionItem_dragging",Fc="loopOptionItem_isDragging",Bc="loopOptionItem_optionButtonContainer",Vc="loopOptionItem_optionContentContainer";var Jc=function(){return Jc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jc.apply(this,arguments)};const zc=function(e){var t,n=e.optionItem,o=e.dragging,a=void 0!==o&&o,s=e.handleValidationCode,c=e.handleAddOption,l=e.handleDeleteOption,d=e.handleModifyContent,p=e.handleModifyCode,f=(0,i.useSelector)((function(e){return e.lanState.editLan})),h=(0,Oi.useSortable)({id:n.id}),m=h.attributes,v=h.listeners,x=h.setNodeRef,g=h.transform,j=h.transition,y=h.isDragging,N=h.setActivatorNodeRef,_=h.activeIndex,b=n.data.code,S={transform:Di.CSS.Transform.toString(g),transition:j};return(0,r.jsxs)("div",Jc({className:u((t={},t[Lc]=!0,t[qc]=a,t[Fc]=y,t)),ref:x,style:S},{children:[(0,r.jsxs)("div",Jc({className:Bc},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p,onClick:c})}),(0,r.jsx)("span",Jc({},m,v,{ref:N,tabIndex:-1},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4,onClick:l})})]})),(0,r.jsx)(Wi,{defaultCode:n.data.code,handleChangeCode:function(e){if(s){var t=e.currentTarget.value.trim();if(!s(t))return void(e.currentTarget.value=b);p&&p(t)}}}),(0,r.jsx)("div",Jc({className:Vc},{children:(0,r.jsx)(Qi,{height:"4rem",isText:_>=0,isScript:!1,padding:"0 1.5rem",value:n.data.text[f].content.list.list,handleHtml:function(e){d&&d(e)}},f)}))]}))},Gc="loopOptions_nodesTag",Wc="loopOptions_nodesAdd";var Rc=function(){return(0,i.useSelector)((function(e){return e.lanState.lan}))},Hc=function(e){var t=[];return e.forEach((function(e){t.push(e.data.code)})),t},Qc=function(e,t){var n=function(e){for(var t=0,n=Hc(e);n.includes(String(t));)t+=1;return String(t)}(e);return da(n,t)},Uc=function(){return Uc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Uc.apply(this,arguments)},Yc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Zc=function(){var e=Nc(),t=Rc(),n=Fe(),a=(0,L.$G)().t,s=(0,i.useDispatch)(),u=Yc((0,o.useState)(null),2),d=u[0],p=u[1],f=e.structure.content.content.options.list,h=f.find((function(e){return e.id===d})),m=function(e){var t=Hc(e);return function(e){return t.includes(e)}}(f);var v=function(n){void 0===n&&(n=-1);var r=Qc(f,t);-1===n?e.structure.content.content.options.list.push(r):e.structure.content.content.options.list.splice(n+1,0,r),s(c.tV(e))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Uc({className:Gc},{children:"Loop Item"})),0===f.length&&(0,r.jsxs)("div",Uc({className:Wc,onClick:function(){return v()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"plus"})}),a("nodes.loopNode.addItem")]})),(0,r.jsx)(Si.DndContext,Uc({onDragEnd:function(t){var n=t.active,r=t.over;if(n.id!==r.id){var o=f.findIndex((function(e){return e.id===n.id})),i=f.findIndex((function(e){return e.id===r.id})),a=(0,Oi.arrayMove)(f,o,i);e.structure.content.content.options.list=a,s(c.tV(e))}},onDragStart:function(e){var t=e.active;t&&p(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,Uc({items:f,strategy:Oi.verticalListSortingStrategy},{children:[f.map((function(t,o){return(0,r.jsx)(zc,{handleValidationCode:m,optionItem:t,handleAddOption:function(){return v(o)},handleDeleteOption:function(){return function(t){e.structure.content.content.options.list.splice(t,1),s(c.tV(e))}(o)},handleModifyContent:function(t){return function(t,r){f[r].data.text[n].content.list.list=t,s(c.tV(e))}(t,o)},handleModifyCode:function(t){return function(t,n){f[n].data.code=t,s(c.tV(e))}(t,o)}},t.id)})),(0,r.jsx)(Si.DragOverlay,{children:h&&(0,r.jsx)(zc,{optionItem:h,dragging:!0},h.id)})]}))}),f.length)]})};const Xc=function(){var e=Nc();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)(Zc,{}),(0,r.jsx)(Dc,{})]})};var Kc=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const $c="executionOptionItem_scriptItem",el="executionOptionItem_nodesContainer",tl="executionOptionItem_dragging",nl="executionOptionItem_isDragging",rl="executionOptionItem_buttonContainer",ol="executionOptionItem_button",il="executionOptionItem_contentContainer",al="executionOptionItem_jumpButton";var sl=function(){return sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sl.apply(this,arguments)};const cl=function(e){var t,n=e.optionItem,o=e.dragging,a=void 0!==o&&o,s=e.handleAddScript,c=e.handleDeleteScript,l=e.handleShowCog,d=e.handleChangeScriptName,p=(0,i.useSelector)((function(e){return e.scriptState.customScripts.idMap})),f=(0,L.$G)().t,h=((0,i.useDispatch)(),(0,Oi.useSortable)({id:n.id})),m=h.attributes,v=h.listeners,x=h.setNodeRef,g=h.transform,j=h.transition,y=h.isDragging,N=h.setActivatorNodeRef,_=p[n.id],b=n.arguments,S={transform:Di.CSS.Transform.toString(g),transition:j};return(0,r.jsx)("div",sl({className:u((t={},t[$c]=!0,t[tl]=a,t[nl]=y,t)),ref:x,style:S},{children:(0,r.jsxs)("div",sl({className:el},{children:[(0,r.jsxs)("div",sl({className:rl},{children:[(0,r.jsx)("div",sl({className:ol},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p,onClick:s})})),(0,r.jsx)("div",sl({className:ol},m,v,{ref:N},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsx)("div",sl({className:ol},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4,onClick:c})}))]})),(0,r.jsxs)("div",sl({className:il},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.b7W,onClick:l})}),(0,r.jsx)("input",{defaultValue:_,onBlur:function(e){var t=e.target.value;d&&d(t)}}),(0,r.jsxs)("div",sl({className:al},{children:[0!==b.length&&(0,r.jsx)("span",sl({onClick:l},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.CgH})})),(0,r.jsx)("div",sl({onClick:function(){}},{children:f("nodes.executionNode.editScript")}))]}))]}))]}))}))},ll="executionOptions_firstAdd";var ul=function(){return ul=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ul.apply(this,arguments)},dl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const pl=function(){var e=dl((0,o.useState)(!1),2),t=(e[0],e[1]),n=dl((0,o.useState)(0),2),a=(n[0],n[1]),s=Kc(),l=(0,L.$G)().t,u=(0,i.useDispatch)(),d=dl((0,o.useState)(null),2),p=d[0],f=d[1],h=s.structure.content.content.executions,m=h,v=m.find((function(e){return e.id===p}));var x=function(e){void 0===e&&(e=-1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[0===m.length&&(0,r.jsxs)("div",ul({className:ll,onClick:function(){return x()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.KtF})}),l("nodes.executionNode.add")]})),(0,r.jsx)(Si.DndContext,ul({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=m.findIndex((function(e){return e.id===t.id})),o=m.findIndex((function(e){return e.id===n.id})),i=(0,Oi.arrayMove)(m,r,o);s.structure.content.content.executions=i,u(c.tV(s))}},onDragStart:function(e){var t=e.active;t&&f(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,ul({items:m,strategy:Oi.verticalListSortingStrategy},{children:[m.map((function(e,n){return(0,r.jsx)(cl,{optionItem:e,handleAddScript:function(){return x(n)},handleDeleteScript:function(){return function(e){h.splice(e,1)}(n)},handleShowCog:function(){return function(e){a(e),t(!0)}(n)},handleChangeScriptName:function(t){e.id}},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:v&&(0,r.jsx)(cl,{optionItem:v,dragging:!0})})]}))}),m.length)]})})};const fl=function(){var e=Kc();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)(pl,{})]})};var hl=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const ml="markOptionItem_nodesContainer",vl="markOptionItem_buttonContainer",xl="markOptionItem_dragging",gl="markOptionItem_isDragging",jl="markOptionItem_button",yl="markOptionItem_contentContainer";var Nl=function(){return Nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nl.apply(this,arguments)};const _l=function(e){var t,n=e.optionItem,o=e.dragging,i=void 0!==o&&o,a=e.handleAddMark,s=e.handleDeleteMark,c=e.handleModifyMarkContent,l=(0,L.$G)().t,d=(0,Oi.useSortable)({id:n.id}),p=d.attributes,f=d.listeners,h=d.setNodeRef,m=d.transform,v=d.transition,x=d.isDragging,g=d.setActivatorNodeRef,j={transform:Di.CSS.Transform.toString(m),transition:v};return(0,r.jsxs)("div",Nl({className:u((t={},t[ml]=!0,t[xl]=i,t[gl]=x,t)),ref:h,style:j},{children:[(0,r.jsxs)("div",Nl({className:vl},{children:[(0,r.jsx)("div",Nl({className:jl},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p,onClick:a})})),(0,r.jsx)("div",Nl({className:jl},p,f,{ref:g},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsx)("div",Nl({className:jl},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4,onClick:s})}))]})),(0,r.jsxs)("div",Nl({className:yl},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.b7W})}),(0,r.jsx)("input",{type:"text",defaultValue:n.name,placeholder:l("nodes.markNode.addContent"),onChange:function(e){c&&c(e.currentTarget.value)}})]}))]}))},bl="markOptions_firstAdd";var Sl=function(){return Sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sl.apply(this,arguments)},Ol=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Cl=function(){var e=hl(),t=(0,i.useDispatch)(),n=(0,L.$G)().t,a=Ol((0,o.useState)(null),2),s=a[0],l=a[1],u=e.structure.content.content.markers,d=u.find((function(e){return e.id===s}));var p=function(n){void 0===n&&(n=-1);var r={id:(0,Do.Z)(),name:""};-1===n?e.structure.content.content.markers.push(r):e.structure.content.content.markers.splice(n+1,0,r),t(c.tV(e))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[0===u.length&&(0,r.jsxs)("div",Sl({className:bl,onClick:function(){return p()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.KtF})}),n("nodes.markNode.add")]})),(0,r.jsx)(Si.DndContext,Sl({onDragEnd:function(n){var r=n.active,o=n.over;if(r.id!==o.id){var i=u.findIndex((function(e){return e.id===r.id})),a=u.findIndex((function(e){return e.id===o.id})),s=(0,Oi.arrayMove)(u,i,a);e.structure.content.content.markers=s,t(c.tV(e))}},onDragStart:function(e){var t=e.active;t&&l(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,Sl({items:u,strategy:Oi.verticalListSortingStrategy},{children:[u.map((function(n,o){return(0,r.jsx)(_l,{optionItem:n,handleAddMark:function(){return p(o)},handleDeleteMark:function(){return function(n){e.structure.content.content.markers.splice(n,1),t(c.tV(e))}(o)},handleModifyMarkContent:function(n){!function(n,r){e.structure.content.content.markers[r].name=n,t(c.tV(e))}(n,o)}},n.id)})),(0,r.jsx)(Si.DragOverlay,{children:d&&(0,r.jsx)(_l,{optionItem:d,dragging:!0})})]}))}),u.length)]})})};const wl=function(){var e=hl();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)(Cl,{})]})};var Il=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id}));return(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]};const kl={quotaOptionItem_nodesItem:"quotaOptionItem_nodesItem",quotaOptionItem_nodesContainer:"quotaOptionItem_nodesContainer",quotaOptionItem_buttonContainer:"quotaOptionItem_buttonContainer",quotaOptionItem_button:"quotaOptionItem_button",quotaOptionItem_dragging:"quotaOptionItem_dragging",quotaOptionItem_isDragging:"quotaOptionItem_isDragging",quotaOptionItem_contentContainer:"quotaOptionItem_contentContainer",quotaOptionItem_jumpButton:"quotaOptionItem_jumpButton",quotaOptionItem_jumpButton_tip:"quotaOptionItem_jumpButton_tip",kite_body:"kite_body"};var Al=function(){return Al=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Al.apply(this,arguments)},Tl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const El=function(e){var t,n=e.optionItem,i=e.dragging,a=void 0!==i&&i,s=e.handleAddQuota,c=e.handleDeleteQuota,d=e.handleModifyQuotaContent,p=e.handleCong,f=Tl((0,o.useState)(!1),2),h=(f[0],f[1]),m=Il(),v=(0,L.$G)().t,x=(0,Oi.useSortable)({id:n.id}),g=x.attributes,j=x.listeners,y=x.setNodeRef,N=x.transform,_=x.transition,b=x.isDragging,S=x.setActivatorNodeRef,O=m.structure.content.content.quotas,C={transform:Di.CSS.Transform.toString(N),transition:_};return(0,r.jsx)("div",Al({className:u((t={},t[kl.quotaOptionItem_nodesItem]=!0,t[kl.quotaOptionItem_dragging]=a,t[kl.quotaOptionItem_isDragging]=b,t)),ref:y,style:C},{children:(0,r.jsxs)("div",Al({className:kl.quotaOptionItem_nodesContainer},{children:[(0,r.jsxs)("div",Al({className:kl.quotaOptionItem_buttonContainer},{children:[(0,r.jsx)("div",Al({className:kl.quotaOptionItem_button},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p,onClick:s})})),(0,r.jsx)("div",Al({className:kl.quotaOptionItem_button},g,j,{ref:S},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsx)("div",Al({className:kl.quotaOptionItem_button},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4,onClick:c})}))]})),(0,r.jsxs)("div",Al({className:kl.quotaOptionItem_contentContainer},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.b7W,onClick:p})}),(0,r.jsx)("input",{defaultValue:n.name,onChange:function(e){d&&d(e.currentTarget.value)}}),O[n.id]&&0!==O[n.id].number&&(0,r.jsxs)("div",Al({className:kl.quotaOptionItem_jumpButton},{children:[(0,r.jsxs)("span",Al({onClick:p},{children:[(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r$M}),(0,r.jsx)("span",{children:O[n.id].number})]})),(0,r.jsx)(l.J2,Al({className:kl.quotaOptionItem_jumpButton_tip,root:(0,r.jsx)("div",{onClick:function(){h(!0)},className:kl.quotaOptionItem_setGoto})},{children:v("nodes.quotaNode.hint.go")}))]}))]}))]}))}))},Pl="quotaOptions_firstAdd";var Ml=function(){return Ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ml.apply(this,arguments)},Dl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ll=function(){var e=Dl((0,o.useState)(""),2),t=(e[0],e[1]),n=Dl((0,o.useState)(!1),2),a=(n[0],n[1]),s=Il(),l=(0,L.$G)().t,u=(0,i.useDispatch)(),d=Dl((0,o.useState)(null),2),p=d[0],f=d[1],h=s.structure.content.content.markers,m=h.find((function(e){return e.id===p}));var v=function(e){void 0===e&&(e=-1);var t={name:"",id:(0,Do.Z)(),go_to_node:null};-1===e?s.structure.content.content.markers.push(t):s.structure.content.content.markers.splice(e+1,0,t),u(c.tV(s))};return(0,r.jsxs)("div",{children:[0===h.length&&(0,r.jsxs)("div",Ml({className:Pl,onClick:function(){return v()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.KtF})}),l("nodes.quotaNode.add")]})),(0,r.jsx)(Si.DndContext,Ml({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=h.findIndex((function(e){return e.id===t.id})),o=h.findIndex((function(e){return e.id===n.id})),i=(0,Oi.arrayMove)(h,r,o);s.structure.content.content.markers=i,u(c.tV(s))}},onDragStart:function(e){var t=e.active;t&&f(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,Ml({items:h,strategy:Oi.verticalListSortingStrategy},{children:[h.map((function(e,n){return(0,r.jsx)(El,{optionItem:e,handleAddQuota:function(){return v(n)},handleDeleteQuota:function(){return function(e,t){var n=s.structure.content.content,r=n.markers,o=n.quotas;r.splice(e,1),delete o[t],u(c.tV(s))}(n,e.id)},handleModifyQuotaContent:function(e){!function(e,t){s.structure.content.content.markers[t].name=e,u(c.tV(s))}(e,n)},handleCong:function(){return n=e.id,t(n),void a(!0);var n}},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:m&&(0,r.jsx)(El,{optionItem:m,dragging:!0})})]}))}),h.length)]})};const ql=function(){var e=Il();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:e}),code:e.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)(Ll,{})]})};const Fl="displayNode_nodesTag",Bl="displayNode_edit";var Vl=function(){return Vl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vl.apply(this,arguments)};const Jl=function(){var e,t=(e=(0,i.useSelector)((function(e){return e.editState.target.id})),(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]),n=Fe(),o=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:t}),code:t.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsx)("div",Vl({className:Fl},{children:"Display"})),(0,r.jsx)("div",Vl({className:Bl},{children:(0,r.jsx)($o,{height:"9rem",value:t.structure.text[n].content.list.list,handleHtml:function(e){t.structure.text[n].content.list.list=e,o(c.tV(t))}})}))]})};const zl="exitNode_displayText",Gl="exitNode_edit",Wl="exitNode_exitContainer",Rl="exitNode_exit",Hl="exitNode_exitStatus",Ql="select_selector",Ul="select_selector__select",Yl="select_dropDown",Zl="select_placeholder",Xl="select_list",Kl="select_item",$l="select_item__select",eu="select_searchInput",tu="select_searchInput_input",nu="select_searchInput__select",ru="select_loading";var ou=function(){return ou=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ou.apply(this,arguments)},iu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const au=function(e){var t,n,i,a=e.width,s=void 0===a?"52rem":a,c=e.height,d=void 0===c?"4rem":c,p=e.placeholder,f=e.value,h=e.showSearch,m=void 0!==h&&h,v=e.listWidth,x=void 0===v?s:v,g=e.labels,j=e.loading,y=e.styles,N=e.handleChange,_=iu((0,o.useState)(!1),2),b=_[0],S=_[1],O=iu((0,o.useState)(""),2),C=O[0],w=O[1],I=iu((0,o.useState)(!1),2),k=I[0],A=I[1];(0,o.useEffect)((function(){f&&f!==C&&w(f)}),[f]);var T=!!C,E=function(){if(C.trim()){var e=g.find((function(e){return e.id===C}));return e?(0,r.jsxs)(r.Fragment,{children:[e.pre,e.content]}):void 0}};return(0,r.jsx)(l.Sd,ou({root:(0,r.jsx)("div",ou({style:ou(ou({},y),{width:s})},{children:m?(0,r.jsx)("div",ou({className:eu,onFocus:function(){return S(!0)}},{children:(0,r.jsx)("input",{type:"text",value:C,placeholder:p,className:u((i={},i[tu]=!0,i[nu]=b,i)),onChange:function(e){var t=e.currentTarget.value;w(t),A(!0),N&&N(t)},onFocus:function(e){A(!0);var t=e.currentTarget.value;N&&N(t)},onBlur:function(){A(!1)}})})):(0,r.jsxs)("div",ou({className:u((t={},t[Ql]=!0,t[Ul]=b,t)),style:{height:d},onClick:function(){S(!b)}},{children:[(0,r.jsx)("div",ou({className:u((n={},n[Zl]=!T,n))},{children:T&&E()?E():p})),(0,r.jsx)(l.JO,{type:"dropdown",className:Yl,style:{transform:"rotate(".concat(b?180:0,"deg)")}})]}))})),show:b,placement:"lb",direction:"vertical",offset:{y:2},handleGlobalClick:function(e){e.isBtn||k||S(!1)}},{children:(0,r.jsx)("div",ou({className:Xl,style:{width:x}},{children:(0,r.jsx)(l.lg,ou({defaultScrollTop:0,height:"auto",width:"auto",style:{maxHeight:"29rem"}},{children:j?(0,r.jsx)("div",ou({className:ru},{children:"Loading"})):(0,r.jsxs)(r.Fragment,{children:[g.map((function(e,t){var n;return(0,r.jsx)("div",ou({className:u((n={},n[Kl]=!0,n[$l]=C===e.id,n)),onClick:function(){m?"string"==typeof e.content&&w(e.content):w(e.id),N&&N(e.id)}},{children:e.content}),t)})),0===g.length&&(0,r.jsx)("div",ou({className:ru},{children:"No data"}))]})}))}))}))};var su=function(){return su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},su.apply(this,arguments)};const cu=function(){var e,t=(e=(0,i.useSelector)((function(e){return e.editState.target.id})),(0,i.useSelector)((function(e){return e.nodesState.nodes}))[e]),n=(0,L.$G)().t,o=Fe(),a=(0,i.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(pi,{icon:(0,r.jsx)(Ma,{node:t}),code:t.structure.code}),(0,r.jsx)(ai,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",su({className:zl},{children:(0,r.jsx)("span",{children:n("nodes.exitNode.displayText")})})),(0,r.jsx)("div",su({className:Gl},{children:(0,r.jsx)($o,{value:t.structure.text[o].content.list.list,handleHtml:function(e){t.structure.text[o].content.list.list=e,a(c.tV(t))}})}))]}),(0,r.jsxs)("div",su({className:Wl},{children:[(0,r.jsx)("div",su({className:Rl},{children:n("nodes.exitNode.exit")})),(0,r.jsx)("div",su({className:Hl},{children:(0,r.jsx)(au,{placeholder:"please select...",width:"15.8rem",height:"2.5rem",styles:{marginTop:"0.8rem"},value:t.structure.setStatus,labels:[{id:"Screened Out",content:n("nodes.exitNode.screenedOut")},{id:"Quota Full",content:n("nodes.exitNode.quotaFull")},{id:"Complete",content:n("nodes.exitNode.complete")}],handleChange:function(e){t.structure.setStatus=e.toString(),a(c.tV(t))}})}))]}))]})};var lu=function(){return lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lu.apply(this,arguments)},uu={tagName:"Edit",iconName:"edit"},du={tagName:"Form",iconName:"form"},pu={tagName:"Relation",iconName:"openEnd"},fu={tagName:"Comment",iconName:"comment"},hu={tagName:"Groups",iconName:"icon_group"},mu={QuestionNode:[lu(lu({},uu),{children:(0,r.jsx)(Ba,{})}),lu(lu({},du),{children:(0,r.jsx)(Ya,{})}),lu(lu({},pu),{children:(0,r.jsx)(nc,{})}),lu(lu({},fu),{children:(0,r.jsx)(Rs,{})}),lu(lu({},hu),{children:(0,r.jsx)(Ws,{})})],BlockNode:[lu(lu({},uu),{children:(0,r.jsx)(yc,{})})],LoopNode:[lu(lu({},uu),{children:(0,r.jsx)(Xc,{})}),lu(lu({},fu),{children:(0,r.jsx)(Rs,{})})],ExecutionNode:[lu(lu({},uu),{children:(0,r.jsx)(fl,{})})],MarkNode:[lu(lu({},uu),{children:(0,r.jsx)(wl,{})})],QuotaNode:[lu(lu({},uu),{children:(0,r.jsx)(ql,{})})],DisplayNode:[lu(lu({},uu),{children:(0,r.jsx)(Jl,{})}),lu(lu({},pu),{children:(0,r.jsx)(nc,{})}),lu(lu({},fu),{children:(0,r.jsx)(Rs,{})})],ExitNode:[lu(lu({},uu),{children:(0,r.jsx)(cu,{})}),lu(lu({},pu),{children:(0,r.jsx)(nc,{})}),lu(lu({},fu),{children:(0,r.jsx)(Rs,{})})]},vu=function(){return vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vu.apply(this,arguments)};const xu=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=(0,i.useSelector)((function(e){return e.nodesState.nodes}));return(0,r.jsx)("div",vu({className:ur.content_container},{children:(0,r.jsx)(D,{tags:mu[t[e].kind]},e)}))},gu="reusableItem_container",ju="reusableItem_dragging",yu="reusableItem_isDragging",Nu="reusableItem_button";var _u=function(){return _u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_u.apply(this,arguments)};const bu=function(e){var t,n=e.optionItem,o=e.codes,i=e.dragging,a=void 0!==i&&i,s=e.handleAddAnOption,c=e.handleDeleteOption,l=e.handleModifyContent,d=e.handleModifyCode,p=Fe(),f=(0,Oi.useSortable)({id:n.id}),h=f.attributes,m=f.listeners,v=f.setNodeRef,x=f.transform,g=f.transition,j=f.isDragging,y=f.setActivatorNodeRef,N=n.data.code,_={transform:Di.CSS.Transform.toString(x),transition:g};return(0,r.jsxs)("div",_u({className:u((t={},t[gu]=!0,t[ju]=a,t[yu]=j,t)),ref:v,style:_},{children:[(0,r.jsxs)("div",_u({className:Nu},{children:[(0,r.jsx)("div",_u({onClick:s},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.r8p})})),(0,r.jsx)("div",_u({},h,m,{ref:y},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.g$q})})),(0,r.jsx)("div",_u({onClick:c},{children:(0,r.jsx)(Zi.FontAwesomeIcon,{icon:Xi.Kl4})}))]})),(0,r.jsx)(Wi,{defaultCode:N,handleChangeCode:function(e){var t=e.currentTarget.value.trim();t&&!o.includes(t)?d&&d(t):e.currentTarget.value=N}}),(0,r.jsx)($o,{isScript:!1,height:"4rem",value:n.data.text[p].content.list.list,handleHtml:function(e){return l&&l(e)}},p)]}))},Su="reusableEdit_contentContainer",Ou="reusableEdit_titleContainer",Cu="reusableEdit_textContainer",wu="reusableEdit_hint",Iu="reusableEdit_optionAdd";var ku=n(811),Au=function(){return Au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Au.apply(this,arguments)},Tu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Eu=function(){var e=Tu((0,o.useState)(null),2),t=e[0],n=e[1],a=(0,i.useSelector)((function(e){return e.editState.target.id})),s=(0,i.useSelector)((function(e){return e.reusableState.reusable})),c=(0,L.$G)().t,u=(0,i.useDispatch)(),d=Fe(),p=Rc(),f=s[a],h=f.data.list,m=h.find((function(e){return e.id===t}));var v=function(e){void 0===e&&(e=-1);var t=Qc(f.data.list,p);-1===e?f.data.list.push(t):f.data.list.splice(e+1,0,t),u(ku.VE(f))};return(0,r.jsxs)("div",Au({className:Su},{children:[(0,r.jsxs)("div",Au({className:Ou},{children:[(0,r.jsx)("div",{children:(0,r.jsx)(l.JO,{icon:Vi})}),(0,r.jsx)("input",{defaultValue:f.name,onBlur:function(e){var t=e.currentTarget.value;f.name=t,u(ku.VE(f))}})]})),(0,r.jsxs)("div",Au({className:Cu},{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{children:[c("nodes.reusableListNode.instruction")," "]}),(0,r.jsx)(l.J2,Au({className:wu,root:(0,r.jsx)(l.JO,{type:"query"})},{children:"You can describe something about programming. And it is text editor, howerver user should not be able to add script in it."}))]}),(0,r.jsx)($o,{height:"26.4rem",isScript:!1,value:f.data.editor.instruction.data.html,placeholder:"请在此处输入节点说明...",handleHtml:function(e){var t=e.map((function(e){return e.data.html})).join("");f.data.editor.instruction.data.html=t,u(ku.VE(f))}})]})),0===h.length&&(0,r.jsxs)("div",Au({className:Iu,onClick:function(){return v()}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{icon:Ji})}),(0,r.jsx)("span",{children:c("nodes.reusableListNode.button.add")})]})),(0,r.jsx)(Si.DndContext,Au({onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=h.findIndex((function(e){return e.id===t.id})),o=h.findIndex((function(e){return e.id===n.id})),i=(0,Oi.arrayMove)(h,r,o);f.data.list=i,u(ku.VE(f))}},onDragStart:function(e){var t=e.active;t&&n(t.id)}},{children:(0,r.jsxs)(Oi.SortableContext,Au({items:h,strategy:Oi.verticalListSortingStrategy},{children:[h.map((function(e,t){return(0,r.jsx)(bu,{codes:[],optionItem:e,handleModifyCode:function(e){return function(e,t){h[t].data.code=e,u(ku.VE(f))}(e,t)},handleModifyContent:function(e){return function(e,t){f.data.list[t].data.text[d].content.list.list=e,u(ku.VE(f))}(e,t)},handleAddAnOption:function(){return v(t)},handleDeleteOption:function(){return function(e){f.data.list.splice(e,1),u(ku.VE(f))}(t)}},e.id)})),(0,r.jsx)(Si.DragOverlay,{children:m&&(0,r.jsx)(bu,{codes:[],optionItem:m,dragging:!0})})]}))}),h.length)]}))};const Pu=function(){var e=(0,i.useSelector)((function(e){return e.editState.target.id})),t=[{tagName:"Edit",iconName:"edit",children:(0,r.jsx)(Eu,{})}];return(0,r.jsx)("div",{children:(0,r.jsx)(D,{tags:t},e)})},Mu="content_container";var Du=function(){return Du=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Du.apply(this,arguments)};const Lu=function(){var e=(0,i.useSelector)((function(e){return e.editState.target})),t=e.type,n=e.id;return(0,r.jsxs)("div",Du({className:Mu},{children:["node"===t&&!!n&&(0,r.jsx)(xu,{}),"builtInScript"===t&&!!n&&(0,r.jsx)(xn,{}),"customScript"===t&&!!n&&(0,r.jsx)(lr,{}),"reusable"===t&&!!n&&(0,r.jsx)(Pu,{})]}))};var qu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fu=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Bu=function(e){return e.structure.content.content.options.map((function(e){var t=[];return e.map((function(e){(0,Ve.I5)(e)?t.push(e):t.push.apply(t,Fu([],qu(e.list),!1))})),t.map((function(e){return{id:e.id,code:e.data.code}}))}))},Vu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Ju=function(){!function(){var e=(0,i.useSelector)((function(e){return e.nodesState.orders.nodeOrder})),t=(0,i.useSelector)((function(e){return e.nodesState.nodes})),n=[];for(var r in e){var o=t[r];if((0,Ve.hr)(o)){for(var a=e[r],s=a.id,c=a.kind,l=a.code,u=a.parent,d=Bu(o),p=[],f=u;f&&"LoopNode"===e[f].kind;)p.push(f),f=e[f].parent;n.push({id:s,type:c,code:l,options:d,loopNodesId:p})}}}();var e=ei(),t=Vu((0,o.useState)(""),2);t[0],t[1];return(0,o.useEffect)((function(){var t;0===[].length&&(t=e,(0,Ve.hr)(t)&&function(e){e.structure.condition,e.structure.content.content.optionsDisplay}(t),(0,Ve.u2)(t),(0,Ve.jp)(t),(0,Ve.bu)(t))}),[]),(0,r.jsx)("div",{})},zu="main_container";var Gu=function(){return Gu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gu.apply(this,arguments)};const Wu=function(){var e=(0,i.useSelector)((function(e){return e.editState.step})),t=(0,i.useSelector)((function(e){return e.editState.target})),n=t.type,o=t.id,a=(0,i.useSelector)((function(e){return e.nodesState.nodes})),s=(0,i.useDispatch)();return(0,r.jsxs)("div",Gu({className:zu},{children:[(0,r.jsx)(l.Rg,{pointSet:[{label:"content",func:function(){s(pc(b.g.CONTENT))}},{label:"logic",func:function(){s(pc(b.g.LOGIC))}},{label:"appearance",func:function(){"node"===n&&"QuestionNode"===a[o].kind&&s(pc(b.g.APPEARANCE))}}],step:e}),e===b.g.CONTENT&&(0,r.jsx)(Lu,{}),e===b.g.LOGIC&&(0,r.jsx)(Ju,{}),e===b.g.APPEARANCE&&(0,r.jsx)(rn,{})]}))},Ru="footer_container",Hu="footer_name",Qu="footer_modify",Uu="footer_version",Yu="footer_Saving",Zu="footer_Lan",Xu="footer_Saving_selected";var Ku=function(){return Ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ku.apply(this,arguments)},$u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const ed=function(){var e,t,n=$u((0,o.useState)(!1),2),i=n[0],a=n[1],s=$u((0,o.useState)(!1),2),c=s[0],l=s[1],d=(0,L.$G)("",{keyPrefix:"footer"}),p=d.t,f=d.i18n;return(0,r.jsxs)("div",Ku({className:Ru},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(bn,Ku({maxHeight:"6.8rem",minWidth:"14rem",maxWidth:"14rem",offsetY:-5,textAlign:"center",content:p("questionnaireName")},{children:(0,r.jsx)("div",Ku({className:Hu},{children:"survey_001"}))})),(0,r.jsx)(bn,Ku({maxHeight:"6.8rem",minWidth:"8.5rem",maxWidth:"8.5rem",offsetY:-5,textAlign:"center",content:p("version")},{children:(0,r.jsx)("div",Ku({className:Uu},{children:(0,r.jsx)("div",{children:"V2"})}))})),(0,r.jsx)(bn,Ku({maxHeight:"6.8rem",minWidth:"13.1rem",maxWidth:"13.1rem",offsetY:-5,textAlign:"center",content:p("savedTime")},{children:(0,r.jsx)("div",Ku({className:Qu},{children:"Last Saved 2022-09-22 12:14:20"}))}))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(bn,Ku({maxHeight:"6.8rem",minWidth:"15rem",maxWidth:"15rem",offsetY:-5,textAlign:"center",content:p("autoSaveTime")},{children:(0,r.jsx)("div",Ku({className:u((e={},e[Yu]=!0,e[Xu]=i,e)),onClick:function(){return a(!0)}},{children:(0,r.jsx)("span",{children:"2 min"})}))})),(0,r.jsx)(bn,Ku({show:!c,maxHeight:"6.8rem",minWidth:"12rem",maxWidth:"12rem",offsetY:-5,textAlign:"center",content:p("switchLan")},{children:(0,r.jsx)("div",Ku({className:u((t={},t[Zu]=!0,t[Xu]=c,t)),onClick:function(){return l(!c)},tabIndex:-1,onBlur:function(){return l(!1)}},{children:(0,r.jsx)("span",{children:"LANG"})}))}),f.language)]})]}))};var td="";["zh-HK","zh-TW","zh-CN"].includes(navigator.language);const nd=function(){(0,L.$G)().i18n;return(0,r.jsx)(l.vx,{systemName:"QEditor",language:"CN",handleLanguageChange:function(e){},handleSignOutClick:function(){var e;window.localStorage.removeItem(null!==(e={NODE_ENV:"production",BASENAME:"/"}.JWT)&&void 0!==e?e:"jwt"),window.location.replace(td)}})},rd="navigation_container",od="navigation_leftContainer",id="navigation_headerItem",ad="navigation_headerItem__select",sd="navigation_headerRight",cd="navigation_headerRight_taskReporting",ld="navigation_headerFile";var ud=function(){return ud=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ud.apply(this,arguments)},dd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pd=function(){var e=(0,L.$G)().t,t=dd((0,o.useState)(""),2),n=t[0],i=t[1],a=dd((0,o.useState)(!1),2),s=a[0],c=a[1];return(0,r.jsxs)("div",ud({className:rd},{children:[(0,r.jsx)("div",ud({className:od,tabIndex:-1,onBlur:function(){return i("")}},{children:["file","edit","view","workflow","window","help"].map((function(t){var o;return(0,r.jsxs)("div",ud({className:u((o={},o[id]=t!==n,o[ad]=t===n,o)),onMouseDown:function(){i(n&&n===t?"":t)}},{children:[e("pages.editPage.header.".concat(t,".label")),(0,r.jsx)("div",{className:ld,style:{display:n===t?"block":"none"}})]}),t)}))})),(0,r.jsxs)("div",ud({className:sd},{children:[(0,r.jsx)("div",ud({tabIndex:-1},{children:(0,r.jsx)(l.J2,ud({className:cd,root:(0,r.jsx)(l.JO,{type:"assign",onClick:function(){return c(!s)}})},{children:"Task Reporting"}))})),(0,r.jsx)("div",{})]}))]}))};const fd={collapse_panel_select:"collapse_panel_select",collapse_header:"collapse_header",collapse_hederContent:"collapse_hederContent",collapse_content:"collapse_content",collapse_arrow:"collapse_arrow",collapse_titleIcon:"collapse_titleIcon",collapse_LabelAddition:"collapse_LabelAddition"};var hd=function(){return hd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hd.apply(this,arguments)},md=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vd=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const xd=function(e){var t=e.defaultActiveKey,n=void 0===t?[]:t,i=e.handleChangeActiveKey,a=e.children,s=md((0,o.useState)((function(){return Array.isArray(n)?n:[n]})),2),c=s[0],d=s[1],p=(0,L.$G)().t,f={utilities:"qtree",tree:"qtree",inScript:"script1",script:"script1",reusable:"reusableList"},h=function(e){var t=[];return o.Children.forEach(e,(function(e){null!=e&&t.push(e)})),t}(a);return(0,r.jsx)("div",hd({className:fd.collapse_panel},{children:h.map((function(e,t){var n;return(0,r.jsxs)("div",hd({className:u((n={},n[fd.collapse_panel_select]=c.includes(null!=t?t:""),n))},{children:[(0,r.jsxs)("div",hd({className:fd.collapse_header,onClick:function(){return function(e){if(c.includes(null!=e?e:"")){var t=c.findIndex((function(t){return t===e}));-1!==t&&c.splice(t,1)}else c.push(e);d(vd([],md(c),!1)),i&&i(vd([],md(c),!1))}(t)}},{children:[(0,r.jsx)("span",hd({className:fd.collapse_arrow,style:{transform:"rotate(".concat(c.includes(null!=t?t:"")?90:0,"deg)")}},{children:(0,r.jsx)(l.JO,{type:"next"})})),(0,r.jsx)("span",hd({className:fd.collapse_titleIcon},{children:(0,r.jsx)(l.JO,{type:f[e.props.header]})})),(0,r.jsx)("span",hd({className:fd.collapse_hederContent},{children:p("pages.editPage.tagName.".concat(e.props.header))})),e.props.isAdd&&(0,r.jsx)("span",hd({className:fd.collapse_LabelAddition,onClick:function(t){t.stopPropagation(),e.props.handleAdd&&e.props.handleAdd()}},{children:(0,r.jsx)(l.JO,{type:"plus"})}))]})),(0,r.jsx)("div",hd({className:fd.collapse_content,onClick:function(e){return e.stopPropagation()}},{children:c.includes(null!=t?t:"")&&a&&a[t]}))]}),t)}))}))};const gd=function(e){return(0,r.jsx)(r.Fragment,{children:e.children})},jd="builtInScriptTree_item",yd="builtInScriptTree_item__select",Nd="builtInScriptTree_name";var _d=["checkAnsweredWithLoop","checkAnsweredWithoutLoop","checkOpenEndAnsweredWithLoop","checkOpenEndAnsweredWithoutLoop","findAnswerInQuestion","findAnswersContainsWithLoop","findAnswersContainsWithoutLoop","findAnswersDoesNotContainsWithLoop","findAnswersDoesNotContainsWithoutLoop","findAnswersIsNotWithLoop","findAnswersIsNotWithoutLoop","findAnswersIsWithLoop","findAnswersIsWithoutLoop"],bd=function(){return bd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bd.apply(this,arguments)};const Sd=function(){var e=function(){var e=(0,i.useSelector)((function(e){return e.scriptState.builtInScripts.data})),t={};return Object.keys(e).filter((function(e){return!_d.includes(e)})).forEach((function(n){t[n]=e[n]})),t}(),t=(0,i.useSelector)((function(e){return e.editState.target})),n=t.type,o=t.id,a=(0,i.useDispatch)();return(0,r.jsx)("div",{children:Object.keys(e).map((function(e){var t;return(0,r.jsxs)("div",bd({className:u((t={},t[jd]=!0,t[yd]="builtInScript"===n&&o===e,t)),onClick:function(){return a(dc({type:"builtInScript",id:e})),void a(pc(b.g.CONTENT))}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"script"})}),(0,r.jsx)("div",bd({className:Nd},{children:(0,r.jsx)("span",{children:e})}))]}),e)}))})};var Od=n(809);const Cd="addNodeModal_container",wd="addNodeModal_nodeName",Id="addNodeModal_list",kd="addNodeModal_errorMsg",Ad="addNodeModal_item",Td="addNodeModal_item_arrow",Ed="addNodeModal_item_nodeIcon",Pd="addNodeModal_item_nodeContent",Md="addNodeModal_item__select",Dd="addNodeModal_item_child",Ld="addNodeModal_item_child__select",qd="addNodeModal_buttons";var Fd=n(634),Bd=[{dataType:"string",schemaType:"matches",schemaRule:/^[0-9a-zA-Z\u4e00-\u9fa5]*$/,errorMessage:"only letter and number allowed"}],Vd=n(15),Jd=function(e,t,n){void 0===n&&(n=["ENG"]);var r=(0,Do.Z)(),o={comment:"",task:"",instruction:na()};n=n.filter((function(e){return"ENG"!==e}));var i={default:ua("en")},a={default:ua("en")};n.map((function(e){i[e]=ua(e.toLocaleLowerCase()),a[e]=ua(e.toLocaleLowerCase())}));var s={type:"optional",code:e,content:oa(t),text:i,instruction:a,condition:{true:!0,false:null},appearance:{plugin:{default:{name:"",settings:null,lan:{en:null}}}}};return new Vd.B7(r,"QuestionNode",{node_label:""},o,s)},zd=function(e,t,n){switch(void 0===n&&(n=["ENG"]),e){case"Single":return Jd(t,"Single",n);case"Multiple":return Jd(t,"Multi",n);case"Open End":return Jd(t,"OpenEnd",n);case"Numeric":return Jd(t,"Numeric",n);case"Block Node":return r=t,o=(0,Do.Z)(),i={comment:"",task:"",instruction:na()},a={code:r,content:ia(),condition:{true:null,false:null}},new Mo.CW(o,"BlockNode",{node_label:""},i,a);case"Loop Node":return function(e){var t=(0,Do.Z)(),n={comment:"",task:"",instruction:na()},r={code:e,content:sa(),condition:{true:null,false:null}};return new Mo.Io(t,"LoopNode",{node_label:""},n,r)}(t);case"Execution Node":return function(e){var t=(0,Do.Z)(),n={comment:"",task:"",instruction:na()},r={code:e,content:aa(),condition:{true:null,false:null}};return new Mo.xK(t,"ExecutionNode",{node_label:""},n,r)}(t);case"Mark Node":return function(e){var t=(0,Do.Z)(),n={comment:"",task:"",instruction:na()},r={code:e,content:ca(),condition:{true:null,false:null}};return new Mo.jW(t,"MarkNode",{node_label:""},n,r)}(t);case"Quota Node":return function(e){var t=(0,Do.Z)(),n={comment:"",task:"",instruction:na()},r={code:e,content:la(),condition:{true:null,false:null}};return new Mo.z3(t,"QuotaNode",{node_label:""},n,r)}(t);case"Display Node":return function(e,t){void 0===t&&(t=["ENG"]);var n=(0,Do.Z)(),r={comment:"",task:"",instruction:na()};t=t.filter((function(e){return"ENG"!==e}));var o={default:ua("en")};t.map((function(e){o[e]=ua(e.toLocaleLowerCase())}));var i={code:e,text:o,condition:{true:null,false:null}};return new Vd.rs(n,"DisplayNode",{node_label:""},r,i)}(t,n);case"Exit Node":return function(e,t){void 0===t&&(t=["ENG"]);var n=(0,Do.Z)(),r={comment:"",task:"",instruction:na()};t=t.filter((function(e){return"ENG"!==e}));var o={default:ua("en")};t.map((function(e){o[e]=ua(e.toLocaleLowerCase())}));var i={code:e,text:o,condition:{true:null,false:null},setStatus:"Complete"};return new Vd.F6(n,"ExitNode",{node_label:""},r,i)}(t,n)}var r,o,i,a},Gd=function(){return Gd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gd.apply(this,arguments)},Wd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Rd=function(e){var t=e.status,n=e.nodeId,a=e.position,s=void 0===a?"after":a,d=e.isBlock,p=void 0!==d&&d,f=e.handleCancel,h=Wd((0,o.useState)(""),2),m=h[0],v=h[1],x=Wd((0,o.useState)(!1),2),g=x[0],j=x[1],y=Wd((0,o.useState)(""),2),N=y[0],_=y[1],b=Wd((0,o.useState)(""),2),S=b[0],O=b[1],C=Rc(),w=(0,i.useSelector)((function(e){return e.nodesState.nodes})),I=(0,i.useSelector)((function(e){return e.nodesState.orders})),k=(0,L.$G)().t,A=(0,i.useDispatch)(),T=[{id:"Question Node",icon:"Single",content:k("pages.editPage.nodeSelection.nodes.question"),hint:k("pages.editPage.nodeSelection.tips.question"),child:[{id:"Single",content:k("components.alertWindow.addUnderBlock.single"),icon:"Single"},{id:"Multiple",content:k("components.alertWindow.addUnderBlock.multi"),icon:"Multi"},{id:"Open End",content:k("components.alertWindow.addUnderBlock.openEnd"),icon:"OpenEnd"},{id:"Numeric",content:k("components.alertWindow.addUnderBlock.numeric"),icon:"Numeric"}]},{id:"Block Node",content:k("pages.editPage.nodeSelection.nodes.block"),hint:k("pages.editPage.nodeSelection.tips.block"),icon:"BlockNode"},{id:"Loop Node",content:k("pages.editPage.nodeSelection.nodes.loop"),hint:k("pages.editPage.nodeSelection.tips.loop"),icon:"LoopNode"},{id:"Execution Node",content:k("pages.editPage.nodeSelection.nodes.execution"),hint:k("pages.editPage.nodeSelection.tips.execution"),icon:"ExecutionNode"},{id:"Mark Node",content:k("pages.editPage.nodeSelection.nodes.mark"),hint:k("pages.editPage.nodeSelection.tips.mark"),icon:"MarkNode"},{id:"Quota Node",content:k("pages.editPage.nodeSelection.nodes.quota"),hint:k("pages.editPage.nodeSelection.tips.quota"),icon:"QuotaNode"},{id:"Display Node",content:k("pages.editPage.nodeSelection.nodes.display"),hint:k("pages.editPage.nodeSelection.tips.display"),icon:"DisplayNode"},{id:"Exit Node",content:k("pages.editPage.nodeSelection.nodes.exit"),hint:k("pages.editPage.nodeSelection.tips.exit"),icon:"ExitNode"}];return(0,r.jsx)(ws,Gd({status:t,hiddenCloseIcon:!0},{children:(0,r.jsxs)("div",Gd({className:Cd},{children:[(0,r.jsxs)("div",Gd({className:wd},{children:[(0,r.jsx)("span",{children:k("components.alertWindow.addUnderBlock.label")}),(0,r.jsx)(l.Ny,{width:"21.1rem",height:"3.6rem",placeholder:k("components.alertWindow.addUnderBlock.placeholder"),handleInputOnChange:_})]})),(0,r.jsx)("div",Gd({className:kd},{children:S})),(0,r.jsx)("div",Gd({className:Id},{children:T.map((function(e){var t;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",Gd({className:u((t={},t[Ad]=!0,t[Md]=e.id===m,t)),onClick:function(){e.child?j(!g):v(e.id)}},{children:[(0,r.jsx)("span",Gd({className:Td,style:{transform:"rotate(".concat(g?90:0,"deg)")}},{children:e.child&&(0,r.jsx)(l.JO,{type:"next"})})),(0,r.jsx)("span",Gd({className:Ed},{children:(0,r.jsx)(Ma,{type:e.icon})})),(0,r.jsx)("span",Gd({className:Pd},{children:e.content})),(0,r.jsx)(Wa,{content:e.hint,width:"20rem",color:"white"})]})),e.child&&g&&(0,r.jsx)("div",{children:e.child.map((function(e){var t;return(0,r.jsxs)("div",Gd({className:u((t={},t[Dd]=!0,t[Ld]=e.id===m,t)),onClick:function(){v(e.id)}},{children:[(0,r.jsx)("span",Gd({className:Ed},{children:(0,r.jsx)(Ma,{type:e.icon})})),(0,r.jsx)("span",Gd({className:Pd},{children:e.content}))]}),e.content)}))})]},e.content)}))})),(0,r.jsxs)("div",Gd({className:qd},{children:[(0,r.jsx)("div",Gd({onClick:f},{children:k("pages.editPage.alert.button.exit")})),(0,r.jsx)("div",Gd({onClick:function(){var e,t,r=""===(t=N).trim()?{status:!1,msg:"Node name cannot be null"}:(0,Fd.X)(t.trim(),Bd).status?{status:!0}:{status:!1,msg:"This field only allows letters and numbers"};if(r.status){var o=zd(m,N,C);if(o){if(w[o.id]=o,A(c.vG(w)),n)if(p);else{var i=I.nodeOrder[n];if(i.parent)var a=I.nodeOrder[i.parent].children.findIndex((function(e){return e===n}));else{var l=o.id,u=o.kind,d=o.structure.code;w[l]=o;var h=u;(0,Ve.hr)(o)&&(h=o.structure.content.content.type),I.nodeOrder[l]={id:l,kind:h,parent:"",code:d,fold:!1,children:[]};a=I.rootOrder.findIndex((function(e){return e===n}));I.rootOrder.splice(a+("after"===s?1:0),0,l),A(c.Cs(Gd({},I)))}}else;f&&f()}}else O(null!==(e=r.msg)&&void 0!==e?e:"")}},{children:k("pages.editPage.alert.button.create")}))]}))]}))}))};const Hd="deleteNodeModal_container",Qd="deleteNodeModal_content",Ud="deleteNodeModal_btn";var Yd=function(){return Yd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yd.apply(this,arguments)},Zd=function(e){var t,n,o,a=e.status,s=e.id,u=e.handleClose,d=(0,L.$G)("",{keyPrefix:"components.alertWindow.deleteNode"}).t,p=(0,i.useSelector)((function(e){return e.nodesState.nodes})),f=(0,i.useSelector)((function(e){return e.nodesState.orders})),h=(0,i.useDispatch)();return(0,r.jsx)(ws,Yd({status:a,changeStatus:u},{children:(0,r.jsxs)("div",Yd({className:Hd},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.JO,{type:"warning",color:"#FF3D4A"}),(0,r.jsx)("span",{children:d("title")})]}),(0,r.jsxs)("div",Yd({className:Qd},{children:[(0,r.jsx)("span",{children:d("hint")}),(0,r.jsxs)("span",{children:["“",null===(n=null===(t=p[s])||void 0===t?void 0:t.structure)||void 0===n?void 0:n.code,"(",null===(o=p[s])||void 0===o?void 0:o.kind,")” ."]})]})),(0,r.jsxs)("div",Yd({className:Ud},{children:[(0,r.jsx)(l.zx,{type:"secondary",label:d("button.cancel"),width:"6.9rem",onClick:u}),(0,r.jsx)(l.zx,{type:"primary",label:d("button.confirm"),width:"6.9rem",onClick:function(){var e=f.nodeOrder[s].parent;if(e){h(dc({type:"node",id:e}));var t=f.nodeOrder[e].children.filter((function(e){return e!==s}));f.nodeOrder[e].children=t}else{var n=f.rootOrder.length;if(n>1){var r=f.rootOrder.findIndex((function(e){return e===s}));h(dc(r===n-1?{type:"node",id:f.rootOrder[0]}:{type:"node",id:f.rootOrder[r+1]}))}else dc({type:"null",id:""});Reflect.deleteProperty(f.nodeOrder,s),f.rootOrder=f.rootOrder.filter((function(e){return e!==s}))}h(c.Cs(Yd({},f))),u&&u()}})]}))]}))}))};const Xd="nodeTreeItem_item",Kd="nodeTreeItem_item_arrow",$d="nodeTreeItem_item_icon",ep="nodeTreeItem_item_content",tp="nodeTreeItem_item_more",np="nodeTreeItem_item_more__select",rp="nodeTreeItem_item_ident",op="nodeTreeItem_item__select",ip="nodeTreeItem_Icon_tip",ap="portal_mask",sp="portal_box";var cp=function(){return cp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cp.apply(this,arguments)},lp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const up=function(e){var t=e.children,n=e.handleClose,i=lp((0,o.useState)(0),2),a=i[0],s=i[1],c=lp((0,o.useState)(0),2),l=c[0],u=c[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",cp({ref:function(e){if(e){var t=e.getBoundingClientRect();s(t.top),u(t.left)}}},{children:(0,r.jsx)("div",{className:ap,onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}})})),jr.createPortal((0,r.jsx)("div",cp({style:{top:a,left:l},className:sp,onClick:function(e){return e.stopPropagation()}},{children:t})),document.body)]})},dp="dropDownMenu_container",pp="dropDownMenu_box",fp="dropDownMenu_add",hp="dropDownMenu_box_item";var mp=function(){return mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mp.apply(this,arguments)};const vp=function(e){var t=e.addNodeBefore,n=e.addNodeAfter,o=e.deleteNode,i=e.handleClose,a=(0,L.$G)("",{keyPrefix:"pages.editPage.nodeSelection.options"}).t;return(0,r.jsx)("div",mp({className:dp,onMouseDown:function(e){return e.stopPropagation()}},{children:(0,r.jsxs)("div",mp({className:pp},{children:[(0,r.jsxs)("div",mp({className:hp},{children:[(0,r.jsx)("span",{children:a("add")}),(0,r.jsxs)("div",mp({className:fp,onClick:i},{children:[(0,r.jsx)("div",mp({className:hp,onClick:t},{children:(0,r.jsx)("span",{children:a("before")})})),(0,r.jsx)("div",mp({className:hp,onClick:n},{children:(0,r.jsx)("span",{children:a("after")})}))]}))]})),(0,r.jsx)("div",mp({className:hp,onClick:o},{children:(0,r.jsx)("span",{children:a("delete")})}))]}))}))};var xp=function(){return xp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xp.apply(this,arguments)},gp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jp=function(e){var t=e.list,n=e.indent,a=void 0===n?1:n,s=e.handleAddNode,d=e.handleDeleNode,p=gp((0,o.useState)(-1),2),f=p[0],h=p[1],m=(0,i.useSelector)((function(e){return e.nodesState.orders})),v=m.rootOrder,x=m.nodeOrder,g=(0,i.useSelector)((function(e){return e.editState.target.id})),j=(0,i.useDispatch)();return(0,r.jsx)("div",{children:t.map((function(e,t){var n,i;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",xp({className:u((n={},n[Xd]=!0,n[op]=e===g,n)),onClick:function(){return function(e){j(pc(b.g.CONTENT)),j(dc({type:"node",id:e}))}(e)}},{children:[new Array(a).fill(0).map((function(e,t){return(0,r.jsx)("div",{className:rp},t)})),(0,r.jsx)("span",xp({className:Kd},{children:x[e].children.length>0&&(0,r.jsx)(l.JO,{type:"next",style:{transform:"rotate(".concat(x[e].fold?90:0,"deg)")},onClick:function(t){return function(e,t){x[t].fold=!x[t].fold,j(c.Cs({rootOrder:v,nodeOrder:x})),e.stopPropagation()}(t,e)}})})),(0,r.jsx)("span",xp({className:$d},{children:(0,r.jsx)(l.J2,xp({className:ip,root:(0,r.jsx)(Ma,{type:x[e].kind})},{children:x[e].kind}))})),(0,r.jsxs)("span",xp({className:ep,title:"".concat(x[e].code," - ").concat(x[e].kind)},{children:[x[e].code," - ",x[e].kind]})),(0,r.jsx)("span",xp({className:u((i={},i[tp]=!0,i[np]=f===t,i)),onClick:function(){return function(e){h(e)}(t)}},{children:(0,r.jsx)(l.JO,{type:"moreHorizontal",fontSize:"0.4rem"})})),f===t&&(0,r.jsx)(up,xp({handleClose:function(){return h(-1)}},{children:(0,r.jsx)(vp,{addNodeBefore:function(){return function(e){s&&s(e,"before")}(e)},addNodeAfter:function(){return function(e){s&&s(e,"after")}(e)},deleteNode:function(){return function(e){d&&d(e),h(-1)}(e)},handleClose:function(){return h(-1)}})}))]})),x[e].fold&&x[e].children.length>0&&(0,r.jsx)(jp,{list:x[e].children,indent:a+1})]},e)}))})},yp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Np=function(){var e=yp((0,o.useState)(!1),2),t=e[0],n=e[1],a=yp((0,o.useState)(""),2),s=a[0],c=a[1],l=yp((0,o.useState)("before"),2),u=l[0],d=l[1],p=yp((0,o.useState)(!1),2),f=p[0],h=p[1],m=function(){var e=(0,i.useSelector)((function(e){return e.nodesState.orders})),t=e.rootOrder,n=e.nodeOrder;return t.filter((function(e){return!Od.bT.includes(n[e].code)}))}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(jp,{list:m,handleAddNode:function(e,t){n(!0),c(e),d(t)},handleDeleNode:function(e){h(!0),c(e)}}),(0,r.jsx)(Rd,{status:t,nodeId:s,position:u,handleCancel:function(){return n(!1)}}),(0,r.jsx)(Zd,{status:f,id:s,handleClose:function(){return h(!1)}})]})},_p="reusableListTree_item",bp="reusableListTree_itemDelete",Sp="reusableListTree_item__select";var Op=function(){return Op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Op.apply(this,arguments)};const Cp=function(){var e=(0,i.useSelector)((function(e){return e.reusableState.reusable})),t=(0,i.useSelector)((function(e){return e.editState.target})),n=t.id,o=t.type,a=(0,i.useDispatch)();return(0,r.jsx)("div",{children:Object.keys(e).map((function(t){var i;return(0,r.jsxs)("div",Op({className:u((i={},i[_p]=!0,i[Sp]="reusable"===o&&n===t,i)),onClick:function(){return e=t,a(pc(b.g.CONTENT)),void a(dc({type:"reusable",id:e}));var e}},{children:[(0,r.jsx)(l.JO,{type:"reusable"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e[t].name}),(0,r.jsx)(l.JO,{type:"dustbin",className:bp})]})]}),t)}))})},wp="scriptTree_item",Ip="scriptTree_item__select",kp="scriptTree_name",Ap="ScriptTree_label_draft",Tp="ScriptTree_label_verified";var Ep=function(){return Ep=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ep.apply(this,arguments)};const Pp=function(){var e=(0,i.useSelector)((function(e){return e.editState.target})),t=e.type,n=e.id,o=(0,i.useSelector)((function(e){return e.scriptState.customScripts.data})),a=(0,i.useDispatch)();return(0,r.jsx)("div",{children:Object.keys(o).map((function(e){var i;return(0,r.jsxs)("div",Ep({className:u((i={},i[wp]=!0,i[Ip]="customScript"===t&&n===e,i)),onClick:function(){return t=e,a(pc(b.g.CONTENT)),void a(dc({type:"customScript",id:t}));var t}},{children:[(0,r.jsx)("span",{children:(0,r.jsx)(l.JO,{type:"script"})}),(0,r.jsxs)("div",Ep({className:kp},{children:[(0,r.jsx)("span",{children:e}),"draft"===o[e].data.status?(0,r.jsx)("div",Ep({className:Ap},{children:(0,r.jsx)("span",{children:"draft"})})):(0,r.jsx)("div",Ep({className:Tp},{children:(0,r.jsx)("span",{children:"verified"})}))]}))]}),e)}))})},Mp="sidebar_container";var Dp=function(){return Dp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dp.apply(this,arguments)};const Lp=function(){return(0,r.jsx)(j,Dp({position:"left",className:Mp},{children:(0,r.jsxs)(xd,{children:[(0,r.jsx)(gd,{header:"utilities"}),(0,r.jsx)(gd,Dp({header:"tree"},{children:(0,r.jsx)(Np,{})})),(0,r.jsx)(gd,Dp({header:"inScript"},{children:(0,r.jsx)(Sd,{})})),(0,r.jsx)(gd,Dp({header:"script"},{children:(0,r.jsx)(Pp,{})})),(0,r.jsx)(gd,Dp({header:"reusable"},{children:(0,r.jsx)(Cp,{})}))]})}))};var qp=function(){return qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qp.apply(this,arguments)};const Fp=function(){var e=(0,i.useDispatch)();return(0,o.useEffect)((function(){e(c.OF())}),[]),(0,r.jsxs)(s,{children:[(0,r.jsx)(nd,{}),(0,r.jsx)(pd,{}),(0,r.jsxs)(s,qp({direction:"row"},{children:[(0,r.jsx)(Lp,{}),(0,r.jsx)(Wu,{}),(0,r.jsx)(_,{})]})),(0,r.jsx)(ed,{})]})}}}]);